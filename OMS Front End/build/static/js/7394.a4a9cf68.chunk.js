"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7394],{27394:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var i=n(27565),a=n(19921),l=n(15335),o=n(79663);const s={initialState:{responsibleUserId:""},formFields:[{id:"responsibleUserId",lable:"Responsible User ",Field_Name:"Responsible User",fieldType:l.Q.SELECT,dataField:"responsibleUserId",fieldSetting:{placeholder:"Select Responsible User",isEnableOnChange:!0,isDisabled:!1},style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 col-12 mb-input"},validation:[{type:"require"}]}],formSetting:{isViewOnly:!1}},r={columns:[{name:"functionality Name",fieldName:"functionalityName",colStyle:{width:"40%"},allowShort:!0},{name:"responsible User Name",fieldName:"responsibleUserName",colStyle:{width:"40%"},allowShort:!0},{name:"Action",colStyle:{width:"20%"},colType:o.f.ACTION,defaultAction:{allowDelete:!0}}]};var c=n(18637),d=n(60497),u=n(5022),m=n(37792),p=n(58412),g=n(96603),f=n(32813),b=n(65748),y=n(27929);const x=e=>{const t=(0,i.useRef)(),[n,a]=(0,i.useState)(s),[l,{isSuccess:o,data:r}]=(0,u.KJ)(),[x,{isLoading:h,isSuccess:S,data:I}]=(0,g.FJ)();(0,i.useEffect)((()=>{l()}),[]),(0,i.useEffect)((()=>{if(o&&r){const e=r.filter((e=>null===e.roleName||!m.hN.map((e=>e.toLowerCase())).includes(e.roleName.toLowerCase()))),t=Array.from(new Map(e.map((e=>[e.fullName,e]))).values());(0,p.Xh)(t,"userId","fullName",s,"responsibleUserId")}}),[o,r]),(0,i.useEffect)((()=>{if(S&&I){if(I.errorMessage.includes("exists"))return b.A.warning(I.errorMessage),void C();b.A.success(I.errorMessage),C(),e.onGetData()}}),[S,I]);(0,i.useEffect)((()=>{(0,f.t)(n,a,null)}),[e.isOpen]);const C=()=>{(0,f.t)(n,a,null),e.onClose()};return(0,y.jsxs)("div",{className:"row mt-2 add-address-form",children:[(0,y.jsx)(c.A,{config:n,ref:t}),(0,y.jsx)("div",{className:"col-md-12 mt-2",children:(0,y.jsxs)("div",{className:"d-flex align-item-end justify-content-end",children:[(0,y.jsx)(d.A,{buttonTypeClassName:"theme-button",buttonText:"Save",onClick:()=>{const n=t.current.getFormData();if(n){let t={...n,functionalityId:e.functionalityId?e.functionalityId:0,responsibleUserId:n.responsibleUserId&&"object"===typeof n.responsibleUserId?n.responsibleUserId.value:n.responsibleUserId};x(t)}},isLoading:h}),(0,y.jsx)(d.A,{buttonTypeClassName:"dark-btn ml-5",buttonText:"Cancel",onClick:C})]})})]})};var h=n(80889),S=n(62360);const I=e=>{const t=(0,i.useRef)(),{confirm:n}=(0,h.A)(),[a,l]=(0,i.useState)(),[o,s]=(0,i.useState)(0),[c,{isLoading:d,isSuccess:u,data:m}]=(0,g.hI)(),[p,{isSuccess:f,data:x}]=(0,g.d1)(),I=(t,n)=>{const i={pagination:{pageNumber:t.pageNumber,pageSize:t.pageSize},filters:{searchText:""},sortString:n,functionalityId:e.functionalityId};c(i)};(0,i.useEffect)((()=>{if(f&&x){b.A.success(x.errorMessage);const e=t.current.getCurrentPageObject();I(e,t.current.generateSortingString())}}),[f,x]);const C=()=>{if(t.current){const e=t.current.getCurrentPageObject();I(e,t.current.generateSortingString())}};(0,i.useEffect)((()=>{u&&m&&(m&&l(m.dataSource),m.totalRecord&&s(m.totalRecord))}),[u,m]);(0,i.useEffect)((()=>{if(t.current){const n=t.current.getCurrentPageObject(),i=t.current.generateSortingString(),a={pagination:{pageNumber:n.pageNumber,pageSize:n.pageSize},filters:{searchText:""},sortString:i,functionalityId:e.functionalityId};c(a)}}),[]);const N={DELETE:e=>{n("Delete?","Are you sure you want to Delete?","Delete","Cancel").then((t=>{t&&p(e.functionalitiesResponsiblesId)}))}};return(0,i.useImperativeHandle)(e.childRef,(()=>({callChildFunction:C}))),(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"col-md-12 table-striped api-provider",children:(0,y.jsx)(S.A,{ref:t,configuration:r,dataSource:a,allowPagination:!0,pagination:{totalCount:o,pageSize:20,currentPage:1},onPageChange:e=>{I(e,t.current.generateSortingString())},onSorting:e=>{I(t.current.getCurrentPageObject(),e)},isLoading:d,onActionChange:N})})})};var C=n(17295),N=n(69885),T=n(79742);const v=e=>{const t=(0,i.useRef)(),[n,a]=(0,i.useState)(!1),l=()=>{a(!1)};return(0,y.jsxs)("div",{children:[(0,y.jsx)(C.default,{cardTitle:"Manage Responsible Users",buttonClassName:"btn theme-button",rightButton:!0,buttonText:"Add",textWithIcon:!0,iconImg:N.m.PlusIcon,titleButtonClick:()=>{a(!0)},children:(0,y.jsx)(I,{functionalityId:e.functionalityId,childRef:t})}),(0,y.jsx)(T.default,{modalTitle:"Add Responsible User",contentClass:"content-35",onClose:l,modalTitleIcon:N.m.AddIcon,isOpen:n,children:(0,y.jsx)(x,{onClose:l,isOpen:n,functionalityId:e.functionalityId,onGetData:()=>{t.current&&t.current.callChildFunction()}})})]})};var j=n(633);const w=e=>{const t=[{sMenuItemCaption:"Manage Responsible Users",icon:"fa fa-user",component:(0,y.jsx)("div",{className:"mt-2",children:(0,y.jsx)(v,{functionalityId:e.functionalityId})})},{sMenuItemCaption:"View Functional Events",icon:"fa fa-calendar",component:(0,y.jsx)("div",{className:"mt-2",children:(0,y.jsx)(j.A,{functionalityId:e.functionalityId})})}];return(0,y.jsx)("div",{children:(0,y.jsx)(a.A,{tabs:t})})};var E=n(11030),F=n(74573);const A=()=>{const{id:e,data:t}=(0,E.g)(),n=e?(0,F.je)(e):0,i=t?(0,F.je)(t):"",a=(0,E.Zp)();return(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("div",{class:"main-top-title p-2",children:[(0,y.jsx)("div",{class:"left-section",children:(0,y.jsx)("div",{class:"page-title",children:(0,y.jsx)("h3",{children:i})})}),(0,y.jsx)("div",{children:(0,y.jsx)(d.A,{buttonTypeClassName:"dark-btn",iconImg:N.m.BackArrowIcon,buttonText:"Back",textWithIcon:!0,imagePath:N.m.BackArrowIcon,onClick:()=>{a("/FunctionalConfiguration")}})})]}),(0,y.jsx)(w,{functionalityId:n})]})}},633:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(27565);const a={columns:[{name:"functionality",fieldName:"functionalityName",colStyle:{width:"20%"},allowShort:!0},{name:"event",fieldName:"eventName",colStyle:{width:"25%"},allowShort:!0},{name:"event Date",colStyle:{width:"20%"},fieldName:"eventDate",colType:n(79663).f.DATE,colSettings:{isUTC:!0,format:"MM/DD/YYYY hh:mm A "}},{name:"description",fieldName:"description",colStyle:{width:"35%"},allowShort:!0}]};var l=n(96603),o=n(17295),s=n(62360),r=n(27929);const c=e=>{const t=(0,i.useRef)(),[n,c]=(0,i.useState)(),[d,u]=(0,i.useState)(0),[m,{isLoading:p,isSuccess:g,data:f}]=(0,l.Pv)(),b=(t,n)=>{const i={pagination:{pageNumber:t.pageNumber,pageSize:t.pageSize},filters:{searchText:""},sortString:n,functionalityId:e.functionalityId};m(i)};return(0,i.useEffect)((()=>{g&&f&&(f&&c(f.dataSource),f.totalRecord&&u(f.totalRecord))}),[g,f]),(0,i.useEffect)((()=>{if(t.current){const n=t.current.getCurrentPageObject(),i=t.current.generateSortingString(),a={pagination:{pageNumber:n.pageNumber,pageSize:n.pageSize},filters:{searchText:""},sortString:i,functionalityId:e.functionalityId};m(a)}}),[e.functionalityId]),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12 table-striped api-provider view-function-provider",children:(0,r.jsx)(o.default,{cardTitle:"Functional Events",buttonClassName:"btn theme-button",children:(0,r.jsx)(s.A,{ref:t,configuration:a,dataSource:n,allowPagination:!1,pagination:{totalCount:d,pageSize:20,currentPage:1},onPageChange:e=>{b(e,t.current.generateSortingString())},onSorting:e=>{b(t.current.getCurrentPageObject(),e)},isLoading:p})})})})}},37792:(e,t,n)=>{n.d(t,{D9:()=>r,hN:()=>s});var i=n(17690),a=n(15335),l=n(79663),o=n(75707);const s=["Admin","manager"],r={initialState:{name:"",groupTypeId:1,countryId:233,territoryId:2,emailAddress:"",website:"",note:"",isSubCustomer:!1,taxId:"",isBuyingForThirdParty:!1,responsibleUserId:"",customerNoteId:"",incotermId:11,attachment:"",base64File:"",storagePath:""},formFields:[{id:"attachment",lable:"Customer Logo ",Field_Name:"Attachment",fieldType:a.Q.IMAGE,dataField:"attachment",fieldSetting:{placeholder:"Upload Attachment",allowSpace:!0,isImageUpload:!0,isButtonVisible:!0,isCustomButtonVisible:!1,acceptedFiles:".png , .jpg "},style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input mb-0 custom-file-upload-section validation-image-uploader customer-logo-sec"}},{id:"name",lable:"Customer Name ",Field_Name:"Customer Name",fieldType:a.Q.INPUT,dataField:"name",fieldSetting:{placeholder:"Enter Customer Name",allowSpace:!0,maxLength:50,exemptBoundarySpaces:!0},validation:[{type:"require"},{type:"uniqueName"}],style:{containerCss:"col-xxl-8 col-xl-8 col-md-8 col-12 mb-input"},inputButtonGroupConfig:{isPrimaryButtonVisible:!1,infoButtonConfig:{isInfoButtonVisible:!0,infoButtonIcon:"fa-search",infoButtonTooltip:"Customer Information"}}},{id:"emailAddress",lable:"Email ",Field_Name:"Email",fieldType:a.Q.INPUT,dataField:"emailAddress",fieldSetting:{placeholder:"Enter Email",allowSpace:!1,maxLength:65,exemptBoundarySpaces:!0},validation:[{type:"require"},{type:"email"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-input"}},{id:"website",lable:"Website ",Field_Name:"Website",fieldType:a.Q.INPUT,dataField:"website",fieldSetting:{placeholder:"https://www.xyz.com",allowSpace:!1,maxLength:250},validation:[{type:"require"},{type:"website"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-input"}},{id:"groupTypeId",lable:"Group Type ",Field_Name:"Group Type",fieldType:a.Q.SELECT,dataField:"groupTypeId",fieldSetting:{placeholder:"Select Group Type",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-4 col-md-6 col-12 mb-input"}},{id:"countryId",lable:"Country ",Field_Name:"Country",fieldType:a.Q.SELECT,dataField:"countryId",fieldSetting:{placeholder:"Select Country",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-4 col-md-6 col-12 mb-input"}},{id:"territoryId",lable:"Territory ",Field_Name:"Territory",fieldType:a.Q.SELECT,dataField:"territoryId",fieldSetting:{placeholder:"Select Territory",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-4 col-md-4 col-12 mb-input"}},{id:"incotermId",lable:"Incoterm",Field_Name:"Incoterm",fieldType:a.Q.SELECT,dataField:"incotermId",fieldSetting:{placeholder:"Select Incoterm",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-4 col-md-4 col-12 mb-input"}},{id:"taxId",lable:"Tax Id ",Field_Name:"Tax Id",fieldType:a.Q.INPUT,dataField:"taxId",fieldSetting:{placeholder:"Tax Id",allowSpace:!1,minLength:10,maxLength:10,exemptBoundarySpaces:!0},inputIcon:{isIconShow:!0,faIcon:"fa-info-circle",message:i.n.DefaultUSATaxId},style:{containerCss:"col-xxl-3 col-xl-3 col-md-4 col-12 mb-input"}},{id:"responsibleUserId",lable:"Responsible User ",Field_Name:"Responsible User",fieldType:a.Q.SELECT,dataField:"responsibleUserId",fieldSetting:{placeholder:"Select Responsible User",isEnableOnChange:!0,isDisabled:!1},style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input"}},{id:"isBuyingForThirdParty",lable:"Is Buying for Third Party",Field_Name:"Is Buying for Third Party",fieldType:a.Q.CHECKBOX,dataField:"isBuyingForThirdParty",style:{containerCss:"col-xxl-2 col-xl-2 col-md-3 col-12 pt-2 mb-input margin-top-checkbox mt-2"}},{id:"isSubCustomer",lable:"Is Sub Customer",Field_Name:"Is Sub Customer",fieldType:a.Q.CHECKBOX,dataField:"isSubCustomer",style:{containerCss:"col-xxl-2 col-xl-2 col-md-3 col-12 md-pt-0 pt-2 mb-input margin-top-checkbox margin-left0-checkbox mt-2"}},{id:"note",lable:"Notes ",Field_Name:"Notes",fieldType:a.Q.CKEDITOR,dataField:"note",fieldSetting:{placeholder:"Enter Notes",maxLength:1e3},style:{containerCss:"col-xxl-5 col-xl-5 col-md-12 col-12 mb-input mb-0"}}],formSetting:{isViewOnly:!1}};l.f.LABLE,o.x,l.f.ACTION},75707:(e,t,n)=>{n.d(t,{x:()=>i});const i=e=>{switch(e){case"Active":return"status-btn badge-gradient-success";case"Open":default:return"status-btn badge-gradient-info";case"In Active":return"status-btn badge-gradient-danger";case"Pending":return"status-btn badge-gradient-Pending";case"In progress":return"status-btn badge-gradient-theme";case"Submitted":return"status-btn badge-gradient-Submitted";case"Approved":return"status-btn badge-gradient-Approved";case"Freeze":return"status-btn badge-gradient-Frozen";case"Block":return"status-btn badge-gradient-Blocked";case"Reject":return"status-btn badge-gradient-reject";case"Disable":return"status-btn badge-gradient-disabled"}}}}]);
//# sourceMappingURL=7394.a4a9cf68.chunk.js.map