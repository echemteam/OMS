"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[968],{5376:(e,s,t)=>{t.d(s,{A:()=>n});var l=t(27565),d=t(17295),a=t(5022),i=t(27929);const n=e=>{let{moduleList:s,onModuleChange:t,isPending:n,setModuleList:o,onGetById:r}=e;const[c,u]=(0,l.useState)(null),[m,{isSuccess:v,data:h}]=(0,a.lV)();(0,l.useEffect)((()=>{m(n)}),[m,r]),(0,l.useEffect)((()=>{v&&h&&o(h)}),[v,h]),(0,l.useEffect)((()=>{s&&s.length>0&&u(s[0].moduleId)}),[s]);return(0,i.jsx)(d.default,{cardTitle:"Modules",children:(0,i.jsx)("div",{className:"module-listing",children:(0,i.jsx)("ul",{children:s&&s.map(((e,s)=>(0,i.jsx)("li",{className:c===e.moduleId?"active":"",onClick:()=>{return u((s=e).moduleId),void(t&&t(s.moduleId));var s},children:(0,i.jsxs)("span",{children:[e.moduleName," ",e.requestCount>0?(0,i.jsxs)(i.Fragment,{children:[" ",(0,i.jsx)("div",{className:"module-count",children:e.requestCount})]}):null]})},s)))})})})}},90968:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var l=t(27565),d=(t(44848),t(76969)),a=t(17295),i=t(38860),n=t(69377),o=t(67606),r=t(2604),c=t(5376),u=t(27929);const m=e=>{var s;const[t,m]=(0,l.useState)("Newest"),[v,h]=(0,l.useState)(null),[p,j]=(0,l.useState)([]),[x,f]=(0,l.useState)([]),[I,N]=(0,l.useState)(null===(s=e.moduleList[0])||void 0===s?void 0:s.moduleId),[g,{isLoading:A,isSuccess:L,data:y}]=(0,r.PV)();(0,l.useEffect)((()=>{e.moduleList&&e.moduleList.length>0&&S()}),[e.Pending,e.roleId,e.moduleList]),(0,l.useEffect)((()=>{e.isApproval&&S(),e.setIsApproval(!1)}),[e.isApproval]),(0,l.useEffect)((()=>{var s;L&&y&&(j(y),y&&0!==(null===y||void 0===y?void 0:y.length)?E(null===(s=y[0])||void 0===s?void 0:s.approvalRequestId):e.handleRestEventDetail&&e.handleRestEventDetail())}),[L,y]);const S=(s,l)=>{var d;const a={status:e.Pending,roleId:e.roleId,sortOrder:t||"Newest",eventIds:Array.isArray(x)?x.map(String).join(","):x,moduleId:I||(null===(d=e.moduleList[0])||void 0===d?void 0:d.moduleId)};s&&(a[s]=l),"eventIds"===s&&(a[s]=Array.isArray(l)?l.map(String).join(","):l),g(a)},E=s=>{h(s),e.onGetById&&e.onGetById(s)};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-5 pr-0 left-modual-sec",children:(0,u.jsx)(c.A,{moduleList:e.moduleList,isPending:!0,onGetById:e.onGetById,onModuleChange:s=>{N(s),S("moduleId",s),e.handleRestEventDetail&&e.handleRestEventDetail()},setModuleList:e.setModuleList})}),(0,u.jsx)("div",{className:"col-7 pl-1 pr-1",children:(0,u.jsx)(a.default,{cardTitle:"Events",rightButton:!0,isShort:!0,filtersOptions:e.eventList,selectedFilterOptions:e=>{f(e),S("eventIds",e)},selectedSortOrder:e=>{m(e),S("sortOrder",e)},children:(0,u.jsx)("div",{className:"customer-info",children:A?(0,u.jsx)(i.A,{}):(0,u.jsx)("div",{className:"tabs",children:p&&p.length>0?p.map((e=>(0,u.jsx)("button",{className:"tab-button "+(v===e.approvalRequestId?"active":""),onClick:()=>E(e.approvalRequestId),children:(0,u.jsxs)("div",{className:"d-flex align-items-start w-100",children:[(0,u.jsxs)("span",{className:"profile-icon",children:[" ",(0,o.f)(e.eventName)]}),(0,u.jsxs)("div",{className:"right-name-desc",children:[(0,u.jsxs)("div",{className:"title",children:[e.eventName,(0,u.jsx)("div",{className:"date",children:e.requestedDate?(0,d.Ay)(e.requestedDate,"MM/DD/YYYY hh:mm A"):"No Date"})]}),(0,u.jsxs)("div",{className:"bage-fix",children:[(0,u.jsx)("span",{className:"sub-title",children:e.moduleName}),(0,u.jsx)("div",{className:"mytask-type-badge "+(e.isFunctional?"badge-accept":""),children:e.isFunctional?"Functional":"Field"})]})]})]})},e.approvalRequestId))):(0,u.jsx)(n.A,{})})})})})]})})}}}]);
//# sourceMappingURL=968.0b64fbd4.chunk.js.map