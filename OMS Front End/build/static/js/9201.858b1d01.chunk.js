"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[9201],{19045:(e,l,i)=>{i.d(l,{n:()=>a});var s=i(15335);const a={name:"",initialState:{responsibleUserId:0,inActiveReason:""},formFields:[{id:"ResponsibleUserId",lable:"Responsible User ",Field_Name:"Responsible User",fieldType:s.Q.SELECT,dataField:"responsibleUserId",fieldSetting:{placeholder:"Select Responsible User",isDisabled:!1,isEnableOnChange:!0,isMultiSelect:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-2"}},{id:"inActiveReason",lable:"Reason :",Field_Name:"Reason ",fieldType:s.Q.TEXTAREA,dataField:"inActiveReason",fieldSetting:{placeholder:"please enter Reason",allowSpace:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 mb-2"}}]}},67724:(e,l,i)=>{i.d(l,{A:()=>t});i(27565);var s=i(85097),a=i(27929);const t=e=>{let{isApprovalValidate:l,showModal:i,handleToggleModal:t,children:d,...n}=e;return(0,a.jsxs)(s.A,{className:`center-model-popup ${n.modelSizeClass}`,show:i,onHide:t,keyboard:!l,backdrop:!l||"static",children:[(0,a.jsx)(s.A.Header,{closeButton:!l,children:(0,a.jsx)("div",{className:"model-title",children:n.modalTitle})}),(0,a.jsx)(s.A.Body,{children:d})]})}},37792:(e,l,i)=>{i.d(l,{D9:()=>o,hN:()=>n});var s=i(17690),a=i(15335),t=i(79663),d=i(75707);const n=["Admin","manager"],o={initialState:{name:"",groupTypeId:1,countryId:233,territoryId:2,emailAddress:"",website:"",note:"",isSubCustomer:!1,taxId:"",isBuyingForThirdParty:!1,responsibleUserId:"",customerNoteId:"",incotermId:11,attachment:"",base64File:"",storagePath:""},formFields:[{id:"attachment",lable:"Customer Logo ",Field_Name:"Attachment",fieldType:a.Q.IMAGE,dataField:"attachment",fieldSetting:{placeholder:"Upload Attachment",allowSpace:!0,isImageUpload:!0,isButtonVisible:!0,isCustomButtonVisible:!1,acceptedFiles:".png , .jpg "},style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input mb-0 custom-file-upload-section validation-image-uploader customer-logo-sec"}},{id:"name",lable:"Customer Name ",Field_Name:"Customer Name",fieldType:a.Q.INPUT,dataField:"name",fieldSetting:{placeholder:"Enter Customer Name",allowSpace:!0,maxLength:50,exemptBoundarySpaces:!0},validation:[{type:"require"},{type:"uniqueName"}],style:{containerCss:"col-xxl-8 col-xl-8 col-md-8 col-12 mb-input"},inputButtonGroupConfig:{isPrimaryButtonVisible:!1,infoButtonConfig:{isInfoButtonVisible:!0,infoButtonIcon:"fa-search",infoButtonTooltip:"Customer Information"}}},{id:"emailAddress",lable:"Email ",Field_Name:"Email",fieldType:a.Q.INPUT,dataField:"emailAddress",fieldSetting:{placeholder:"Enter Email",allowSpace:!1,maxLength:65,exemptBoundarySpaces:!0},validation:[{type:"require"},{type:"email"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-input"}},{id:"website",lable:"Website ",Field_Name:"Website",fieldType:a.Q.INPUT,dataField:"website",fieldSetting:{placeholder:"https://www.xyz.com",allowSpace:!1,maxLength:250},validation:[{type:"require"},{type:"website"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-input"}},{id:"groupTypeId",lable:"Group Type ",Field_Name:"Group Type",fieldType:a.Q.SELECT,dataField:"groupTypeId",fieldSetting:{placeholder:"Select Group Type",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-4 col-md-6 col-12 mb-input"}},{id:"countryId",lable:"Country ",Field_Name:"Country",fieldType:a.Q.SELECT,dataField:"countryId",fieldSetting:{placeholder:"Select Country",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-4 col-md-6 col-12 mb-input"}},{id:"territoryId",lable:"Territory ",Field_Name:"Territory",fieldType:a.Q.SELECT,dataField:"territoryId",fieldSetting:{placeholder:"Select Territory",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-4 col-md-4 col-12 mb-input"}},{id:"incotermId",lable:"Incoterm",Field_Name:"Incoterm",fieldType:a.Q.SELECT,dataField:"incotermId",fieldSetting:{placeholder:"Select Incoterm",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-4 col-md-4 col-12 mb-input"}},{id:"taxId",lable:"Tax Id ",Field_Name:"Tax Id",fieldType:a.Q.INPUT,dataField:"taxId",fieldSetting:{placeholder:"Tax Id",allowSpace:!1,minLength:10,maxLength:10,exemptBoundarySpaces:!0},inputIcon:{isIconShow:!0,faIcon:"fa-info-circle",message:s.n.DefaultUSATaxId},style:{containerCss:"col-xxl-3 col-xl-3 col-md-4 col-12 mb-input"}},{id:"responsibleUserId",lable:"Responsible User ",Field_Name:"Responsible User",fieldType:a.Q.SELECT,dataField:"responsibleUserId",fieldSetting:{placeholder:"Select Responsible User",isEnableOnChange:!0,isDisabled:!1},style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input"}},{id:"isBuyingForThirdParty",lable:"Is Buying for Third Party",Field_Name:"Is Buying for Third Party",fieldType:a.Q.CHECKBOX,dataField:"isBuyingForThirdParty",style:{containerCss:"col-xxl-2 col-xl-2 col-md-3 col-12 pt-2 mb-input margin-top-checkbox mt-2"}},{id:"isSubCustomer",lable:"Is Sub Customer",Field_Name:"Is Sub Customer",fieldType:a.Q.CHECKBOX,dataField:"isSubCustomer",style:{containerCss:"col-xxl-2 col-xl-2 col-md-3 col-12 md-pt-0 pt-2 mb-input margin-top-checkbox margin-left0-checkbox mt-2"}},{id:"note",lable:"Notes ",Field_Name:"Notes",fieldType:a.Q.CKEDITOR,dataField:"note",fieldSetting:{placeholder:"Enter Notes",maxLength:1e3},style:{containerCss:"col-xxl-5 col-xl-5 col-md-12 col-12 mb-input mb-0"}}],formSetting:{isViewOnly:!1}};t.f.LABLE,d.x,t.f.ACTION},19201:(e,l,i)=>{i.r(l),i.d(l,{default:()=>B});var s=i(27565),a=i(55795),t=i(19888),d=i(17690),n=i(60497),o=i(18637),c=i(59617),r=i(38860),u=i(67724),m=i(94839),p=i(84464),x=i(15269),b=i(80889),h=i(65748),v=i(5022),f=i(1933),g=i(15889),N=i(58412),y=i(19045),j=i(37792),C=i(35263),S=i(93096),I=i(3514),T=i(28734),A=i(14490),E=i(69885),w=i(27929);const F=s.lazy((()=>Promise.all([i.e(7204),i.e(6774),i.e(6046)]).then(i.bind(i,648)))),B=e=>{let{editClick:l,supplierData:i,isLoading:B,supplierId:U,getSupplierById:R,GetSupplierBasicInformationByIdData:L,isGetSupplierBasicInformationByIdFetching:P,isGetSupplierBasicInformationById:k}=e;const D=(0,s.useRef)(),O=(0,s.useRef)(),{confirm:_}=(0,b.A)(),[Q,$]=(0,s.useState)(null),[M,G]=(0,s.useState)(y.n),[q,J]=(0,s.useState)(!1),[z,V]=(0,s.useState)(),[W,K]=(0,s.useState)(!0),[H,X]=(0,s.useState)([]),[Y,Z]=(0,s.useState)([]),[ee]=(0,I.Tm)(),[le,ie]=(0,s.useState)([]),[se,ae]=(0,s.useState)(m.At),[te,de]=(0,s.useState)(""),[ne,{isFetching:oe,isSuccess:ce,data:re}]=(0,v.KJ)(),[ue,{isSuccess:me,data:pe}]=(0,f.qP)(),[xe,{isSuccess:be,data:he}]=(0,f._U)(),[ve,{isLoading:fe,isSuccess:ge,data:Ne}]=(0,f.j5)(),{isResponsibleUser:ye,totalCount:je,approvalSuccessCount:Ce,getSupplierCompletionCount:Se}=(0,s.useContext)(p.A),[Ie,Te]=(0,s.useState)(!1),Ae=(0,x.T)(t.o.EDITBASICSUPPLIERDETAILS);(0,s.useEffect)((()=>{ye||(Ae&&!0===Ae.isViewOnly?(K(!0),Te(!0)):!0===Ae.isEditable?K(!0):(K(!1),Te(!0)))}),[Ae,ye]),(0,s.useEffect)((()=>{ge&&Ne&&(h.A.success(Ne.errorMessage),Fe())}),[ge,Ne]),(0,s.useEffect)((()=>{be&&he&&(h.A.success(he.errorMessage),Fe())}),[be,he]),(0,s.useEffect)((()=>{me&&pe&&(h.A.success(pe.errorMessage),Se(U))}),[me,pe]);(0,s.useEffect)((()=>{if(k&&!P&&L){var e,l;const i=null===L||void 0===L||null===(e=L.responsibleUserId)||void 0===e?void 0:e.split(",").map((e=>e.trim())),s=null===L||void 0===L||null===(l=L.responsibleUserName)||void 0===l?void 0:l.split(",").map((e=>e.trim())),a=null===i||void 0===i?void 0:i.map(((e,l)=>({value:e,label:s[l]||e})));X(i),Z(a),de(a),$(L.status),ne(),Se(L.supplierId)}}),[P,k,L]),(0,s.useEffect)((()=>{if(q&&Q===T.J$.REJECT&&H){const e=null===H||void 0===H?void 0:H.map((e=>Number(e.trim()))),l={...M};l.initialState={...l.initialState,responsibleUserId:e},G(l)}}),[q,Q]),(0,s.useEffect)((()=>{if(!oe&&ce&&re){const e=re.filter((e=>null===e.roleName||!j.hN.map((e=>e.toLowerCase())).includes(e.roleName.toLowerCase()))),l=Array.from(new Map(e.map((e=>[e.fullName,e]))).values()),i=(H?l.filter((e=>!H.includes(e.userId.toString()))):l).map((e=>({value:e.userId,label:e.fullName})));ie(i);const s=re.filter((e=>null===e.roleName||!j.hN.map((e=>e.toLowerCase())).includes(e.roleName.toLowerCase()))),a=Array.from(new Map(s.map((e=>[e.fullName,e]))).values());(0,N.Xh)(a,"userId","fullName",y.n,"responsibleUserId")}}),[ce,re,oe]);(0,s.useEffect)((()=>{if(i){let e=m.At;i.status===m.LE.APPROVED?e=m.At.filter((e=>2!==e.value)):i.status===m.LE.PENDING&&(e=m.At.filter((e=>3!==e.value))),ae(e)}}),[i]);const Ee=()=>{const e=(0,g.G)(M,["responsibleUserId"]);G(e)},we=e=>{let l={supplierId:U,userId:String(e)};ue(l)},Fe=()=>{J(!1),(()=>{let e={...y.n};e.initialState={...M},G(e)})(),R(),$(i.status)},Be=()=>{switch(Q){case"Pending":return"badge-gradient-Pending";case"Submitted":return"badge-gradient-Submitted";case"Approved":return"badge-gradient-Approved";case"Freeze":return"badge-gradient-Frozen";case"Block":return"badge-gradient-Blocked";case"Reject":return"badge-gradient-reject";case"Disable":return"badge-gradient-disabled";default:return"badge-gradient-info"}};return(0,w.jsxs)(w.Fragment,{children:[B?(0,w.jsx)(r.A,{}):(0,w.jsxs)("div",{className:"basic-customer-detail",children:[(0,w.jsxs)("div",{className:"col-xl-12 col-lg-12 col-md-12 col-12",children:[(0,w.jsxs)("div",{className:"d-flex profile-info justify-content-between col-12",children:[(0,w.jsx)("div",{className:"d-flex col-3 flex-column profile-icon-desc justify-content-center",children:(0,w.jsxs)("div",{className:"d-flex w-100",children:[(0,w.jsx)("div",{className:"profile-icon ",children:(0,w.jsx)(A.A,{imagePath:null!==i&&void 0!==i&&i.base64File?null===i||void 0===i?void 0:i.base64File:E.m.DummyLogo,altText:"button Icon"})}),(0,w.jsxs)("div",{className:"detail-sec",children:[(0,w.jsx)("div",{className:"customer-name",children:(0,w.jsx)("h5",{className:"ml-0",children:null===i||void 0===i?void 0:i.name})}),(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"field-desc col-span-3",children:[(0,w.jsx)("i",{className:"fa fa-envelope"}),(0,w.jsx)("a",{className:"email-link",href:`mailto:${null===i||void 0===i?void 0:i.emailAddress}`,children:(0,w.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.emailAddress})}),(0,w.jsxs)("span",{className:"copy-icon tooltip-div",onClick:()=>(0,a.A)(null===i||void 0===i?void 0:i.emailAddress,"email"),children:[(0,w.jsx)(C.A,{icon:"bitcoin-icons:copy-outline"}),(0,w.jsx)("div",{className:"tooltip-show",children:(0,w.jsx)("p",{children:"Click to Copy"})}),(0,w.jsx)("div",{className:"tooltip-arrow-icon"})]})]}),(0,w.jsxs)("div",{className:"field-desc ",children:[(0,w.jsx)("i",{className:"fa fa-globe"}),(0,w.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.website}),(0,w.jsxs)("span",{className:"copy-icon tooltip-div",onClick:()=>(0,a.A)(null===i||void 0===i?void 0:i.website,"website"),children:[(0,w.jsx)(C.A,{icon:"bitcoin-icons:copy-outline"}),(0,w.jsx)("div",{className:"tooltip-show",children:(0,w.jsx)("p",{children:"Click to Copy"})}),(0,w.jsx)("div",{className:"tooltip-arrow-icon"})]})]})]})]})]})}),(0,w.jsxs)("div",{className:"col-3",children:[(0,w.jsxs)("div",{className:"field-desc basic-info-select dis-dropdown",children:[(0,w.jsx)("div",{className:"inf-label",children:"Status"}),(0,w.jsx)("b",{children:"\xa0:\xa0"}),Ie?(0,w.jsx)("div",{className:`info-desc  ${Be()}`,children:Q}):(0,w.jsx)("div",{className:`status-dropdown ${Be()}`,children:(0,w.jsx)(c.default,{options:se,value:Q,onChange:e=>{e.label===i.status?h.A.warning("You can't change the status of the customer to currect customer status."):e.value===T.J$.PENDING?_("Warning?",`Are you sure you want to change the supplier status to ${e.label}?`,"Yes","Cancel").then((l=>{if(l){Ee();let l={supplierId:U,statusId:e.value};xe(l),$(e.value)}})):e.value===T.J$.FREEZE||e.value===T.J$.BLOCK||e.value===T.J$.DISABLE?(Ee(),J(!0),$(e.value)):e.value===T.J$.SUBMITTED?(Ee(),D.current&&D.current.callChildFunction(U,!1),V(e.value)):e.value===T.J$.APPROVED?(Ee(),D.current&&D.current.callChildFunction(U,!0),V(e.value)):e.value===T.J$.REJECT&&(i.responsibleUserId&&Ee(),J(!0),$(e.value))},placeholder:"Select Status",isDisabled:Ie})})]}),(0,w.jsxs)("div",{className:"field-desc",children:[(0,w.jsx)("div",{className:"inf-label",children:"Tax Id"}),(0,w.jsx)("b",{children:"\xa0:\xa0"}),(0,w.jsx)("div",{className:"info-desc",children:null!==i&&void 0!==i&&i.taxId?null===i||void 0===i?void 0:i.taxId:d.K.NotAvailabe})]}),(0,w.jsxs)("div",{className:"field-desc basic-info-select dis-dropdown",children:[(0,w.jsx)("div",{className:"inf-label",children:"R-User"}),(0,w.jsx)("b",{children:"\xa0:\xa0"}),(0,w.jsx)("div",{className:"status-dropdown",children:(0,w.jsx)(S.A,{isMultiSelect:!0,placeholder:"Responsible User",isDropdownDisabled:!!ye||Ie,optionsValue:le,value:Y,handleDropdownChange:e=>{const l=e.map((e=>e.value.toString()));Z(e),X(l),ne()},handleDropdownBlur:()=>{const e=null===Y||void 0===Y?void 0:Y.map((e=>e.value)).join(",");if(e!==te){ue({customerId:U,userId:e}),de(e)}}})})]}),(0,w.jsxs)("div",{className:"field-desc",children:[(0,w.jsx)("div",{className:"inf-label",children:"List Code"}),(0,w.jsx)("b",{children:"\xa0:\xa0"}),(0,w.jsx)("div",{className:"info-desc",children:null!==i&&void 0!==i&&i.listCode?null===i||void 0===i?void 0:i.listCode:d.K.NotAvailabe})]})]}),(0,w.jsxs)("div",{className:"col-3  separator",children:[(0,w.jsxs)("div",{className:"field-desc",children:[(0,w.jsx)("div",{className:"inf-label",children:"Country"}),(0,w.jsx)("b",{children:"\xa0:\xa0"}),(0,w.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.countryName})]}),(0,w.jsxs)("div",{className:"field-desc",children:[(0,w.jsx)("div",{className:"inf-label",children:"Territory"}),(0,w.jsx)("b",{children:"\xa0:\xa0"}),(0,w.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.territory})]}),(0,w.jsxs)("div",{className:"field-desc",children:[(0,w.jsx)("div",{className:"inf-label",children:"Supplier Type"}),(0,w.jsx)("b",{children:"\xa0:\xa0"}),(0,w.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.supplierType})]})]}),(0,w.jsxs)("div",{className:"col-3",children:[(0,w.jsxs)("div",{className:"field-desc",children:[(0,w.jsx)("div",{className:"inf-label",style:{minWidth:"130px",maxWidth:"130px"},children:"Group Type"}),(0,w.jsx)("b",{children:"\xa0:\xa0"}),(0,w.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.groupType})]}),(0,w.jsxs)("div",{className:"field-desc",children:[(0,w.jsx)("div",{className:"inf-label",style:{minWidth:"130px",maxWidth:"130px"},children:"Incoterm"}),(0,w.jsx)("b",{children:"\xa0:\xa0"}),(0,w.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.incotermName})]}),(0,w.jsxs)("div",{className:"field-desc",children:[(0,w.jsx)("div",{className:"inf-label",style:{minWidth:"130px",maxWidth:"130px"},children:"Profile Completion"}),(0,w.jsx)("b",{children:"\xa0:\xa0"}),je&&(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"submission-tab d-flex gap-2 align-items-center pt-1 pl-1",style:{cursor:"pointer",fontSize:"13px"},onClick:()=>{D.current&&D.current.callChildFunction(U,!1,!1)},children:[Ce+"/"+je,(0,w.jsxs)("span",{className:"tooltip-div",children:[(0,w.jsx)(C.A,{icon:"ep:info-filled",className:"info"}),(0,w.jsx)("div",{className:"tooltip-show",children:(0,w.jsx)("p",{children:"Click to view"})}),(0,w.jsx)("div",{className:"tooltip-arrow-icon"})]})]})})]})]})]}),W?(0,w.jsx)("div",{className:"edit-icons",onClick:l,children:(0,w.jsx)(C.A,{icon:"tabler:pencil"})}):null]}),q&&(0,w.jsx)(u.A,{showModal:q,handleToggleModal:Fe,modalTitle:`${(e=>{const l=m.At.find((l=>l.value===e));return l?l.label:"Unknown"})(Q)} Reason`,modelSizeClass:"w-50s",children:(0,w.jsxs)("div",{className:"row horizontal-form",children:[(0,w.jsx)(o.A,{config:M,ref:O,...M}),(0,w.jsx)("div",{className:"col-md-12 mt-2",children:(0,w.jsx)("div",{className:"d-flex align-item-end justify-content-end",children:(0,w.jsxs)("div",{className:"d-flex align-item-end",children:[(0,w.jsx)(n.A,{buttonTypeClassName:"theme-button",buttonText:"Update",isLoading:fe,onClick:()=>{let e=O.current.getFormData();if(e){let l={...e,supplierId:U,statusId:Q||0,note:e.inActiveReason};ve(l),ee(l),we(e.responsibleUserId)}}}),(0,w.jsx)(n.A,{buttonTypeClassName:"dark-btn ml-5",buttonText:"Cancel",onClick:Fe})]})})})]})})]}),(0,w.jsx)(F,{childRef:D,isDetailPage:!0,updateApproval:()=>{$(z),xe({supplierId:U,statusId:z})},setSelectedStatus:$,responsibleUserIds:H,OnRejectedSupplierFromApproval:()=>{R()}})]})}},55795:(e,l,i)=>{i.d(l,{A:()=>a});var s=i(65748);const a=(e,l)=>{navigator.clipboard.writeText(e).then((()=>{s.A.success(`${l} copied to the clipboard.`)}),(e=>{s.A.err("Could not copy text: ",e)}))}},75707:(e,l,i)=>{i.d(l,{x:()=>s});const s=e=>{switch(e){case"Active":return"status-btn badge-gradient-success";case"Open":default:return"status-btn badge-gradient-info";case"In Active":return"status-btn badge-gradient-danger";case"Pending":return"status-btn badge-gradient-Pending";case"In progress":return"status-btn badge-gradient-theme";case"Submitted":return"status-btn badge-gradient-Submitted";case"Approved":return"status-btn badge-gradient-Approved";case"Freeze":return"status-btn badge-gradient-Frozen";case"Block":return"status-btn badge-gradient-Blocked";case"Reject":return"status-btn badge-gradient-reject";case"Disable":return"status-btn badge-gradient-disabled"}}}}]);
//# sourceMappingURL=9201.858b1d01.chunk.js.map