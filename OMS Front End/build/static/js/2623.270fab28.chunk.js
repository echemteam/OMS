"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2623],{22623:(e,s,d)=>{d.r(s),d.d(s,{default:()=>u});var a=d(27565),t=d(38860),i=d(69377),r=d(80889),c=d(65748),n=d(35263),l=d(28734),o=d(27929);const u=(0,a.forwardRef)((e=>{let{keyId:s,onHandleEditAddress:d,showEditIcon:u,getAddresssByCustomerId:m,getByIdRef:p,selectedAddressTypeId:h,deleteAddress:g,customerStatusId:x,isModelOpen:f,isSupplier:b,getCompletionCount:j}=e;const[N,y]=(0,a.useState)([]),{confirm:A}=(0,r.A)(),[I,{isFetching:v,isSuccess:C,data:P}]=m(),[k,{isSuccess:S,data:B}]=g();(0,a.useEffect)((()=>{!f&&s&&I(s)}),[s,h]),(0,a.useEffect)((()=>{if(!v&&C&&P){const e=h[0]?P.filter((e=>e.addressTypeId===h[0])):P;y(e)}}),[v,C,P]),(0,a.useEffect)((()=>{S&&B&&(c.A.success(B.errorMessage),T(),j())}),[S,B]);const T=()=>{s&&I(s)},w=e=>{d(e)},E=e=>{A("Delete?","Are you sure you want to Delete?","Delete","Cancel").then((s=>{s&&k(e.addressId)}))};if((0,a.useImperativeHandle)(p,(()=>({callChildFunction:T}))),!v&&(!Array.isArray(N)||0===N.length))return(0,o.jsx)("div",{className:"no-address",children:(0,o.jsx)(i.A,{})});const D=e=>{switch(e){case"Primary":case"Bank Address":return"badge-primary contact-badge";case"Billing":case"Physical Address- HQ":return"badge-purchasing contact-badge";case"Shipping":case"Remittance Address":return"badge-followup contact-badge";case"AP":return"badge-ap contact-badge";default:return"badge-default"}},F=e=>e.isPreferredBilling&&1===e.addressTypeId?"Preferred Billing":e.isPreferredShipping&&2===e.addressTypeId?"Preferred Shipping":"";return(0,o.jsx)(a.Fragment,{children:v?(0,o.jsx)(t.A,{}):(0,o.jsx)("div",{className:"address-card-section",children:(0,o.jsx)("div",{className:"add-desc-part",children:(0,o.jsx)("div",{className:"address-card-list",children:N.map((e=>(0,o.jsx)("div",{className:"address-main-card-section",children:(0,o.jsxs)("div",{className:"address-card",children:[(e.isPreferredBilling&&1===e.addressTypeId||e.isPreferredShipping&&2===e.addressTypeId)&&(0,o.jsx)("div",{className:"status-desc",children:(0,o.jsx)("span",{className:"field-info active-green-color",children:F(e)})}),(0,o.jsxs)("div",{className:"add-line "+(e.isPreferredBilling&&1===e.addressTypeId||e.isPreferredShipping&&e.addressTypeId,""),children:[(0,o.jsx)("span",{className:"label-txt",children:e.addressLine1}),(0,o.jsx)("span",{className:"label-txt",children:e.addressLine2}),(0,o.jsxs)("span",{className:"label-txt",children:[e.cityName,", ",e.stateCode?e.stateCode:e.stateName," ",e.zipCode]}),(0,o.jsx)("span",{className:"label-txt",children:e.countryName})]}),b?(0,o.jsxs)("div",{className:"edit-delete-button",children:[u?(0,o.jsx)("button",{onClick:()=>w(e),className:"edit-btn",children:(0,o.jsx)(n.A,{icon:"tabler:pencil"})}):null,(0,o.jsx)("button",{onClick:()=>E(e),className:"edit-btn ml-2",children:(0,o.jsx)(n.A,{icon:"mingcute:delete-2-line",className:"delete-icon"})})]}):(0,o.jsx)(o.Fragment,{children:!b&&x!==l.J$.APPROVED&&(0,o.jsxs)("div",{className:"edit-delete-button",children:[u?(0,o.jsx)("button",{onClick:()=>w(e),className:"edit-btn",children:(0,o.jsx)(n.A,{icon:"tabler:pencil"})}):null,(0,o.jsx)("button",{onClick:()=>E(e),className:"edit-btn ml-2",children:(0,o.jsx)(n.A,{icon:"mingcute:delete-2-line",className:"delete-icon"})})]})}),(0,o.jsx)("div",{className:`contact-type-badge ${D(e.type)}`,children:e.type})]})},e.addressId)))})})})})}))}}]);
//# sourceMappingURL=2623.270fab28.chunk.js.map