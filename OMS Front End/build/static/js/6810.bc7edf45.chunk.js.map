{"version":3,"file":"static/js/6810.bc7edf45.chunk.js","mappings":"wNAaA,MAAMA,EAAcC,EAAAA,MAAW,IAAM,kCA4FrC,EAzFsBC,IAAiG,IAAhG,qBAAEC,EAAoB,iBAAEC,EAAgB,aAAEC,EAAY,eAAEC,EAAc,iBAAEC,GAAkBL,EAE7G,MAAMM,GAAaC,EAAAA,EAAAA,WACb,QAAEC,IAAYC,EAAAA,EAAAA,MAEbC,EAAWC,IAAgBC,EAAAA,EAAAA,WAAS,IACrC,aAAEC,EAAY,WAAEC,IAAeC,EAAAA,EAAAA,YAAWC,EAAAA,IAC1C,KAAEC,EAAI,WAAEC,EAAU,UAAEC,IAAcC,EAAAA,EAAAA,OAEjCC,GAAiBF,UAAWG,EAAiBL,KAAMM,KAAiBC,EAAAA,EAAAA,OAG3EC,EAAAA,EAAAA,YAAU,KACN,IAAKP,GAAcC,GAAaF,EAAM,CAClC,MAAMS,EAAUT,EAAKU,KAAKC,IAAI,CAC1BC,MAAOD,EAAKE,UACZC,MAAOH,EAAKI,YAEMC,EAAAA,EAAuBC,WAAWC,MAAMP,GAA4B,YAAnBA,EAAKQ,YAC9DC,aAAaC,QAAUZ,CACzC,IACD,CAACR,EAAYC,EAAWF,KAE3BQ,EAAAA,EAAAA,YAAU,KACFH,GAAmBC,IACnBgB,EAAAA,EAAaC,QAAQjB,EAAYkB,cACjCxC,IACJ,GACD,CAACqB,EAAiBC,IAGrB,MAkBMmB,EAAoBA,CAACC,EAAO1B,KAC9BT,EACI,UACA,mCACA,SACA,UACFoC,MAAMC,IACAA,GACAxB,EAAcJ,EAAK6B,0BACvB,GACF,EAGAC,EAAgB,CAElBC,OAAQN,GAGZ,OACIO,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACIF,EAAAA,EAAAA,KAACnD,EAAW,CAACQ,WAAYA,EAAY8C,mBAAoBvC,EAAckC,cAAeA,EAAejC,WAAYA,EAC7GuC,kBAvCcA,KACtB1C,GAAcD,EAAU,EAsCsBR,iBAAkBA,EAAkBC,aAAcA,EAAcE,iBAAkBA,EACxHJ,qBAAsBA,EAAsByC,kBAAmBA,EAAmBtC,eAAgBA,KASvG,C","sources":["pages/customerDetail/feature/customerSettingDetail/features/Carrier/ManageCarrier.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\r\n//** Lib's */\r\nimport { addEditCarrierFormData } from \"./config/CarrierConfig\";\r\nimport BasicDetailContext from \"../../../../../../utils/ContextAPIs/Customer/BasicDetailContext\";\r\n//** Service's */\r\nimport SwalAlert from \"../../../../../../services/swalService/SwalService\";\r\nimport ToastService from \"../../../../../../services/toastService/ToastService\";\r\nimport { useGetAllDeliveryCarriersQuery } from \"../../../../../../app/services/commonAPI\";\r\nimport { useDeleteCustomerDeliveryCarriersByIdMutation } from \"../../../../../../app/services/customerSettingsAPI\";\r\nimport PropTypes from 'prop-types';\r\n\r\n//** Component's */\r\nconst CarrierList = React.lazy(() => import(\"./feature/CarrierList\"));\r\n// const AddEditCarrier = React.lazy(() => import(\"./feature/AddEditCarrier\"));\r\n\r\nconst ManageCarrier = ({ handleGetDefaultList, isGetDataLoading, isShowButton, isEditablePage, customerStatusId }) => {\r\n\r\n    const molGridRef = useRef();\r\n    const { confirm } = SwalAlert();\r\n    // const [isEdit, setIsEdit] = useState(false);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const { carriersList, customerId } = useContext(BasicDetailContext);\r\n    const { data, isFetching, isSuccess } = useGetAllDeliveryCarriersQuery();\r\n\r\n    const [deleteCarrier, { isSuccess: isDeleteSuccess, data: isDeletData }] = useDeleteCustomerDeliveryCarriersByIdMutation();\r\n\r\n\r\n    useEffect(() => {\r\n        if (!isFetching && isSuccess && data) {\r\n            const getData = data.map((item) => ({\r\n                value: item.carrierId,\r\n                label: item.carrier,\r\n            }));\r\n            const dropdownField = addEditCarrierFormData.formFields.find((item) => item.dataField === \"carrier\");\r\n            dropdownField.fieldSetting.options = getData;\r\n        }\r\n    }, [isFetching, isSuccess, data]);\r\n\r\n    useEffect(() => {\r\n        if (isDeleteSuccess && isDeletData) {\r\n            ToastService.success(isDeletData.errorMessage);\r\n            handleGetDefaultList();\r\n        }\r\n    }, [isDeleteSuccess, isDeletData]);\r\n\r\n\r\n    const handleToggleModal = () => {\r\n        setShowModal(!showModal);\r\n        // setIsEdit(false);\r\n    };\r\n\r\n    // //** Success */\r\n    // const onSuccess = () => {\r\n    //     setShowModal(!showModal);\r\n    //     handleGetDefaultList();\r\n    // };\r\n\r\n    //** Action Handler */\r\n    // const handleEditModal = (data) => {\r\n    //     setShowModal(!showModal);\r\n    //     setIsEdit(true);\r\n    //     setDeliveryCarrierId(data.customerDeliveryCarrierId);\r\n    // }\r\n\r\n    const handleDeleteClick = (index, data) => {\r\n        confirm(\r\n            \"Delete?\",\r\n            \"Are you sure you want to Delete?\",\r\n            \"Delete\",\r\n            \"Cancel\"\r\n        ).then((confirmed) => {\r\n            if (confirmed) {\r\n                deleteCarrier(data.customerDeliveryCarrierId);\r\n            }\r\n        });\r\n    };\r\n\r\n    const actionHandler = {\r\n        // EDIT: handleEditModal,\r\n        DELETE: handleDeleteClick,\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <CarrierList molGridRef={molGridRef} collectAccountData={carriersList} actionHandler={actionHandler} customerId={customerId}\r\n                handleToggleModal={handleToggleModal} isGetDataLoading={isGetDataLoading} isShowButton={isShowButton} customerStatusId={customerStatusId}\r\n                handleGetDefaultList={handleGetDefaultList} handleDeleteClick={handleDeleteClick} isEditablePage={isEditablePage}\r\n            />\r\n            {/* {showModal && (\r\n                <AddEditCarrier handleToggleModal={handleToggleModal} showModal={showModal}\r\n                    // deliveryCarrierId={deliveryCarrierId}\r\n                    onSuccess={onSuccess}\r\n                    \r\n                    isEdit={isEdit} />\r\n            )} */}\r\n        </>\r\n    )\r\n}\r\n\r\nManageCarrier.propTypes = {\r\n    handleGetDefaultList: PropTypes.func.isRequired,\r\n    isGetDataLoading: PropTypes.bool.isRequired,\r\n    isShowButton: PropTypes.bool.isRequired\r\n};\r\nexport default ManageCarrier;"],"names":["CarrierList","React","_ref","handleGetDefaultList","isGetDataLoading","isShowButton","isEditablePage","customerStatusId","molGridRef","useRef","confirm","SwalAlert","showModal","setShowModal","useState","carriersList","customerId","useContext","BasicDetailContext","data","isFetching","isSuccess","useGetAllDeliveryCarriersQuery","deleteCarrier","isDeleteSuccess","isDeletData","useDeleteCustomerDeliveryCarriersByIdMutation","useEffect","getData","map","item","value","carrierId","label","carrier","addEditCarrierFormData","formFields","find","dataField","fieldSetting","options","ToastService","success","errorMessage","handleDeleteClick","index","then","confirmed","customerDeliveryCarrierId","actionHandler","DELETE","_jsx","_Fragment","children","collectAccountData","handleToggleModal"],"sourceRoot":""}