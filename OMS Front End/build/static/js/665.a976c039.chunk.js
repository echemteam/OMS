"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[665],{50665:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var s=a(10723),n=a(11030),r=a(27565),i=a(69885),o=a(19888),l=a(94839),c=a(17295),d=a(13399),u=a(84464),h=a(15269),p=a(74573),g=a(80889),v=a(65748),m=a(1933),S=a(62360),A=a(53941),f=a(70391),C=a(27929);const I=r.lazy((()=>Promise.all([a.e(8145),a.e(5097),a.e(7204),a.e(6774),a.e(6760)]).then(a.bind(a,648)))),E=e=>{let{statusId:t,configFile:a,handleChange:E,search:x,handleChangeDropdown:b,statusOptions:L,selectedDrpvalues:N,selectedStatusOptions:R,searchStatusFilter:T,handleSearch:y,handleClear:j,shouldRerenderFormCreator:O,handleKeyPress:P}=e;const U=(0,r.useRef)(),w=(0,r.useRef)(),B=(0,n.Zp)(),{confirm:D}=(0,g.A)(),[k,z]=(0,r.useState)(0),[F,W]=(0,r.useState)(),{DataRef:K}=(0,r.useContext)(d.A),[V,Z]=(0,r.useState)(),M=(0,s.d4)((e=>e.auth)),{isResponsibleUser:Y,setIsResponsibleUser:_}=(0,r.useContext)(u.A),[H,{isLoading:$,isSuccess:q,data:G}]=(0,m.uf)(),[J,{isLoading:Q,isSuccess:X,data:ee}]=(0,m._U)();(0,r.useEffect)((()=>{Y||te()}),[a]);const te=()=>{const e=null===a||void 0===a?void 0:a.columns.find((e=>"Action"===e.name));if(e){const t=(0,h.T)(o.o.EDITSUPPLIER),a=(0,h.T)(o.o.UNBLOCKSUPPLIER),s=(0,h.T)(o.o.UNFREEZESUPPLIER);e.defaultAction&&(e.defaultAction.allowEdit=null===t||void 0===t?void 0:t.hasAccess),e.customAction=(0,f.V)(null===s||void 0===s?void 0:s.hasAccess,e.customAction,"ALLOWFREEZE"),e.customAction=(0,f.V)(null===a||void 0===a?void 0:a.hasAccess,e.customAction,"ALLOWUNBLOCKED")}};(0,r.useEffect)((()=>{if(q&&G){if(G){W(G.dataSource);G.dataSource.find((e=>{var t;return(0,A.r)(e.responsibleUserId,null===M||void 0===M||null===(t=M.user)||void 0===t?void 0:t.userID)}))?(_(!0),te()):_(!1)}G.totalRecord&&z(G.totalRecord)}}),[q,G]),(0,r.useEffect)((()=>{X&&ee&&(v.A.success(ee.errorMessage),ae())}),[X,ee]),(0,r.useImperativeHandle)(K,(()=>({getListApi:ae})));const ae=()=>{const e=w.current.getCurrentPageObject(),a={pagination:{pageNumber:e.pageNumber,pageSize:e.pageSize},filters:{searchText:x},statusId:0===N.length?Array.isArray(t)?t.join(","):String(t):Array.isArray(N)?N.join(","):String(N)};H(a)},se=()=>{let e={supplierId:V,statusId:l.RR.Approved};J(e)},ne={ALLOWUNFREEZE:e=>{D("Warning?","Are you sure you want to unfreeze and change the status to approved?","Yes","Cancel").then((t=>{t&&se(e)}))},ACTIVECUSTOMER:e=>{(e=>{U.current&&U.current.callChildFunction(e.supplierId),Z(e.supplierId)})(e)},ALLOWUNBLOCKED:e=>{D("Warning?","Are you sure you want to unfreeze and change the status to approved?","Yes","Cancel").then((t=>{t&&se(e)}))},EDIT:e=>{B(`/SupplierDetails/${(0,p.rS)(e.supplierId)}`,"_blank")}};return(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"row",children:(0,C.jsx)("div",{className:"col-xxl-12 col-xl-12 col-md-12 col-12",children:(0,C.jsx)(c.default,{searchInput:!0,handleChange:E,searchInputName:"Search By Supplier Name, Tax Id , Email Address",searchFilter:T,handleChangeDropdown:b,selectedOptions:N,optionsValue:L,isMultiSelect:!0,placeholder:"Search by Status",isCardSection:!0,isdropdownOpen:!0,searchButton:!0,searchbuttonText:"Search",buttonClassName:"theme-button",searchTitleButtonClick:y,clearButton:!0,clearTitleButtonClick:j,clearButtonText:"Clear",clearButtonClassName:"dark-btn",searchIconImg:i.m.SearchIcone,searchTextWithIcon:!0,clearTextWithIcon:!0,clearIconImg:i.m.ClearIcone,handleKeyPress:P,children:(0,C.jsx)("div",{className:"row",children:(0,C.jsx)("div",{className:"col-md-12 table-striped last-center",children:(0,C.jsx)("div",{className:"inactive-scroll-bar ",children:(0,C.jsx)(S.A,{ref:w,configuration:a,dataSource:F,isLoading:$||Q,allowPagination:!0,pagination:{totalCount:k,pageSize:25,currentPage:1},onPageChange:e=>{const a={pagination:{pageNumber:e.pageNumber,pageSize:e.pageSize},filters:{searchText:x},statusId:Array.isArray(t)?t.join(","):String(t)};H(a)},onActionChange:ne})})})})})},O)}),(0,C.jsx)(I,{childRef:U,getListApi:ae,updateApproval:se})]})}},70391:(e,t,a)=>{a.d(t,{V:()=>s});const s=(e,t,a)=>{var s,n;const r=t&&(null===(s=t)||void 0===s?void 0:s.some((e=>(null===e||void 0===e?void 0:e.name)===a))),i=t&&(null===(n=t)||void 0===n?void 0:n.some((e=>(null===e||void 0===e?void 0:e.name)===a)));var o;r&&!1===e?t=null===(o=t)||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.name)!==a)):!r&&i&&(t=[...t||[],t.find((e=>(null===e||void 0===e?void 0:e.name)===a))]);return t}},53941:(e,t,a)=>{a.d(t,{r:()=>s});const s=(e,t)=>{if(!e||!t)return!1;const a=e.toString().split(",").map((e=>e.trim())),s=t.toString();return a.includes(s)}}}]);
//# sourceMappingURL=665.a976c039.chunk.js.map