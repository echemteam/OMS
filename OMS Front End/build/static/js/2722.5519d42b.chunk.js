"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2722],{72722:(e,t,i)=>{i.r(t),i.d(t,{default:()=>O});var a=i(27565),l=i(17295),d=i(18637),s=i(15335);const n={initialState:{paymentTermId:0,paymentMethodId:"",poDeliveryMethodId:""},formFields:[{id:"paymentTermId",lable:"Default Payment Terms Template",Field_Name:"Default Payment Terms Template",fieldType:s.Q.SELECT,dataField:"paymentTermId",fieldSetting:{placeholder:"Select Default Payment Terms Template",isEnableOnChange:!0},style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 col-12 mb-input"}},{id:"paymentMethodId",lable:"Payment Method ",Field_Name:"Payment Method",fieldType:s.Q.SELECT,dataField:"paymentMethodId",fieldSetting:{placeholder:"Select Payment Method",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 col-12 mb-input "}},{id:"poDeliveryMethodId",lable:"Preferred method of purchase order delivery",Field_Name:"Preferred method of purchase order delivery",fieldType:s.Q.SELECT,dataField:"poDeliveryMethodId",fieldSetting:{placeholder:"Select Preferred method of purchase order delivery",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12"}}],formSetting:{isViewOnly:!1}};var o=i(19921);const r={initialState:{ccNote:"",isCCExistsOnFile:!1},formFields:[{id:"ccNote",lable:"Notes",Field_Name:"Notes",fieldType:s.Q.TEXTAREA,dataField:"ccNote",fieldSetting:{placeholder:"Please Enter Notes",isEnableOnChange:!0},style:{containerCss:"col-xxl-8 col-xl-8 col-md-8 col-12 mb-2"}},{id:"isCCExistsOnFile",lable:"Card exists on file",Field_Name:"Card exists on file",fieldType:s.Q.CHECKBOX,dataField:"isCCExistsOnFile",fieldSetting:{placeholder:"Please Select Card exists on file",isEnableOnChange:!0},style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 col-12 mb-2"}}],formSetting:{isViewOnly:!1}};var c=i(60497),m=i(65748),u=i(83955),p=i(27929);const y=e=>{let{onHandleGetById:t,getCreditData:i,supplierId:l,financialSettingFormRef:s,getSupplierCompletionCount:n}=e;const o=(0,a.useRef)(),[y,I]=(0,a.useState)(r),[b,{isLoading:g,isSuccess:f,data:h}]=(0,u.JB)();(0,a.useEffect)((()=>{C(f,h)}),[f,h]);const C=(e,t)=>{e&&t&&S(e,t)};(0,a.useEffect)((()=>{if(i.supplierPaymentSettingId>0){let e={...y};e.initialState={ccNote:i.ccNote,isCCExistsOnFile:i.isCCExistsOnFile},I(e)}}),[i]);const S=(e,i)=>{if(e&&i){if(i.errorMessage.includes("exists"))return void m.A.warning(i.errorMessage);m.A.success(i.errorMessage),l&&t(l),n(l)}};return(0,p.jsx)("div",{className:"ach-wire-section",children:(0,p.jsxs)("div",{className:"sub-card-sec-add",children:[(0,p.jsx)("div",{className:"row",children:(0,p.jsx)(d.A,{config:y,ref:o,...y})}),(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsx)("div",{className:"d-flex align-item-end justify-content-end centered",children:(0,p.jsx)(c.A,{buttonTypeClassName:"theme-button",buttonText:"Save",onClick:async()=>{let e=o.current.getFormData(),t=s.current.getFormData();if(e&&t){let a={supplierFinancialSettings:{isActive:!0,supplierId:l,supplierAccountingSettingId:t.supplierAccountingSettingId?t.supplierAccountingSettingId:0,paymentTermId:t.paymentTermId&&"object"===typeof t.paymentTermId?t.paymentTermId.value:t.paymentTermId,invoiceSubmissionMethod:t.paymentMethodId&&"object"===typeof t.paymentMethodId?t.paymentMethodId.value:t.paymentMethodId,poDeliveryMethodId:t.poDeliveryMethodId&&"object"===typeof t.poDeliveryMethodId?t.poDeliveryMethodId.value:t.poDeliveryMethodId},supplierPaymentSettingId:i.supplierPaymentSettingId?i.supplierPaymentSettingId:0,supplierId:l,ccNote:e.ccNote,isCCExistsOnFile:e.isCCExistsOnFile};b(a)}},isLoading:g})})})]})})},I={initialState:{addressLine1Id:"",addressLine2Id:"",stateId:"",zipCode:"",cityId:"",countryId:""},formFields:[{id:"addressLine1Id",lable:"Address Line 1",Field_Name:"Address Line 1",fieldType:s.Q.INPUT,dataField:"addressLine1Id",fieldSetting:{placeholder:"Please Enter Address Line 1",isEnableOnChange:!0,isMultiSelect:!1,isDisabled:!1,maxLength:50},validation:[{type:"require"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-3"}},{id:"addressLine2Id",lable:"Address Line 2",Field_Name:"Address Line 2",fieldType:s.Q.INPUT,dataField:"addressLine2Id",fieldSetting:{placeholder:"Please Enter Address Line 2",isEnableOnChange:!0,isMultiSelect:!1,isDisabled:!1,maxLength:50},style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-3"}},{id:"countryId",lable:"Country ",Field_Name:"Country",fieldType:s.Q.SELECT,dataField:"countryId",fieldSetting:{placeholder:"Select Country",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-3 col-md-3 col-12 mb-input label-name-small"}},{id:"stateId",lable:"State ",Field_Name:"State",fieldType:s.Q.SELECT,dataField:"stateId",fieldSetting:{isDisabled:!1,placeholder:"Select State",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-3 col-md-3 col-12 mb-input label-name-small"}},{id:"cityId",lable:"City ",Field_Name:"City",fieldType:s.Q.SELECT,dataField:"cityId",fieldSetting:{isDisabled:!1,placeholder:"Select City",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-3 col-md-3 col-12 mb-input label-name-small"}},{id:"zipCode",lable:"Zip Code ",Field_Name:"Zip Code",fieldType:s.Q.INPUT,dataField:"zipCode",fieldSetting:{placeholder:"Enter Zip Code",allowSpace:!0,maxLength:10},validation:[{type:"validZipCode"}],style:{containerCss:"col-xxl-3 col-xl-3 col-md-3 col-12 mb-input label-name-small"}}],formSetting:{isViewOnly:!1}};var b=i(58412),g=i(28734),f=i(71509),h=i(4260),C=i(40480);const S=e=>{let{onHandleGetById:t,getCheckData:i,supplierId:s,financialSettingFormRef:n,isGetPaymentSettingsBySupplierIdSuccess:o,isGetPaymentSettingsBySupplierIdData:r,getSupplierCompletionCount:y}=e;const S=(0,a.useRef)(),[x,N]=(0,a.useState)(I),[v,{isLoading:T,isSuccess:F,data:E}]=(0,u.kI)(),[A,{isSuccess:D,isFetching:L,data:M}]=(0,h.f8)(),[P,{isSuccess:j,isFetching:B,data:k}]=(0,f.sM)(),[O,{isSuccess:R,isFetching:_,data:Q}]=(0,f.dq)();(0,a.useEffect)((()=>{A(),O()}),[]),(0,a.useEffect)((()=>{!L&&D&&M&&(0,b.Xh)(M,"countryId","name",x,"countryId")}),[L,D,M]),(0,a.useEffect)((()=>{if(!B&&j&&k){var e;const t=k.map((e=>({value:e.cityId,label:e.name})));let i={...x};const a=null===i||void 0===i||null===(e=i.formFields)||void 0===e?void 0:e.find((e=>"cityId"===e.id));a.fieldSetting.options=t,N(i)}}),[B,j,k]),(0,a.useEffect)((()=>{w(F,E)}),[F,E]);const w=(e,t)=>{e&&t&&U(e,t)},U=(e,i)=>{if(e&&i){if(i.errorMessage.includes("exists"))return void m.A.warning(i.errorMessage);m.A.success(i.errorMessage),s&&t(s),y(s)}};(0,a.useEffect)((()=>{if(!_&&R&&o&&null!==r&&void 0!==r&&r.mailingAddress){const{mailingAddress:e}=r;let t={...x};e.countryId&&(0,b.Xh)(Q,"stateId","name",t,"stateId",(t=>t.countryId===e.countryId)),e.stateId&&P(e.stateId),t.initialState={addressId:e.addressId,addressLine1Id:e.addressLine1,addressLine2Id:e.addressLine2,countryId:e.countryId,zipCode:e.zipCode,stateId:e.stateId,cityId:e.cityId},N(t)}}),[_,R,o,r]);const G={DDL_CHANGED:(e,t)=>{const i={...x};"countryId"===t?((0,b.Xh)(Q,"stateId","name",i,"stateId",(t=>t.countryId===e.value)),(0,b.Xh)(null,"cityId","name",i,"cityId",null),(0,b.t5)(i,"stateId",g.fV.DISABLED,!1),S.current.updateFormFieldValue({countryId:e.value,stateId:null,cityId:null})):"stateId"===t&&(P(e.value),(0,b.t5)(i,"cityId",g.fV.DISABLED,!1),S.current.updateFormFieldValue({stateId:e.value,cityId:null})),N(i)}};return _?(0,p.jsx)("div",{children:(0,p.jsx)(C.A,{})}):(0,p.jsx)("div",{className:"ach-wire-section",children:(0,p.jsx)("div",{className:"sub-card-sec-add",children:(0,p.jsxs)(l.default,{cardTitle:"Mailing Address",children:[(0,p.jsx)("div",{className:"row",children:(0,p.jsx)(d.A,{config:x,ref:S,...x,onActionChange:G})}),(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsx)("div",{className:"d-flex align-item-end justify-content-end centered",children:(0,p.jsx)(c.A,{buttonTypeClassName:"theme-button",buttonText:"Save",onClick:()=>{let e=n.current.getFormData(),t=S.current.getFormData();if(t&&e){let a={supplierFinancialSettings:{isActive:!0,supplierId:s,supplierAccountingSettingId:e.supplierAccountingSettingId?e.supplierAccountingSettingId:0,paymentTermId:e.paymentTermId&&"object"===typeof e.paymentTermId?e.paymentTermId.value:e.paymentTermId,invoiceSubmissionMethod:e.paymentMethodId&&"object"===typeof e.paymentMethodId?e.paymentMethodId.value:e.paymentMethodId,poDeliveryMethodId:e.poDeliveryMethodId&&"object"===typeof e.poDeliveryMethodId?e.poDeliveryMethodId.value:e.poDeliveryMethodId},supplierPaymentSettingId:i.supplierPaymentSettingId?i.supplierPaymentSettingId:0,supplierId:s,checkMailingAddressId:i.checkMailingAddressId?i.checkMailingAddressId:0,mailingAddress:{addressId:i.addressId?i.addressId:0,addressLine1:t.addressLine1Id,addressLine2:t.addressLine2Id,cityId:t.cityId&&"object"===typeof t.cityId?t.cityId.value:t.cityId,stateId:t.stateId&&"object"===typeof t.stateId?t.stateId.value:t.stateId,countryId:t.countryId&&"object"===typeof t.countryId?t.countryId.value:t.countryId,zipCode:t.zipCode}};v(a)}},isLoading:T})})})]})})})},x={initialState:{otherNote:""},formFields:[{id:"otherNote",lable:"Notes",Field_Name:"Notes",fieldType:s.Q.TEXTAREA,dataField:"otherNote",fieldSetting:{placeholder:"Please Enter Notes",isEnableOnChange:!0},style:{containerCss:"col-xxl-8 col-xl-8 col-md-8 col-12 mb-2"}}],formSetting:{isViewOnly:!1}},N=e=>{let{getOtherData:t,financialSettingFormRef:i,supplierId:l,onHandleGetById:s,getSupplierCompletionCount:n}=e;const o=(0,a.useRef)(),[r,y]=(0,a.useState)(x),[I,{isLoading:b,isSuccess:g,data:f}]=(0,u.WE)();(0,a.useEffect)((()=>{h(g,f)}),[f,g]);const h=(e,t)=>{e&&t&&C(e,t)},C=(e,t)=>{if(e&&t){if(t.errorMessage.includes("exists"))return void m.A.warning(t.errorMessage);m.A.success(t.errorMessage),l&&s(l),n(l)}};(0,a.useEffect)((()=>{if(t.supplierPaymentSettingId>0){let e={...r};e.initialState={supplierPaymentSettingId:t.supplierPaymentSettingId,supplierId:l,otherNote:t.otherNote},y(e)}}),[t]);return(0,p.jsx)("div",{className:"ach-wire-section",children:(0,p.jsxs)("div",{className:"sub-card-sec-add",children:[(0,p.jsx)("div",{className:"row",children:(0,p.jsx)(d.A,{config:r,ref:o,...r})}),(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsx)("div",{className:"d-flex align-item-end justify-content-end centered",children:(0,p.jsx)(c.A,{buttonTypeClassName:"theme-button",buttonText:"Save",onClick:()=>{let e=o.current.getFormData(),a=i.current.getFormData();if(e&&a){let i={supplierFinancialSettings:{isActive:!0,supplierId:l,supplierAccountingSettingId:a.supplierAccountingSettingId?a.supplierAccountingSettingId:0,paymentTermId:a.paymentTermId&&"object"===typeof a.paymentTermId?a.paymentTermId.value:a.paymentTermId,invoiceSubmissionMethod:a.paymentMethodId&&"object"===typeof a.paymentMethodId?a.paymentMethodId.value:a.paymentMethodId,poDeliveryMethodId:a.poDeliveryMethodId&&"object"===typeof a.poDeliveryMethodId?a.poDeliveryMethodId.value:a.poDeliveryMethodId},otherNote:e.otherNote,supplierPaymentSettingId:t.supplierPaymentSettingId?t.supplierPaymentSettingId:0,supplierId:l};I(i)}},isLoading:b})})})]})})};var v=i(45050);const T={initialState:{beneficiaryName:"",addressLine1Id:"",addressLine2Id:"",stateId:"",zipCode:"",cityId:"",countryId:"",recipientPhoneNumber:""},formFields:[{id:"beneficiaryName",lable:"Beneficiary Name",Field_Name:"Beneficiary Name",fieldType:s.Q.INPUT,dataField:"beneficiaryName",fieldSetting:{isDisabled:!1,placeholder:"Please Enter Beneficiary Name",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-input label-name-small"}},{id:"recipientPhoneNumber",lable:"Recipient Phone Number",Field_Name:"Recipient Phone Number",fieldType:s.Q.INPUT,dataField:"recipientPhoneNumber",fieldSetting:{placeholder:"Please Enter Recipient Phone Number",isEnableOnChange:!0},style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-input label-name-small"}},{id:"addressLine1Id",lable:"Address Line 1",Field_Name:"Address Line 1",fieldType:s.Q.INPUT,dataField:"addressLine1Id",fieldSetting:{placeholder:"Please Enter Address Line 1",isEnableOnChange:!0,isMultiSelect:!1,isDisabled:!1,maxLength:35},validation:[{type:"require"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-3"}},{id:"addressLine2Id",lable:"Address Line 2",Field_Name:"Address Line 2",fieldType:s.Q.INPUT,dataField:"addressLine2Id",fieldSetting:{placeholder:"Please Enter Address Line 2",isEnableOnChange:!0,isMultiSelect:!1,isDisabled:!1,maxLength:35},style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-3"}},{id:"countryId",lable:"Country ",Field_Name:"Country",fieldType:s.Q.SELECT,dataField:"countryId",fieldSetting:{placeholder:"Select Country",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-3 col-md-3 col-12 mb-input label-name-small"}},{id:"stateId",lable:"State ",Field_Name:"State",fieldType:s.Q.SELECT,dataField:"stateId",fieldSetting:{isDisabled:!1,placeholder:"Select State",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-3 col-md-3 col-12 mb-input label-name-small"}},{id:"cityId",lable:"City ",Field_Name:"City",fieldType:s.Q.SELECT,dataField:"cityId",fieldSetting:{isDisabled:!1,placeholder:"Select City",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-3 col-md-3 col-12 mb-input label-name-small"}},{id:"zipCode",lable:"Zip Code ",Field_Name:"Zip Code",fieldType:s.Q.INPUT,dataField:"zipCode",fieldSetting:{placeholder:"Enter Zip Code",allowSpace:!0,maxLength:10},validation:[{type:"require"},{type:"validZipCode"}],style:{containerCss:"col-xxl-3 col-xl-3 col-md-3 col-12 mb-input label-name-small"}}],formSetting:{isViewOnly:!1}};var F=i(5022);const E=e=>{let{bankAddressFormData:t,bankFormRef:i,isGetACHWireBySupplierIdSuccess:s,isGetACHWireBySupplierIdData:n}=e;const[o,r]=(0,a.useState)(t),[c,m]=(0,a.useState)(!1),[u,{isSuccess:y,isFetching:I,data:C}]=(0,h.f8)(),[S,{isSuccess:x,isFetching:N,data:v}]=(0,f.sM)(),[T,{data:E}]=(0,f.dq)(),[A,{isFetching:D,isSuccess:L,data:M}]=(0,F.CK)();(0,a.useEffect)((()=>{u(),T(),A()}),[]),(0,a.useEffect)((()=>{!D&&L&&M&&(0,b.Xh)(M,"accountType","accountType",t,"accountType")}),[M,L,D]),(0,a.useEffect)((()=>{!I&&y&&C&&(0,b.Xh)(C,"countryId","name",o,"countryId")}),[I,y,C]),(0,a.useEffect)((()=>{if(!N&&x&&v){var e;const t=v.map((e=>({value:e.cityId,label:e.name})));let i={...o};const a=null===i||void 0===i||null===(e=i.formFields)||void 0===e?void 0:e.find((e=>"cityId"===e.id));a.fieldSetting.options=t,r(i)}}),[N,x,v]);(0,a.useEffect)((()=>{if(null!==n&&void 0!==n&&n.recipientAddress&&E){let e={...o};(0,b.Xh)(E,"stateId","name",e,"stateId",(e=>e.countryId===n.recipientAddress.countryId))}}),[c]),(0,a.useEffect)((()=>{if(s&&null!==n&&void 0!==n&&n.recipientAddress){const{recipientAddress:e}=n;let t={...o};e.countryId&&m(!0),e.stateId&&S(e.stateId),t.initialState={addressId:e.addressId,addressLine1Id:e.addressLine1,addressLine2Id:e.addressLine2,countryId:e.countryId,zipCode:e.zipCode,stateId:e.stateId,cityId:e.cityId,supplierBankDetailsId:n.supplierBankDetailsId,bankAddressId:n.bankAddressId,recipientAddressId:n.recipientAddressId,isAddressInUs:n.isAddressInUs,bankName:n.bankName,accountType:n.accountType,accountNumber:n.accountNumber,branchCode:n.branchCode,ibanNumber:n.ibanNumber,swiftCode:n.swiftCode,routingNumber:n.routingNumber,sortCode:n.sortCode,bsbNumber:n.bsbNumber},r(t)}}),[s,n]);const P={DDL_CHANGED:(e,t)=>{const a={...o};"countryId"===t?((0,b.Xh)(E,"stateId","name",a,"stateId",(t=>t.countryId===e.value)),(0,b.Xh)(null,"cityId","name",a,"cityId",null),(0,b.t5)(a,"stateId",g.fV.DISABLED,!1),i.current.updateFormFieldValue({countryId:e.value,stateId:null,cityId:null})):"stateId"===t&&(S(e.value),(0,b.t5)(a,"cityId",g.fV.DISABLED,!1),i.current.updateFormFieldValue({stateId:e.value,cityId:null})),r(a)}};return(0,p.jsx)(l.default,{cardTitle:"Bank Address Details",children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)(d.A,{config:o,ref:i,...o,onActionChange:P})})})},A=e=>{let{aCHWireOtherRef:t,otherData:i,isGetACHWireBySupplierIdSuccess:s,isGetACHWireBySupplierIdData:n}=e;const[o,r]=(0,a.useState)(i);return(0,a.useEffect)((()=>{if(s&&n){let e={...o};e.initialState={messageToRecipient:n.messageToRecipient,messageToRecipientBank:n.messageToRecipientBank},r(e)}}),[s,n]),(0,p.jsx)(l.default,{cardTitle:"Other Details",children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)(d.A,{config:o,ref:t,...o})})})},D={initialState:{messageToRecipientBank:"",messageToRecipient:""},formFields:[{id:"messageToRecipient",lable:"Message to recipient",Field_Name:"Message to recipient",fieldType:s.Q.TEXTAREA,dataField:"messageToRecipient",fieldSetting:{placeholder:"Please Enter Message to recipient",isEnableOnChange:!0,isMultiSelect:!1,isDisabled:!1},style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-2"}},{id:"messageToRecipientBank",lable:"Message to recipient Bank",Field_Name:"Message to recipient Bank",fieldType:s.Q.TEXTAREA,dataField:"messageToRecipientBank",fieldSetting:{placeholder:"Please Enter Message to recipient Bank",isEnableOnChange:!0,maxLength:75},style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-2"}}],formSetting:{isViewOnly:!1}},L={initialState:{addressLine1Id:"",addressLine2Id:"",stateId:"",zipCode:"",cityId:"",countryId:"",bankName:"",accountType:"Checking",accountNumber:"",isAddressInUs:!1,ibanNumber:"",branchCode:"",swiftCode:"",routingNumber:"",sortCode:"",bsbNumber:""},formFields:[{id:"bankName",lable:"Bank Name",Field_Name:"Bank Name",fieldType:s.Q.INPUT,dataField:"bankName",fieldSetting:{isDisabled:!1,placeholder:"Please Enter Bank Name",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 col-12 mb-input label-name-small"}},{id:"addressLine1Id",lable:"Bank Address Line 1",Field_Name:"Address Line 1",fieldType:s.Q.INPUT,dataField:"addressLine1Id",fieldSetting:{placeholder:"Please Enter Address Line 1",isEnableOnChange:!0,isMultiSelect:!1,isDisabled:!1,maxLength:50},validation:[{type:"require"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-3"}},{id:"addressLine2Id",lable:"Bank Address Line 2",Field_Name:"Address Line 2",fieldType:s.Q.INPUT,dataField:"addressLine2Id",fieldSetting:{placeholder:"Please Enter Address Line 2",isEnableOnChange:!0,isMultiSelect:!1,isDisabled:!1,maxLength:50},style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-3"}},{id:"countryId",lable:"Country ",Field_Name:"Country",fieldType:s.Q.SELECT,dataField:"countryId",fieldSetting:{placeholder:"Select Country",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-3 col-md-3 col-12 mb-input label-name-small"}},{id:"stateId",lable:"State ",Field_Name:"State",fieldType:s.Q.SELECT,dataField:"stateId",fieldSetting:{isDisabled:!1,placeholder:"Select State",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-3 col-md-3 col-12 mb-input label-name-small"}},{id:"cityId",lable:"City ",Field_Name:"City",fieldType:s.Q.SELECT,dataField:"cityId",fieldSetting:{isDisabled:!1,placeholder:"Select City",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-3 col-md-3 col-12 mb-input label-name-small"}},{id:"zipCode",lable:"Zip Code ",Field_Name:"Zip Code",fieldType:s.Q.INPUT,dataField:"zipCode",fieldSetting:{placeholder:"Enter Zip Code",allowSpace:!0,maxLength:10},validation:[{type:"require"},{type:"validZipCode"}],style:{containerCss:"col-xxl-3 col-xl-3 col-md-3 col-12 mb-input label-name-small"}},{id:"accountType",lable:"Account Type",Field_Name:"Account Type",fieldType:s.Q.SELECT,dataField:"accountType",fieldSetting:{isDisabled:!1,placeholder:"Select Account Type",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input label-name-small"}},{id:"accountNumber",lable:"Account Number",Field_Name:"Account Number",fieldType:s.Q.INPUT,dataField:"accountNumber",fieldSetting:{isDisabled:!1,placeholder:"Please Enter Account Number",isEnableOnChange:!0,maxLength:35},validation:[{type:"require"}],style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input label-name-small"}},{id:"routingNumber",lable:"Routing No (US Banks) (9 digits)",Field_Name:"Routing No (US Banks) (9 digits)",fieldType:s.Q.INPUT,dataField:"routingNumber",fieldSetting:{isDisabled:!1,placeholder:"Please Enter Routing No (US Banks) (9 digits)",isEnableOnChange:!0,maxLength:9},style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input label-name-small"}},{id:"swiftCode",lable:"Swift Code",Field_Name:"Swift Code",fieldType:s.Q.INPUT,dataField:"swiftCode",fieldSetting:{isDisabled:!1,placeholder:"Please Enter Swift Code",isEnableOnChange:!0,maxLength:11},validation:[{type:"validateCharacters"}],style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input label-name-small"}},{id:"ibanNumber",lable:"IBAN Number",Field_Name:"IBAN Number",fieldType:s.Q.INPUT,dataField:"ibanNumber",fieldSetting:{isDisabled:!1,placeholder:"Please Enter IBAN Number",isEnableOnChange:!0,maxLength:35},style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input label-name-small"}},{id:"sortCode",lable:"Sort Code (UK Banks) (6 digits)",Field_Name:"Sort Code (UK Banks) (6 digits)",fieldType:s.Q.INPUT,dataField:"sortCode",fieldSetting:{isDisabled:!1,placeholder:"Please Enter Sort Code (UK Banks) (6 digits)",isEnableOnChange:!0,maxLength:6},style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input label-name-small"}},{id:"bsbNumber",lable:"BSB Number (Aust Banks) (6 digits)",Field_Name:"BSB Number (Aust Banks) (6 digits)",fieldType:s.Q.INPUT,dataField:"bsbNumber",fieldSetting:{isDisabled:!1,placeholder:"Please Enter BSB Number (Aust Banks) (6 digits)",isEnableOnChange:!0,maxLength:6},style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input label-name-small"}},{id:"branchCode",lable:"Branch Code",Field_Name:"Branch Code",fieldType:s.Q.INPUT,dataField:"branchCode",fieldSetting:{isDisabled:!1,placeholder:"Please Enter Branch Code",isEnableOnChange:!0},style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input label-name-small"}},{id:"isAddressInUs",lable:"Bank Account located in the United States or US Territory",Field_Name:"Bank Account located in the United States or US Territory",fieldType:s.Q.CHECKBOX,dataField:"isAddressInUs",fieldSetting:{placeholder:""},style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-3 pt-2"}}],formSetting:{isViewOnly:!1}};var M=i(38860);const P=e=>{let{activeTabIndex:t,supplierId:i,financialSettingFormRef:s,getSupplierCompletionCount:n}=e;const o=(0,a.useRef)(),r=(0,a.useRef)(),y=(0,a.useRef)(),[I,C]=(0,a.useState)(T),[S,{isSuccess:x,isFetching:N,data:v}]=(0,h.f8)(),[F,{isSuccess:P,isFetching:j,data:B}]=(0,f.sM)(),[k,{data:O}]=(0,f.dq)(),[R,{isLoading:_,isSuccess:Q,data:w}]=(0,u.h5)(),[U,{isFetching:G,isSuccess:H,data:q}]=(0,u.z5)();(0,a.useEffect)((()=>{S(),k()}),[]),(0,a.useEffect)((()=>{!N&&x&&v&&(0,b.Xh)(v,"countryId","name",I,"countryId")}),[N,x,v]),(0,a.useEffect)((()=>{if(!j&&P&&B){var e;const t=B.map((e=>({value:e.cityId,label:e.name})));let i={...I};const a=null===i||void 0===i||null===(e=i.formFields)||void 0===e?void 0:e.find((e=>"cityId"===e.id));a.fieldSetting.options=t,C(i)}}),[j,P,B]);const z={DDL_CHANGED:(e,t)=>{const i={...I};"countryId"===t?((0,b.Xh)(O,"stateId","name",i,"stateId",(t=>t.countryId===e.value)),(0,b.Xh)(null,"cityId","name",i,"cityId",null),(0,b.t5)(i,"stateId",g.fV.DISABLED,!1),o.current.updateFormFieldValue({countryId:e.value,stateId:null,cityId:null})):"stateId"===t&&(F(e.value),(0,b.t5)(i,"cityId",g.fV.DISABLED,!1),o.current.updateFormFieldValue({stateId:e.value,cityId:null})),C(i)}};(0,a.useEffect)((()=>{0===t&&i>0&&U(i)}),[t]),(0,a.useEffect)((()=>{X(Q,w)}),[Q,w]);const X=(e,t)=>{e&&t&&V(e,t)},V=(e,t)=>{if(e&&t){if(t.errorMessage&&t.errorMessage.includes("exists"))return void m.A.warning(t.errorMessage);m.A.success(t.errorMessage),i&&U(i),n(i)}};(0,a.useEffect)((()=>{if(!G&&H&&q){let e={...I};const{bankAddress:t}=q;t.countryId&&(0,b.Xh)(O,"stateId","name",e,"stateId",(e=>e.countryId===t.countryId)),t.stateId&&F(t.stateId),q.supplierBankDetailsId&&(e.initialState={supplierId:i,recipientPhoneNumber:q.recipientPhoneNumber,beneficiaryName:q.beneficiaryName,addressId:t.addressId,addressLine1Id:t.addressLine1,addressLine2Id:t.addressLine2,countryId:t.countryId,zipCode:t.zipCode,stateId:t.stateId,cityId:t.cityId},C(e))}}),[G,H,q]);return G?(0,p.jsx)("div",{children:(0,p.jsx)(M.A,{})}):(0,p.jsxs)("div",{className:"ach-wire-section",children:[(0,p.jsx)(l.default,{cardTitle:"Beneficiary/Remit To Details",children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)(d.A,{config:I,ref:o,...I,onActionChange:z})})}),(0,p.jsx)(E,{bankFormRef:y,bankAddressFormData:L,isGetACHWireBySupplierIdSuccess:H,isGetACHWireBySupplierIdData:q}),(0,p.jsx)(A,{aCHWireOtherRef:r,otherData:D,isGetACHWireBySupplierIdSuccess:H,isGetACHWireBySupplierIdData:q}),(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsx)("div",{className:"d-flex align-item-end justify-content-end centered",children:(0,p.jsx)(c.A,{buttonTypeClassName:"theme-button",buttonText:"Save",onClick:async()=>{const e=s.current.getFormData(),t=y.current.getFormData(),a=o.current.getFormData(),l=r.current.getFormData();if(e&&t&&a){var d,n,c;const s=(e,t)=>e[t]&&"object"===typeof e[t]?e[t].value:e[t],o={supplierFinancialSettings:{isActive:!0,supplierId:i,supplierAccountingSettingId:null!==(d=e.supplierAccountingSettingId)&&void 0!==d?d:0,paymentTermId:s(e,"paymentTermId"),invoiceSubmissionMethod:s(e,"paymentMethodId"),poDeliveryMethodId:s(e,"poDeliveryMethodId")},beneficiaryDetails:{addressId:null!==(n=a.addressId)&&void 0!==n?n:0,addressLine1:a.addressLine1Id,addressLine2:a.addressLine2Id,cityId:s(a,"cityId"),stateId:s(a,"stateId"),countryId:s(a,"countryId"),zipCode:a.zipCode,recipientPhoneNumber:a.recipientPhoneNumber,beneficiaryName:a.beneficiaryName},bankDetails:{addressId:null!==(c=t.addressId)&&void 0!==c?c:0,addressLine1:t.addressLine1Id,addressLine2:t.addressLine2Id,cityId:s(t,"cityId"),stateId:s(t,"stateId"),countryId:s(t,"countryId"),zipCode:t.zipCode,bankName:t.bankName,accountType:s(t,"accountType"),accountNumber:t.accountNumber,branchCode:t.branchCode,ibanNumber:t.ibanNumber,swiftCode:t.swiftCode,routingNumber:t.routingNumber,sortCode:t.sortCode,bsbNumber:t.bsbNumber,isAddressInUs:t.isAddressInUs},otherDetails:{messageToRecipientBank:l.messageToRecipientBank,messageToRecipient:l.messageToRecipient},supplierId:i};R(o)}},isLoading:_})})})]})};var j=i(10723);const B=e=>{let{supplierId:t,isEditablePage:i,getSupplierCompletionCount:s}=e;const c=(0,a.useRef)(),[m,f]=(0,a.useState)(n),[h,C]=(0,a.useState)(!1),[T]=(0,a.useState)(I),[F,E]=(0,a.useState)(r),[A,D]=(0,a.useState)(x),[L,M]=(0,a.useState)(0),B=(0,j.d4)((e=>e.organization)),[k,{isFetching:O,isSuccess:R,data:_}]=(0,v.qC)(),[Q,{isFetching:w,isSuccess:U,data:G}]=(0,v.ET)(),[H,{isFetching:q,isSuccess:z,data:X}]=(0,u.$s)(),[V,{isFetching:W,isSuccess:Z,data:K}]=(0,u.Yv)(),[J,{isFetching:Y,isSuccess:$,data:ee}]=(0,u.FL)();(0,a.useEffect)((()=>{k(),Q(),H(),i&&t>0&&J(t)}),[]),(0,a.useEffect)((()=>{i&&t>0&&V(t)}),[i]),(0,a.useEffect)((()=>{!O&&R&&_&&((0,b.Xh)(_,"paymentTermId","paymentTerm",n,"paymentTermId"),C((e=>!e))),!w&&U&&G&&((0,b.Xh)(G,"paymentMethodId","method",n,"paymentMethodId"),C((e=>!e))),!q&&z&&X&&((0,b.Xh)(X,"poDeliveryMethodId","poDeliveryMethod",n,"poDeliveryMethodId"),C((e=>!e)))}),[O,R,_,w,U,G,X,z,q]),(0,a.useEffect)((()=>{if(!W&&Z&&K){let e={...m};e.initialState={paymentTermId:K.paymentTermId?K.paymentTermId:B.otherCharge&&B.otherCharge.defaultPaymentTerms?B.otherCharge.defaultPaymentTerms:"",paymentMethodId:K.invoiceSubmissionMethod,poDeliveryMethodId:K.poDeliveryMethodId,supplierAccountingSettingId:K.supplierAccountingSettingId},f(e)}else{let e={...m};K||null!==K&&void 0!==K&&K.paymentTermId||(e.initialState.paymentTermId=B.otherCharge&&B.otherCharge.defaultPaymentTerms?B.otherCharge.defaultPaymentTerms:"")}}),[W,Z,K]),(0,a.useEffect)((()=>{if(!Y&&$&&ee){let e={...F},i={...A};1===L&&ee.ccNote&&(e.initialState={supplierPaymentSettingId:ee.supplierPaymentSettingId,supplierId:t,ccNote:ee.ccNote,isCCExistsOnFile:ee.isCCExistsOnFile,checkMailingAddressId:ee.checkMailingAddressId}),E(e),3===L&&ee.otherNote&&(i.initialState={supplierPaymentSettingId:ee.supplierPaymentSettingId,supplierId:t,otherNote:ee.otherNote},D(i))}}),[L,Y,$,ee]);const te=e=>{J(e)},ie=[{sMenuItemCaption:"ACH/Wire",component:(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsx)(P,{activeTabIndex:L,financialSettingFormRef:c,supplierId:t,isEditablePage:i,getSupplierCompletionCount:s})}),tab:g.FG.ACHWIRE},{sMenuItemCaption:"Credit Card (CC)",component:(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsx)(y,{financialSettingFormRef:c,supplierId:t,getCreditData:F.initialState,onHandleGetById:te,getSupplierCompletionCount:s})}),tab:g.FG.CREDITCARD},{sMenuItemCaption:"Check",component:(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsx)(S,{financialSettingFormRef:c,supplierId:t,getCheckData:T.initialState,onHandleGetById:te,isGetPaymentSettingsBySupplierIdData:ee,isGetPaymentSettingsBySupplierIdSuccess:$,getSupplierCompletionCount:s})}),tab:g.FG.CHECK},{sMenuItemCaption:"Other",component:(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsx)(N,{financialSettingFormRef:c,supplierId:t,getOtherData:A.initialState,onHandleGetById:te,getSupplierCompletionCount:s})}),tab:g.FG.OTHER}];return(0,p.jsxs)("div",{className:"address-main-card-sec",children:[(0,p.jsx)("div",{className:"mb-2",children:(0,p.jsx)(l.default,{children:(0,p.jsx)("div",{className:"row",children:(0,a.createElement)(d.A,{config:m,ref:c,...m,key:h})})})}),(0,p.jsx)("div",{className:"payment-method-sec",children:(0,p.jsx)(l.default,{cardTitle:"Payment Method",children:(0,p.jsx)("div",{className:"vertical-tab-inner",children:(0,p.jsx)(o.A,{tabs:ie,isCollapse:!0,onTabClick:e=>{M(e)}})})})})]})};var k=i(84464);const O=e=>{let{isEditablePage:t}=e;const{supplierId:i,getSupplierCompletionCount:l}=(0,a.useContext)(k.A);return(0,p.jsx)("div",{className:"financial-setting",children:(0,p.jsx)(B,{supplierId:i||0,isEditablePage:t,getSupplierCompletionCount:l})})}}}]);
//# sourceMappingURL=2722.5519d42b.chunk.js.map