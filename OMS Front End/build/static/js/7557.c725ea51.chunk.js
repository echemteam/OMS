"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7557],{27557:(e,t,i)=>{i.r(t),i.d(t,{default:()=>x});var a=i(27565),n=i(69885),c=i(17690),l=i(17295),o=i(37549),s=i(79742),d=i(52085),r=i(58412),m=i(65748),u=i(15269),p=i(19921),y=i(3737),h=i(27929);const I=a.lazy((()=>i.e(8604).then(i.bind(i,98604)))),C=a.lazy((()=>i.e(9263).then(i.bind(i,99263)))),x=e=>{let{keyId:t,getContactByKeyId:i,addEditContactMutation:x,isSupplier:g,isEditablePage:S,SecurityKey:T,getContactById:f,isSearchFilterShow:v,contryIdCode:b,customerStatusId:E,getCompletionCount:N}=e;const F=(0,a.useRef)(),A=(0,a.useRef)(),j=(0,a.useRef)(),[P,D]=(0,a.useState)(""),[B,w]=(0,a.useState)(!1),[k,K]=(0,a.useState)(""),[L,R]=(0,a.useState)(!1),[O,M]=(0,a.useState)(!0),[V,Q]=(0,a.useState)([]),[_,q]=(0,a.useState)(!0),[z,G]=(0,a.useState)(""),[U,{isSuccess:W,data:X}]=(0,d.sD)();(0,a.useEffect)((()=>{if(S&&T){const e=(0,u.T)(T.ADD),t=(0,u.T)(T.EDIT);e&&(!0===e.hasAccess?q(!0):q(!1)),t&&!0===t.isViewOnly||!0===t.isEditable?M(!0):M(!1)}}),[S,g,T]),(0,a.useEffect)((()=>{U()}),[t]),(0,a.useEffect)((()=>{if(W&&X){var e;const t=e=>g?e.isForSuppliers:e.isForCustomers;(0,r.Xh)(X,"contactTypeId","type",o.A,"contactTypeId",t);const i=(0,r.Nw)(o.A,"contactTypeId");K(null===i||void 0===i||null===(e=i.fieldSetting)||void 0===e?void 0:e.options),Q((0,y.xG)(X))}}),[W,X]);const Y=()=>{P.length>=3||z.length>0?Z():m.A.warning(c.K.CommonErrorMessage)},H=e=>{w(!0),R(!L),F.current&&F.current.callEditFunction(e)},Z=()=>{let e={id:t,searchText:P,contactType:Array.isArray(z)?z.join(","):String(z)};j.current&&j.current.callChildListFunction(e)},J=()=>{R(!1),Z()},$=[e=>(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)(I,{keyId:t,isSupplier:g,getListRef:j,handleEdit:H,showEditIcon:O,getContactByKeyId:i,selectedContactTypeId:e,search:P,getCompletionCount:N,isEditablePage:S,SecurityKey:T})})}),e=>(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)(I,{keyId:t,getListRef:j,isSupplier:g,handleEdit:H,showEditIcon:O,getContactByKeyId:i,selectedContactTypeId:e,search:P,getCompletionCount:N,isEditablePage:S,SecurityKey:T})})}),e=>(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)(I,{keyId:t,getListRef:j,isSupplier:g,handleEdit:H,showEditIcon:O,getContactByKeyId:i,selectedContactTypeId:e,search:P,getCompletionCount:N,isEditablePage:S,SecurityKey:T})})}),e=>(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)(I,{keyId:t,getListRef:j,handleEdit:H,showEditIcon:O,getContactByKeyId:i,selectedContactTypeId:e,search:P,getCompletionCount:N,isEditablePage:S,SecurityKey:T})})}),e=>(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)(I,{keyId:t,getListRef:j,isSupplier:g,handleEdit:H,showEditIcon:O,getContactByKeyId:i,selectedContactTypeId:e,search:P,getCompletionCount:N,isEditablePage:S,SecurityKey:T})})}),e=>(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)(I,{keyId:t,getListRef:j,isSupplier:g,handleEdit:H,showEditIcon:O,getContactByKeyId:i,selectedContactTypeId:e,search:P,getCompletionCount:N,isEditablePage:S,SecurityKey:T})})}),e=>(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)(I,{keyId:t,getListRef:j,isSupplier:g,handleEdit:H,showEditIcon:O,getContactByKeyId:i,selectedContactTypeId:e,search:P,getCompletionCount:N,isEditablePage:S,SecurityKey:T})})})],ee=null===V||void 0===V?void 0:V.filter((e=>g?e.isForSuppliers:e.isForCustomers)),te=null===ee||void 0===ee?void 0:ee.map(((e,t)=>{const i=$[t]?$[t]([e.contactTypeId]):(0,h.jsx)("div",{className:"mt-2",children:"Default Tab"});return{sMenuItemCaption:e.type,component:i}}));return(0,h.jsxs)("div",{className:"contact-main-card-section vertical-tab-card",children:[(0,h.jsx)(l.default,{cardTitle:v?"":"Contact",handleChange:e=>{D(e.target.value.trim())},searchInputName:"Search By Name and Email",searchInput:v,buttonClassName:"theme-button",textWithIcon:!0,iconImg:n.m.PlusIcon,rightButton:_,buttonText:"Add",titleButtonClick:()=>{w(!1),R(!0),A.current&&A.current.callChildFunction()},clearButton:v,clearTitleButtonClick:()=>{D("");let e={id:t,searchText:"",contactType:Array.isArray(z)?z.join(","):String(z)};j.current&&j.current.callChildListFunction(e)},clearButtonText:"Clear",searchButton:v,searchbuttonText:"Search",searchTitleButtonClick:Y,searchFilter:!1,handleChangeDropdown:e=>{const t=e.map((e=>e.value));t.length>0?G(t):G("")},selectedOptions:z,optionsValue:k,isMultiSelect:!0,placeholder:"Search by Contact Type",isCardSection:!0,isdropdownOpen:!0,clearButtonClassName:"dark-btn",searchIconImg:n.m.SearchIcone,searchTextWithIcon:!0,clearTextWithIcon:!0,clearIconImg:n.m.ClearIcone,searchValue:P,handleKeyPress:e=>{"Enter"===e.code&&Y()},children:(0,h.jsx)("div",{className:"vertical-tab-inner",children:(0,h.jsx)(p.A,{tabs:te,isCollapse:!0,onTabClick:()=>{D("")}})})}),(0,h.jsx)("div",{className:"sidebar-contact-model",children:(0,h.jsx)(s.default,{modalTitle:"Add/Edit Contact",contentClass:"content-50",onClose:J,modalTitleIcon:n.m.AddIcon,isOpen:L,children:(0,h.jsx)(C,{isOrderManage:!1,isSupplier:g,onSidebarClose:J,childRef:A,onSuccess:()=>{Z(),R(!L)},isEdit:B,editRef:F,SecurityKey:T,onGetContactList:Z,addEditContactMutation:x,keyId:t,isEditablePage:S,isOpen:L,getContactById:f,getContectTypeId:null,contryIdCode:b,customerId:null,onhandleApiCall:null,orderResetValue:null,customerStatusId:E,allGetAllContactTypesData:X,getCompletionCount:N})})})]})}},37549:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(15335);const n={name:"Email From",initialState:{firstName:"",lastName:"",contactTypeId:"",isPrimary:!1},formFields:[{id:"firstName",lable:"First Name ",Field_Name:"First Name",fieldType:a.Q.INPUT,dataField:"firstName",fieldSetting:{placeholder:"Enter First Name",allowSpace:!0,maxLength:50},validation:[{type:"require"},{type:"onlyText"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 col-12 mb-input"}},{id:"lastName",lable:"Last Name ",Field_Name:"Last Name",fieldType:a.Q.INPUT,dataField:"lastName",fieldSetting:{placeholder:"Enter Last Name",allowSpace:!0,maxLength:50},validation:[{type:"require"},{type:"onlyText"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 col-12 mb-input"}},{id:"contactTypeId",lable:"Contact Type ",Field_Name:"Contact Type",fieldType:a.Q.SELECT,dataField:"contactTypeId",fieldSetting:{placeholder:"Select Contact Type",isMultiSelect:!0,isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-8 col-xl-8 col-md-12 col-12 col-12 mb-input"}},{id:"isPrimary",lable:"Is Primary",Field_Name:"Is Primary",fieldType:a.Q.CHECKBOX,dataField:"isPrimary",fieldSetting:{placeholder:"",allowSpace:!0},style:{containerCss:"col-xxl-4 col-xl-4 col-md-12 col-12 col-12 mb-input mt-3 margin-left0-checkbox margin-top-checkbox"}}],formSetting:{isViewOnly:!1}}},91868:(e,t,i)=>{i.d(t,{qz:()=>l,r:()=>o});var a=i(69885),n=i(15335),c=i(79663);const l={name:"Document Form",initialState:{name:"",documentTypeId:"",supplierId:"",customerId:"",attachment:"",base64File:"",storagePath:""},formFields:[{id:"documentTypeId",lable:"Document Type ",Field_Name:"Document Type",fieldType:n.Q.SELECT,fieldType:n.Q.EDITABLEDROPDOWN,dataField:"documentTypeId",fieldSetting:{placeholder:"Select Document Type",isEnableOnChange:!0,options:[]},validation:[{type:"require"}],style:{containerCss:"col-xxl-6 col-xl-12 col-md-6 col-12 mb-input"}},{id:"name",lable:"Document Name ",Field_Name:"Document Name",fieldType:n.Q.INPUT,dataField:"name",fieldSetting:{placeholder:"Enter Document Name",allowSpace:!0,maxLength:50,isDisable:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-6 col-xl-12 col-md-6 col-12 mb-input"}},{id:"attachment",lable:"Attachment ",Field_Name:"Attachment",fieldType:n.Q.FILE,dataField:"attachment",fieldSetting:{placeholder:"Upload Attachment",allowSpace:!0,isButtonVisible:!1,isCustomButtonVisible:!0,acceptedFiles:".pdf , .docx "},validation:[{type:"require"}],style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 col-12 col-12 mb-input mb-0 custom-file-upload-section"}}]},o=(c.f.ACTION,[{type:"pdf",icon:a.m.PdfIcon},{type:"doc",icon:a.m.DocIcon},{type:"docx",icon:a.m.DocIcon},{type:"xlsx",icon:a.m.XlsIcon},{type:"xls",icon:a.m.XlsIcon},{type:"ppt",icon:a.m.PptIcon},{type:"zip",icon:a.m.ZipIcon},{type:"csv",icon:a.m.CsvIcon}])},3737:(e,t,i)=>{i.d(t,{Co:()=>r,EV:()=>p,H:()=>l,Ix:()=>s,Vz:()=>d,i_:()=>y,jZ:()=>o,oP:()=>m,xG:()=>c});var a=i(76969),n=i(91868);const c=e=>[{id:0,type:"All",isForSuppliers:!0,isForCustomers:!0,contactTypeId:""},...e],l=(e,t)=>t?String(e&&"object"===typeof e?e.value:e):Array.isArray(e)?e.map(String).join(","):String(e&&"object"===typeof e?e.value:e),o=e=>[{id:0,type:"All",isForSuppliers:!0,isForCustomers:!0,addressTypeId:""},...e],s=e=>{const t=e.every((e=>!e.isPrimary));return e.map(((e,i)=>({...e,extension:"-"===e.extension?0:e.extension,isPrimary:!(!t||0!==i)||e.isPrimary})))},d=e=>{const t=e.every((e=>!e.isPrimary));return e.map(((e,i)=>({...e,isPrimary:!(!t||0!==i)||e.isPrimary})))},r=e=>e.map((e=>({...e,description:e.description+" by "+e.name+" on "+(0,a.Ay)(e.changedAt,"MM/DD/YYYY hh:mm A")}))),m=e=>{const t=null===e||void 0===e?void 0:e.split("."),i=(null===t||void 0===t?void 0:t.length)>1?t[t.length-1]:"";return u(i)},u=e=>{const t=n.r.find((t=>t.type===e));return t?t.icon:null},p=e=>e.reduce(((e,t)=>{const{type:i,attachment:a,customerDocumentId:n,customerId:c,documentTypeId:l,name:o,createdAt:s,isArchive:d}=t,r={attachment:a,customerDocumentId:n,customerId:c,documentTypeId:l,name:o,documentIcon:m(a),createdAt:s,isArchive:d,type:i};return e[i]||(e[i]=[]),e[i].push(r),e}),{}),y=e=>e.reduce(((e,t)=>{const{type:i,attachment:a,supplierDocumentId:n,supplierId:c,documentTypeId:l,name:o,createdAt:s,isArchive:d}=t,r={attachment:a,supplierDocumentId:n,supplierId:c,documentTypeId:l,name:o,documentIcon:m(a),createdAt:s,isArchive:d};return e[i]||(e[i]=[]),e[i].push(r),e}),{})}}]);
//# sourceMappingURL=7557.c725ea51.chunk.js.map