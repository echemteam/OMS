"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[624],{624:(e,s,t)=>{t.r(s),t.d(s,{default:()=>y});var l=t(27565),a=t(76969),n=t(69885),i=t(60497),c=t(38860);const d=["lightGray","lightGreen","lightYellow","lightBlue","lightPink","lightPurple","lightOrange"],o=e=>d[e%d.length];var r=t(69377),m=t(35263),h=(t(80251),t(35728)),x=t(27929);const u=e=>{let{notesData:s}=e;return(0,x.jsx)("div",{className:"timeline-section",children:(0,x.jsxs)("div",{className:"timeline-ui",children:[(0,x.jsx)("div",{className:"msg-desc",children:(0,x.jsx)("ul",{children:s.length>0?s.map(((e,s)=>(0,x.jsx)("li",{className:`${o(s)}`,children:(0,x.jsxs)("div",{className:"notes-desc",children:[(0,x.jsxs)("div",{className:"desc-sec",children:[(0,x.jsx)("div",{className:"notes-sec",children:(0,x.jsx)("div",{className:"html-render",dangerouslySetInnerHTML:{__html:e.newNote}})}),(0,x.jsx)("div",{className:"name-time",children:(0,x.jsxs)("span",{className:"name",children:["Updated By: ",(0,x.jsx)("span",{children:e.updatedBy})]})})]}),(0,x.jsxs)("div",{className:"date-time-sec",children:[(0,x.jsx)("div",{className:"date",children:(0,a.x6)((0,a.Ay)(e.updatedAt))}),(0,x.jsx)("div",{className:"time",children:(0,h.yY)(e.updatedAt,"MM/DD/YYYY hh:mm")})]})]})},s))):(0,x.jsx)(r.A,{})})}),(0,x.jsx)("div",{className:"center-line"})]})})};var j=t(79742),N=t(4213),v=t(5022),p=t(28734);const y=(0,l.forwardRef)((e=>{let{keyId:s,handleEditClick:t,onGetByIdNotes:d,showEditIcon:h,listRef:y,isSupplier:g}=e;const[f,A]=(0,l.useState)([]),[I,b]=(0,l.useState)(!1),[C,Y]=(0,l.useState)([]),[k,{isFetching:w,isSuccess:D,data:S}]=d(),[T,{isFetching:M,isSuccess:E,data:H}]=(0,v.D0)();(0,l.useEffect)((()=>{s&&B(s)}),[s]),(0,l.useEffect)((()=>{!M&&E&&H&&H&&Y(H)}),[M,E,H]),(0,l.useEffect)((()=>{!w&&D&&S&&Array.isArray(S)&&A(S)}),[w,D,S]);const B=e=>{k(e)};(0,l.useImperativeHandle)(y,(()=>({callListFunction:B})));const F=e=>{(e=>{let t={entityId:e,ownerId:s,ownerTypeId:g?p.A$.Supplier:p.A$.Customer,noteType:p.GP.DefaultNote};T(t)})(e),b(!0)};return(0,x.jsxs)("div",{className:"row",children:[w?(0,x.jsx)(c.A,{}):(0,x.jsxs)(x.Fragment,{children:[" ",f.length>0?f.map(((e,s)=>(0,x.jsx)("div",{className:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-2",children:(0,x.jsx)("div",{className:`notes-card randomColor ${o(s)}`,children:(0,x.jsx)("div",{className:"card-content",children:(0,x.jsxs)("div",{className:"bottom-info",children:[(0,x.jsxs)("div",{className:"note-text editor-section",children:[(0,x.jsx)("div",{dangerouslySetInnerHTML:{__html:e.note}}),(0,x.jsxs)("div",{className:"history-btn",onClick:()=>F(g?e.supplierNoteId:e.customerNoteId),children:[(0,x.jsx)(m.A,{icon:"iconamoon:history-bold",className:"history-btn"}),(0,x.jsx)(N.A,{text:"History"})]})]}),(0,x.jsxs)("div",{className:"card-notes ",children:[(0,x.jsxs)("div",{className:"note-label",children:["Created on"," ",(0,a.Ay)(e.noteDate,"MM/DD/YYYY hh:mm A")," ","by ",e.fullName]}),(0,x.jsx)("div",{className:"edit-button",children:h?(0,x.jsx)(i.A,{buttonTypeClassName:"edit-btn",onClick:()=>t(e),textWithIcon:!0,imagePath:n.m.editThemeIcon}):null})]})]})})})},s))):(0,x.jsx)(r.A,{})]}),(0,x.jsx)(j.default,{modalTitle:"History",contentClass:"content-50",onClose:()=>{b(!1)},modalTitleIcon:n.m.AddIcon,isOpen:I,children:(0,x.jsx)(u,{notesData:C})})]})}))},80251:()=>{}}]);
//# sourceMappingURL=624.62ba39c8.chunk.js.map