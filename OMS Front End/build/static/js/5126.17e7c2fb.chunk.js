"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[5126],{35126:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var i=a(27565),l=a(17295),d=a(35263),n=a(79742),c=a(69885),t=a(2604),r=a(75707),o=a(27929);const u=e=>{let{customerId:s}=e;const[a,l]=(0,i.useState)(null),[n,{isFetching:c,isSuccess:u,data:m}]=(0,t.hG)();return(0,i.useEffect)((()=>{s&&n(s)}),[s]),(0,i.useEffect)((()=>{!c&&u&&m&&l(m)}),[c,u,m]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"customer-popup-sec",children:(0,o.jsxs)("div",{className:"popup-body-sec",children:[(0,o.jsxs)("div",{className:"name-icon-status",children:[(0,o.jsx)("div",{className:"icon-sec",children:(v=null===a||void 0===a?void 0:a.name,x=null===a||void 0===a?void 0:a.name,((null===v||void 0===v?void 0:v[0])||"").toUpperCase()+((null===x||void 0===x?void 0:x[0])||"").toUpperCase())}),(0,o.jsxs)("div",{className:"name-status",children:[(0,o.jsx)("div",{className:"name-sec",children:null===a||void 0===a?void 0:a.name}),(0,o.jsx)("div",{className:`status-sec ${(0,r.x)(null===a||void 0===a?void 0:a.status)}`,children:null===a||void 0===a?void 0:a.status})]})]}),(0,o.jsxs)("div",{className:"desc-sec-bottom",children:[(0,o.jsxs)("div",{className:"icon-detail",children:[(0,o.jsx)("span",{className:"icon-part",children:(0,o.jsx)(d.A,{icon:"ic:round-email"})}),(0,o.jsx)("span",{className:"info-part",children:(0,o.jsx)("div",{class:"values",children:null===a||void 0===a?void 0:a.emailAddress})})]}),(0,o.jsxs)("div",{className:"icon-detail",children:[(0,o.jsx)("span",{className:"icon-part web-icon",children:(0,o.jsx)(d.A,{icon:"mdi:web"})}),(0,o.jsx)("span",{className:"info-part",children:(0,o.jsx)("div",{class:"values",children:null===a||void 0===a?void 0:a.website})})]})]}),(0,o.jsxs)("div",{className:"customer-detail",children:[(0,o.jsxs)("div",{className:"key-value",children:[(0,o.jsx)("div",{className:"key-part",children:"R-User"}),(0,o.jsx)("div",{className:"value-part",children:null===a||void 0===a?void 0:a.responsibleUserName})]}),(0,o.jsxs)("div",{className:"key-value",children:[(0,o.jsx)("div",{className:"key-part",children:"Country"}),(0,o.jsx)("div",{className:"value-part",children:null===a||void 0===a?void 0:a.countryName})]}),(0,o.jsxs)("div",{className:"key-value",children:[(0,o.jsx)("div",{className:"key-part",children:"Tax Id"}),(0,o.jsx)("div",{className:"value-part",children:null===a||void 0===a?void 0:a.taxId})]}),(0,o.jsxs)("div",{className:"key-value",children:[(0,o.jsx)("div",{className:"key-part",children:"Group Type"}),(0,o.jsx)("div",{className:"value-part",children:null===a||void 0===a?void 0:a.type})]})]})]})})});var v,x};var m=a(35728),v=a(39973),x=a(65748),h=a(38860),p=a(37204),j=a.n(p);const N=(0,i.lazy)((()=>a.e(3265).then(a.bind(a,13265)))),f=e=>{let{orderId:s,orderDetails:a,onRefreshOrderDetails:t,isOrderDetailsFetch:r}=e;const p=(0,i.useRef)(),[f,b]=(0,i.useState)([]),[g,y]=(0,i.useState)(!1),[k,A]=(0,i.useState)(null),[C,I]=(0,i.useState)(null),[w,{isFetching:S,isSuccess:D,data:T}]=(0,v.zR)(),R=null===a||void 0===a?void 0:a.orderDocumentList,O=null===R||void 0===R?void 0:R.find((e=>""===e.documentName));(0,i.useEffect)((()=>{a&&I(a)}),[a]),(0,i.useEffect)((()=>{if(!S&&D&&T){const e=T.fileData,s=new Blob([e],{type:e.type}),a=URL.createObjectURL(s);A(a),y(!0),b(B(T.fileName))}}),[S,D,T]);const F=e=>{A(null);let s={folderName:"Order",keyId:null===a||void 0===a?void 0:a.orderId,fileName:e};w(s)},B=e=>{switch(e.split(".").pop().toLowerCase()){case"pdf":return"pdf";case"docx":return"docx";case"ppt":case"pptx":return"pptx";case"xlsx":return"xlsx";case"csv":return"csv";case"xls":return"xls";case"doc":return"doc";default:return null}};return(0,o.jsxs)("div",{className:"icon-btn-header",children:[(0,o.jsx)(l.default,{cardTitle:"Order Summary",rightButton:!0,buttonClassName:"theme-button",isIcon:!0,iconClass:"wpf:edit",titleButtonClick:()=>{p&&p.current.handleToggleModal()},isCenterTile:!0,CenterTitleTxt:null===C||void 0===C?void 0:C.poNumber,CenterBtnIcon:S?"svg-spinners:ring-resize":O?"":"icomoon-free:file-pdf",centerBtnTitle:"View Purchase Order",centerBtnOnClick:()=>{if(null!==a&&void 0!==a&&a.poNumber){const e=R.find((e=>0===e.documentTypeId||""===e.documentTypeId));e?F(null===e||void 0===e?void 0:e.documentName):x.A.error("File not found")}else y(!1)},children:!r&&a?(0,o.jsx)("div",{className:"order-summery-list",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-xxl-7 col-xl-6 col-lg-6 col-md-6 col-12 custom-col-6",children:[(0,o.jsxs)("div",{className:"desc-section",children:[(0,o.jsxs)("div",{className:"key-icon-part",children:[(0,o.jsx)(d.A,{icon:"ph:user",className:"open-bar"}),(0,o.jsx)("span",{children:"Cust."})]}),(0,o.jsxs)("div",{className:"desc-detail",children:["\xa0:\xa0",(0,o.jsx)("span",{className:"name-ellipsis",children:(null===C||void 0===C?void 0:C.customerName)||"---"}),(0,o.jsxs)("div",{className:"info-icon info-user",children:[(0,o.jsx)(d.A,{icon:"ep:info-filled",className:"info"}),(0,o.jsx)(u,{customerId:null===a||void 0===a?void 0:a.customerId})]})]})]}),(0,o.jsxs)("div",{className:"desc-section",children:[(0,o.jsxs)("div",{className:"key-icon-part",children:[(0,o.jsx)(d.A,{icon:"ph:users",className:"open-bar"}),(0,o.jsx)("span",{children:"Sub-Cust."})]}),(0,o.jsxs)("div",{className:"desc-detail",children:["\xa0:\xa0",(0,o.jsx)("span",{className:"name-ellipsis",children:(null===C||void 0===C?void 0:C.subCustomerName)||"N/A"}),null!==C&&void 0!==C&&C.subCustomerId?(0,o.jsxs)("div",{className:"info-icon info-user",children:[(0,o.jsx)(d.A,{icon:"ep:info-filled",className:"info"}),(0,o.jsx)(u,{})]}):null]})]}),(0,o.jsxs)("div",{className:"desc-section",children:[(0,o.jsxs)("div",{className:"key-icon-part",children:[(0,o.jsx)(d.A,{icon:"material-symbols:quick-reference-outline-rounded",className:"open-bar"}),(0,o.jsx)("span",{children:"Ref. No"})]}),(0,o.jsxs)("div",{className:"desc-detail",children:["\xa0:\xa0",(0,o.jsx)("span",{children:(null===C||void 0===C?void 0:C.referenceNumber)||"N/A"})]})]})]}),(0,o.jsxs)("div",{className:"col-xxl-5 col-xl-6 col-lg-6 col-md-6 col-12 custom-col-6",children:[(0,o.jsxs)("div",{className:"desc-section right-status-sec",children:[(0,o.jsxs)("div",{className:"key-icon-part",children:[(0,o.jsx)(d.A,{icon:"f7:status",className:"open-bar"}),(0,o.jsx)("span",{children:"Status"})]}),(0,o.jsxs)("div",{className:"desc-detail",children:["\xa0:\xa0",(0,o.jsx)("span",{className:"status pending",children:null===C||void 0===C?void 0:C.status})]})]}),(0,o.jsxs)("div",{className:"desc-section right-status-sec",children:[(0,o.jsxs)("div",{className:"key-icon-part",children:[(0,o.jsx)(d.A,{icon:"f7:status",className:"open-bar"}),(0,o.jsx)("span",{children:"Sub-Status"})]}),(0,o.jsxs)("div",{className:"desc-detail",children:["\xa0:\xa0",(0,o.jsx)("span",{className:"status in-transit",children:null===C||void 0===C?void 0:C.subStatus})]})]}),(0,o.jsxs)("div",{className:"desc-section right-status-sec",children:[(0,o.jsxs)("div",{className:"key-icon-part",children:[(0,o.jsx)(d.A,{icon:"uil:calender",className:"open-bar"}),(0,o.jsx)("span",{children:"Recv. Date"})]}),(0,o.jsxs)("div",{className:"desc-detail",children:["\xa0:\xa0",(0,o.jsx)("span",{children:(0,m.Ay)(null===C||void 0===C?void 0:C.orderReceivedDate,"MM/DD/YYYY")})]})]})]})]})}):(0,o.jsx)(h.A,{})}),(0,o.jsx)(n.default,{modalTitle:"PO PDF",contentClass:"content-50",onClose:()=>{y(!1),A(null)},modalTitleIcon:c.m.AddIcon,isOpen:g,showToggle:!0,children:(0,o.jsx)("div",{className:"model-height-fix doc-view",children:k&&f?"pdf"===f?(0,o.jsx)("div",{className:"pdf-iframe",children:(0,o.jsx)("iframe",{src:k,title:"PDF Preview",style:{width:"100%",height:"200%"}})}):(0,o.jsx)(j(),{fileType:f,filePath:k,onError:e=>console.error("Error:",e)}):null})}),(0,o.jsx)(N,{orderId:s,orderDetailRef:p,onRefreshOrderDetails:t})]})}},75707:(e,s,a)=>{a.d(s,{x:()=>i});const i=e=>{switch(e){case"Active":return"status-btn badge-gradient-success";case"Open":default:return"status-btn badge-gradient-info";case"In Active":return"status-btn badge-gradient-danger";case"Pending":return"status-btn badge-gradient-Pending";case"In progress":return"status-btn badge-gradient-theme";case"Submitted":return"status-btn badge-gradient-Submitted";case"Approved":return"status-btn badge-gradient-Approved";case"Freeze":return"status-btn badge-gradient-Frozen";case"Block":return"status-btn badge-gradient-Blocked";case"Reject":return"status-btn badge-gradient-reject";case"Disable":return"status-btn badge-gradient-disabled"}}}}]);
//# sourceMappingURL=5126.17e7c2fb.chunk.js.map