"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[592,3396],{10737:(e,t,a)=>{a.d(t,{$p:()=>d,SG:()=>r,VX:()=>u,WD:()=>o,aj:()=>i,cd:()=>h,jz:()=>m,sC:()=>p,wD:()=>c});var s=a(79663),l=a(28734),n=a(75707);const i={columns:[{id:l.S2.value,name:"Customer Name",fieldName:"name",colStyle:{width:"35%"},allowShort:!0},{id:l.zv.value,name:"Supplier Name",fieldName:"name",colStyle:{width:"35%"},allowShort:!0},{name:"Tax Id",fieldName:"taxId",colStyle:{width:"25%"},allowShort:!0},{name:"Status",colStyle:{width:"25%"},fieldName:"status",allowShort:!0,colType:s.f.LABLE,colSettings:{valueField:"status",getLableClass:n.x}},{name:"Action",colType:s.f.ACTION,colStyle:{width:"15%"},defaultAction:{allowEdit:!0},customAction:[{name:"ALLOWDISABLE",iconName:"la:user-slash",title:"Disable",className:"disable-icon"},{name:"ALLOWFREEZE",iconName:"material-symbols:lock-outline",title:"Freeze",className:"freeze-icon"},{name:"ALLOWBLOCKED",iconName:"akar-icons:block",title:"Blocked",className:"block-icon"},{name:"ALLOREJECT",iconName:"carbon:close-outline",title:"Reject",className:"reject-icon"}]}]},o={columns:[{id:l.S2.value,name:"Customer Name",fieldName:"name",colStyle:{width:"35%"},allowShort:!0},{id:l.zv.value,name:"Supplier Name",fieldName:"name",colStyle:{width:"35%"}},{name:"Tax Id",fieldName:"taxId",colStyle:{width:"20%"},allowShort:!0},{name:"Web Site",fieldName:"website",colStyle:{width:"30%"},allowShort:!0},{name:"Action",colStyle:{width:"15%"},colType:s.f.ACTION,defaultAction:{allowEdit:!0},customAction:[{name:"ALLOWDISABLE",iconName:"la:user-slash",title:"Disable",className:"disable-icon"}]}]},r={columns:[{id:l.S2.value,name:"Customer Name",fieldName:"name",colStyle:{width:"35%"},allowShort:!0},{id:l.zv.value,name:"Supplier Name",fieldName:"name",colStyle:{width:"35%"}},{name:"Tax Id",fieldName:"taxId",colStyle:{width:"15%"},allowShort:!0},{name:"Web Site",fieldName:"website",colStyle:{width:"25%"},allowShort:!0},{name:"Approve",colStyle:{width:"10%"},allowShort:!1,colType:s.f.CHECKBOX,colSettings:{allowCheckbox:!0,isDisabled:!1}},{name:"Action",colStyle:{width:"15%"},colType:s.f.ACTION,defaultAction:{allowEdit:!0},customAction:[{name:"ALLOWDISABLE",iconName:"la:user-slash",title:"Disable",className:"disable-icon"}]}]},c={columns:[{id:l.S2.value,name:"Customer Name",fieldName:"name",colStyle:{width:"70%"},allowShort:!0},{id:l.zv.value,name:"Supplier Name",fieldName:"name",colStyle:{width:"70%"}},{name:"Tax Id",colStyle:{width:"15%"},fieldName:"taxId",allowShort:!0},{name:"Action",colStyle:{width:"15%"},colType:s.f.ACTION,defaultAction:{allowEdit:!0},customAction:[{name:"ALLOWDISABLE",iconName:"la:user-slash",title:"Disable",className:"disable-icon"},{name:"ALLOWFREEZE",iconName:"material-symbols:lock-outline",title:"Freeze",className:"freeze-icon"},{name:"ALLOWBLOCKED",iconName:"akar-icons:block",title:"Blocked",className:"block-icon"},{name:"ALLOREJECT",iconName:"carbon:close-outline",title:"Reject",className:"reject-icon"}]}]},d={columns:[{id:l.S2.value,name:"Customer Name",fieldName:"name",colStyle:{width:"70%"},allowShort:!0},{id:l.zv.value,name:"Supplier Name",fieldName:"name",colStyle:{width:"70%"},allowShort:!0},{name:"Reason",fieldName:"inActiveReason",colStyle:{width:"15%"},allowShort:!0},{name:"Action",colStyle:{width:"15%"},colType:s.f.ACTION,defaultAction:{allowEdit:!0}}]},u={columns:[{id:l.S2.value,name:"Customer Name",fieldName:"name",allowShort:!0,colStyle:{width:"35%"}},{id:l.zv.value,name:"Supplier Name",fieldName:"name",colStyle:{width:"35%"},allowShort:!0},{name:"Reason",fieldName:"inActiveReason",colStyle:{width:"25%"},allowShort:!0},{name:"Date",colStyle:{width:"25%"},fieldName:"updatedAt",colType:s.f.DATE,colSettings:{isUTC:!0,format:"MM/DD/YYYY hh:mm A "}},{name:"Status",colStyle:{width:"15%"},fieldName:"status",allowShort:!1,colType:s.f.LABLE,colSettings:{valueField:"status",getLableClass:n.x}}]},m={columns:[{id:l.S2.value,name:"Customer Name",fieldName:"name",colStyle:{width:"25%"},allowShort:!0},{id:l.zv.value,name:"Supplier Name",fieldName:"name",colStyle:{width:"25%"},allowShort:!0},{name:"Reason",fieldName:"inActiveReason",colStyle:{width:"25%"},allowShort:!0},{name:"Date",colStyle:{width:"25%"},fieldName:"updatedAt",colType:s.f.DATE,colSettings:{isUTC:!0,format:"MM/DD/YYYY hh:mm A "}},{name:"Action",colStyle:{width:"25%"},colType:s.f.ACTION,defaultAction:{allowEdit:!0,allowDelete:!1},customAction:[{name:"ALLOWFREEZE",iconName:"basil:unlock-outline",title:"Un-Freeze",className:"un-lock-icon"}]}]},h={columns:[{id:l.S2.value,name:"Customer Name",fieldName:"name",colStyle:{width:"25%"},allowShort:!0},{id:l.zv.value,name:"Supplier Name",fieldName:"name",colStyle:{width:"25%"},allowShort:!0},{name:"Reason",colStyle:{width:"25%"},fieldName:"inActiveReason",allowShort:!0},{name:"Date",colStyle:{width:"25%"},fieldName:"updatedAt",colType:s.f.DATE,colSettings:{isUTC:!0,format:"MM/DD/YYYY hh:mm A "}},{name:"Action",colStyle:{width:"25%"},colType:s.f.ACTION,defaultAction:{allowEdit:!0},customAction:[{name:"ALLOWUNBLOCKED",title:"UnBlock",iconName:"gg:unblock",className:"un-block-icon"}]}]},p={columns:[{id:l.S2.value,name:"Customer Name",fieldName:"name",colStyle:{width:"35%"},allowShort:!0},{id:l.zv.value,name:"Supplier Name",fieldName:"name",colStyle:{width:"35%"},allowShort:!0},{name:"Reason",colStyle:{width:"35%"},fieldName:"inActiveReason",allowShort:!0},{name:"Date",colStyle:{width:"35%"},fieldName:"updatedAt",colType:s.f.DATE,colSettings:{isUTC:!0,format:"MM/DD/YYYY hh:mm A "}}]}},19045:(e,t,a)=>{a.d(t,{n:()=>l});var s=a(15335);const l={name:"",initialState:{responsibleUserId:0,inActiveReason:""},formFields:[{id:"ResponsibleUserId",lable:"Responsible User ",Field_Name:"Responsible User",fieldType:s.Q.SELECT,dataField:"responsibleUserId",fieldSetting:{placeholder:"Select Responsible User",isDisabled:!1,isEnableOnChange:!0,isMultiSelect:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-2"}},{id:"inActiveReason",lable:"Reason :",Field_Name:"Reason ",fieldType:s.Q.TEXTAREA,dataField:"inActiveReason",fieldSetting:{placeholder:"please enter Reason",allowSpace:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 mb-2"}}]}},67724:(e,t,a)=>{a.d(t,{A:()=>n});a(27565);var s=a(85097),l=a(27929);const n=e=>{let{isApprovalValidate:t,showModal:a,handleToggleModal:n,children:i,...o}=e;return(0,l.jsxs)(s.A,{className:`center-model-popup ${o.modelSizeClass}`,show:a,onHide:n,keyboard:!t,backdrop:!t||"static",children:[(0,l.jsx)(s.A.Header,{closeButton:!t,children:(0,l.jsx)("div",{className:"model-title",children:o.modalTitle})}),(0,l.jsx)(s.A.Body,{children:i})]})}},20592:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var s=a(99704),l=a(27565),n=a(64866),i=a(28734),o=a(65748),r=a(17690),c=a(94839),d=a(11030),u=a(17295),m=a(4260);const h=(0,l.createContext)();var p=a(96058),S=a(10723),g=a(5022),f=a(37792),b=a(58412),C=a(15269),v=a(19888),x=a(74573),A=a(69885),I=a(67724),N=a(18637),y=a(60497),w=a(3396),E=a(19045),R=a(62360),T=a(53941),j=a(70391),L=a(27929);const D=e=>{let{statusId:t,configFile:a,handleChange:n,search:i,handleChangeDropdown:r,statusOptions:D,selectedDrpvalues:F,searchStatusFilter:O,handleSearch:B,handleClear:k,handleKeyPress:U,shouldRerenderFormCreator:P,tabIndex:M}=e;const z=(0,d.Zp)(),W=(0,l.useRef)(),K=(0,l.useRef)(),V=(0,l.useRef)(),[Y,_]=(0,l.useState)(0),[Q,G]=(0,l.useState)(),[Z,q]=(0,l.useState)(!1),[X,H]=(0,l.useState)(E.n),[$,J]=(0,l.useState)(),[ee,te]=(0,l.useState)(),[ae,se]=(0,l.useState)(),{listRef:le}=(0,l.useContext)(h),ne=(0,S.d4)((e=>e.auth)),[ie,oe]=(0,l.useState)(),{isResponsibleUser:re,setIsResponsibleUser:ce}=(0,l.useContext)(s.A),[de,{isLoading:ue,isSuccess:me,data:he}]=(0,m.su)(),[pe,{isSuccess:Se,data:ge}]=(0,m.nS)(),[fe,{isLoading:be,isSuccess:Ce,data:ve}]=(0,m.jb)(),[xe,{isSuccess:Ae,data:Ie}]=(0,m.ks)(),[Ne,{isSuccess:ye,data:we}]=(0,g.KJ)(),[Ee]=(0,p.f8)();(0,l.useEffect)((()=>{Ne()}),[t]),(0,l.useEffect)((()=>{Ae&&Ie&&o.A.success(Ie.errorMessage)}),[Ae,Ie]),(0,l.useEffect)((()=>{if(ye&&we){const e=we.filter((e=>null===e.roleName||!f.hN.map((e=>e.toLowerCase())).includes(e.roleName.toLowerCase()))),t=Array.from(new Map(e.map((e=>[e.fullName,e]))).values());(0,b.Xh)(t,"userId","fullName",E.n,"responsibleUserId")}}),[ye,we]),(0,l.useEffect)((()=>{Re()}),[a]);const Re=()=>{const e=null===a||void 0===a?void 0:a.columns.find((e=>"Action"===e.name)),t=null===a||void 0===a?void 0:a.columns.find((e=>"Approve"===e.name));if(e){const t=(0,C.T)(v.o.EDITCUSTOMER),a=(0,C.T)(v.o.BLOCKCUSTOMER),s=(0,C.T)(v.o.FREEZECUSTOMER),l=(0,C.T)(v.o.DISABLECUSTOMER),n=(0,C.T)(v.o.UNBLOCKCUSTOMER);e.defaultAction&&(e.defaultAction.allowEdit=null===t||void 0===t?void 0:t.hasAccess),e.customAction=(0,j.V)(null===a||void 0===a?void 0:a.hasAccess,e.customAction,"ALLOWBLOCKED"),e.customAction=(0,j.V)(null===s||void 0===s?void 0:s.hasAccess,e.customAction,"ALLOWFREEZE"),e.customAction=(0,j.V)(null===l||void 0===l?void 0:l.hasAccess,e.customAction,"ALLOWDISABLE"),e.customAction=(0,j.V)(null===n||void 0===n?void 0:n.hasAccess,e.customAction,"ALLOWUNBLOCKED")}t&&t.colSettings&&(t.colSettings.isDisabled=!0),re&&t&&t.colSettings&&(t.colSettings.isDisabled=!1)};(0,l.useEffect)((()=>{if(me&&he){if(he){he.dataSource.find((e=>{var t;return(0,T.r)(e.responsibleUserId,null===ne||void 0===ne||null===(t=ne.user)||void 0===t?void 0:t.userID)}))?(ce(!0),Re()):ce(!1);const e=he.dataSource.map((e=>({...e,taxId:""===e.taxId?"-":e.taxId})));G(e)}he.totalRecord&&_(he.totalRecord)}}),[me,he]),(0,l.useEffect)((()=>{if(Se&&ge){o.A.success(ge.errorMessage);const e=W.current.getCurrentPageObject();Te(e,W.current.generateSortingString())}}),[Se,ge]),(0,l.useEffect)((()=>{if(Ce&&ve){o.A.success(ve.errorMessage);const e=W.current.getCurrentPageObject();Te(e,W.current.generateSortingString()),je()}}),[Ce,ve]),(0,l.useImperativeHandle)(le,(()=>({getListApi:Te})));const Te=(e,a,s)=>{const l=e||W.current.getCurrentPageObject(),n=a||W.current.generateSortingString(),o={pagination:{pageNumber:l.pageNumber,pageSize:l.pageSize},filters:{searchText:i},statusId:Array.isArray(t)?t.join(","):String(t),sortString:n};de(o)},je=()=>{q(!1),De()},Le=()=>{const e=["ResponsibleUserId"],t={...X};t.formFields=X.formFields.filter((t=>!e.includes(t.id))),H(t)},De=()=>{let e={...E.n};e.initialState={...X},H(e)},Fe=e=>{let t={customerId:$,userId:String(e)};xe(t)},Oe={EDIT:e=>{const a=W.current.getCurrentPageObject(),s=W.current.generateSortingString(),l={pagination:{pageNumber:a.pageNumber,pageSize:a.pageSize},filters:{searchText:i},statusId:Array.isArray(t)?t.join(","):String(t),sortString:s};z(`/CustomerDetails/${(0,x.rS)(e.customerId)}`,{state:{paginationObj:l,tabIndex:M}})},ALLOWFREEZE:e=>{Le(),q(!0),J(e.customerId),te(c.RR.Freeze),se(c.Rm.Freeze)},ALLOWDISABLE:e=>{Le(),q(!0),J(e.customerId),te(c.RR.Disable),se(c.Rm.Disable)},ALLOWBLOCKED:e=>{Le(),q(!0),J(e.customerId),te(c.RR.Block),se(c.Rm.Block)},ALLOREJECT:e=>{const t=Q.find((t=>t.customerId===e.customerId));if(q(!0),oe(!1),J(e.customerId),te(c.RR.Reject),se(c.Rm.Reject),t.responsibleUserId){var a;const e=null===t||void 0===t||null===(a=t.responsibleUserId)||void 0===a?void 0:a.split(",").map((e=>Number(e.trim()))),s={...X};s.initialState={...s.initialState,responsibleUserId:e},H(s)}}};return(0,L.jsxs)("div",{children:[(0,L.jsx)("div",{className:"row",children:(0,L.jsxs)("div",{className:"col-xxl-12 col-xl-12 col-md-12 col-12",children:[(0,L.jsx)(u.default,{searchInput:!0,handleChange:n,searchInputName:"Search By Customer Name, Tax Id , Email Address",searchFilter:O,handleChangeDropdown:r,selectedOptions:F,optionsValue:D,isMultiSelect:!0,placeholder:"Search by Status",isCardSection:!0,isdropdownOpen:!0,searchButton:!0,searchbuttonText:"Search",buttonClassName:"theme-button",searchTitleButtonClick:B,clearButton:!0,clearTitleButtonClick:k,clearButtonText:"Clear",clearButtonClassName:"dark-btn",searchIconImg:A.m.SearchIcone,searchTextWithIcon:!0,clearTextWithIcon:!0,clearIconImg:A.m.ClearIcone,handleKeyPress:U,children:(0,L.jsx)("div",{className:"row",children:(0,L.jsx)("div",{className:"col-md-12 table-striped",children:(0,L.jsx)(R.A,{ref:W,configuration:a,dataSource:Q,isLoading:ue,pagination:{totalCount:Y,pageSize:25,currentPage:1},onPageChange:(e,a)=>{const s=a||W.current.generateSortingString(),l={pagination:{pageNumber:e.pageNumber,pageSize:e.pageSize},filters:{searchText:i},statusId:Array.isArray(t)?t.join(","):String(t),sortString:s};de(l)},onSorting:e=>{Te(W.current.getCurrentPageObject(),e)},onActionChange:Oe,allowPagination:!0,onColumnChange:(e,t)=>{V.current&&V.current.callChildFunction(t.customerId,!!t.isSubCustomer&&t.isSubCustomer),J(t.customerId)}})})})}),(0,L.jsx)(I.A,{showModal:Z,handleToggleModal:je,modalTitle:`${ae} Reason`,modelSizeClass:"w-50s",children:(0,L.jsxs)("div",{className:"row",children:[(0,L.jsx)(N.A,{config:X,ref:K,...X}),(0,L.jsx)("div",{className:"col-md-12 mt-2",children:(0,L.jsx)("div",{className:"d-flex align-item-end justify-content-end",children:(0,L.jsxs)("div",{className:"d-flex align-item-end",children:[(0,L.jsx)(y.A,{buttonTypeClassName:"theme-button",buttonText:"Update",isLoading:be,onClick:()=>{let e=K.current.getFormData();if(e){let t={...e,customerId:$,statusId:ee,note:e.inActiveReason};fe(t),Ee(t),!ie&&e.responsibleUserId&&e.responsibleUserId&&Fe(e.responsibleUserId)}}}),(0,L.jsx)(y.A,{buttonTypeClassName:"dark-btn ml-5",buttonText:"Cancel",onClick:je})]})})})]})})]},P)}),(0,L.jsx)(w.default,{childRef:V,getListApi:Te,updateCustomerApproval:()=>{pe({customerId:$})}})]})};var F=a(10737),O=a(80889);const B=e=>{let{statusId:t,configFile:a,handleChange:n,handleKeyPress:i,search:r,handleSearch:p,handleClear:g,shouldRerenderFormCreator:f,handleChangeDropdown:b,statusOptions:I,selectedDrpvalues:N,selectedStatusOptions:y,searchStatusFilter:E}=e;const D=(0,d.Zp)(),{confirm:F}=(0,O.A)(),B=(0,l.useRef)(),k=(0,l.useRef)(),[U,P]=(0,l.useState)(0),[M,z]=(0,l.useState)(),{DataRef:W}=(0,l.useContext)(h),K=(0,S.d4)((e=>e.auth)),{isResponsibleUser:V,setIsResponsibleUser:Y}=(0,l.useContext)(s.A),[_,{isLoading:Q,isSuccess:G,data:Z}]=(0,m.su)(),[q,{isLoading:X,isSuccess:H,data:$}]=(0,m.WC)();(0,l.useEffect)((()=>{V||J()}),[a]);const J=()=>{const e=null===a||void 0===a?void 0:a.columns.find((e=>"Action"===e.name));if(e){const t=(0,C.T)(v.o.FREEZECUSTOMER),a=(0,C.T)(v.o.UNBLOCKCUSTOMER),s=(0,C.T)(v.o.EDITCUSTOMER);e.defaultAction&&(e.defaultAction.allowEdit=null===s||void 0===s?void 0:s.hasAccess),e.customAction=(0,j.V)(null===t||void 0===t?void 0:t.hasAccess,e.customAction,"ALLOWFREEZE"),e.customAction=(0,j.V)(null===a||void 0===a?void 0:a.hasAccess,e.customAction,"ALLOWUNBLOCKED")}};(0,l.useEffect)((()=>{if(G&&Z){if(Z){z(Z.dataSource);Z.dataSource.find((e=>{var t;return(0,T.r)(e.responsibleUserId,null===K||void 0===K||null===(t=K.user)||void 0===t?void 0:t.userID)}))?(Y(!0),J()):Y(!1)}Z.totalRecord&&P(Z.totalRecord)}}),[G,Z]),(0,l.useEffect)((()=>{H&&$&&(o.A.success($.errorMessage),ee())}),[H,$]),(0,l.useImperativeHandle)(W,(()=>({getListApi:ee})));const ee=()=>{const e=k.current.getCurrentPageObject(),a={pagination:{pageNumber:e.pageNumber,pageSize:e.pageSize},filters:{searchText:r},statusId:0===N.length?Array.isArray(t)?t.join(","):String(t):Array.isArray(N)?N.join(","):String(N)};_(a)},te=e=>{let t={customerId:e.customerId,statusId:c.RR.Approved};q(t)},ae={ALLOWUNFREEZE:e=>{F("Warning?","Are you sure you want to unfreeze and change the status to approved?","Yes","Cancel").then((t=>{t&&te(e)}))},ACTIVECUSTOMER:e=>{te(e)},ALLOWUNBLOCKED:e=>{F("Warning?","Are you sure you want to unblock and change the status to approved?","Yes","Cancel").then((t=>{t&&te(e)}))},EDIT:e=>{D(`/CustomerDetails/${(0,x.rS)(e.customerId)}`,"_blank")}};return(0,L.jsxs)("div",{children:[(0,L.jsx)("div",{className:"row",children:(0,L.jsx)("div",{className:"col-xxl-12 col-xl-12 col-md-12 col-12",children:(0,L.jsx)(u.default,{searchInput:!0,handleChange:n,searchInputName:"Search By Customer Name, Tax Id , Email Address",searchFilter:E,handleChangeDropdown:b,selectedOptions:N,optionsValue:I,isMultiSelect:!0,placeholder:"Search by Status",isCardSection:!0,isdropdownOpen:!0,searchButton:!0,searchbuttonText:"Search",buttonClassName:"theme-button",searchTitleButtonClick:p,clearButton:!0,clearTitleButtonClick:g,clearButtonText:"Clear",clearButtonClassName:"dark-btn",searchIconImg:A.m.SearchIcone,searchTextWithIcon:!0,clearTextWithIcon:!0,clearIconImg:A.m.ClearIcone,handleKeyPress:i,children:(0,L.jsx)("div",{className:"row",children:(0,L.jsx)("div",{className:"col-md-12 table-striped last-center",children:(0,L.jsx)("div",{className:"inactive-scroll-bar",children:(0,L.jsx)(R.A,{ref:k,configuration:a,dataSource:M,isLoading:Q||X,allowPagination:!0,pagination:{totalCount:U,pageSize:25,currentPage:1},onPageChange:e=>{const a={pagination:{pageNumber:e.pageNumber,pageSize:e.pageSize},filters:{searchText:r},statusId:Array.isArray(t)?t.join(","):String(t)};_(a)},onActionChange:ae})})})})})},f)}),(0,L.jsx)(w.default,{childRef:B,getListApi:ee,updateCustomerApproval:te})]})},k=e=>{let{statusId:t}=e;const[a,s]=(0,l.useState)("0"),d=(0,l.useRef)(),[m,p]=(0,l.useState)(""),[S,g]=(0,l.useState)([]),[f,b]=(0,l.useState)(""),[C,v]=(0,l.useState)(""),[x,A]=(0,l.useState)(!1),[I,N]=(0,l.useState)(F.VX),[y,w]=(0,l.useState)(F.jz),[E,R]=(0,l.useState)(F.cd),[T,j]=(0,l.useState)(F.sC),D=(0,n.A)(m,300),O=()=>{d.current&&d.current.getListApi()};(0,l.useEffect)((()=>{p(""),b("");(()=>{switch(a){case"0":N({...F.VX,columns:F.VX.columns.filter((e=>e.id!==i.zv.value))});break;case"1":w({...F.jz,columns:F.jz.columns.filter((e=>e.id!==i.zv.value))});break;case"2":R({...F.cd,columns:F.cd.columns.filter((e=>e.id!==i.zv.value))});break;case"3":j({...F.cd,columns:F.cd.columns.filter((e=>e.id!==i.zv.value))});break;default:N(F.VX)}})(),O()}),[a]);const k=()=>{m.length>=3||f.length>0?O():o.A.warning(r.K.CommonErrorMessage)},U=e=>{p(e.target.value.trim())},P=e=>{"Enter"===e.code&&k()};(0,l.useEffect)((()=>{if(c.At){const e=c.At.filter((e=>1!==e.value&&2!==e.value&&3!==e.value&&7!==e.value)).map((e=>({value:e.value,label:e.label})));g(e)}}),[]);const M=e=>{const t=e.map((e=>e.value));t.length>0?(b(t),v(t)):(b(""),v(""))},z=()=>{b(""),v(""),p(""),A((e=>!e))};(0,l.useEffect)((()=>{""===D&&""===f&&O()}),[D,f]);const W=[{sMenuItemCaption:"ALL",component:(0,L.jsx)("div",{className:"mt-2",children:(0,L.jsx)(B,{statusId:t,configFile:I,search:D,handleChange:U,statusOptions:S,selectedStatusOptions:C,handleChangeDropdown:M,selectedDrpvalues:f,searchStatusFilter:!0,handleSearch:k,handleClear:z,shouldRerenderFormCreator:x,handleKeyPress:P})})},{sMenuItemCaption:"FREEZED",component:(0,L.jsx)("div",{className:"mt-2",children:(0,L.jsx)(B,{statusId:c.RR.Freeze,configFile:y,search:D,handleChange:U,statusOptions:S,selectedStatusOptions:C,handleChangeDropdown:M,selectedDrpvalues:f,searchStatusFilter:!1,handleSearch:k,handleClear:z,shouldRerenderFormCreator:x,handleKeyPress:P})})},{sMenuItemCaption:"BLOCK",component:(0,L.jsx)("div",{className:"mt-2",children:(0,L.jsx)(B,{statusId:c.RR.Block,configFile:E,search:D,handleChange:U,statusOptions:S,selectedStatusOptions:C,handleChangeDropdown:M,selectedDrpvalues:f,searchStatusFilter:!1,handleSearch:k,handleClear:z,shouldRerenderFormCreator:x,handleKeyPress:P})})},{sMenuItemCaption:"DISABLE",component:(0,L.jsx)("div",{className:"mt-2",children:(0,L.jsx)(B,{statusId:c.RR.Disable,configFile:T,search:D,handleChange:U,statusOptions:S,selectedStatusOptions:C,handleChangeDropdown:M,selectedDrpvalues:f,searchStatusFilter:!1,handleSearch:k,handleClear:z,shouldRerenderFormCreator:x,handleKeyPress:P})})}];return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(h.Provider,{value:{DataRef:d},children:(0,L.jsx)("div",{className:"main-inactive-grid",children:(0,L.jsx)("div",{className:"row",children:(0,L.jsx)("div",{className:"col-xxl-12 col-xl-12 col-md-12 col-12 other-info-tab",children:(0,L.jsx)(u.default,{children:W&&W.length>0&&(0,L.jsx)("div",{className:"row",children:(0,L.jsx)("div",{className:"col-12",children:(0,L.jsxs)("div",{className:"tab-sub-section mb-0",children:[(0,L.jsx)("div",{className:"tab-sub-header",children:W&&W.map(((e,t)=>(0,L.jsx)("button",{className:a===t.toString()?"active":"",onClick:()=>{return a=t,e.sPage,void s(a.toString());var a},children:e.sMenuItemCaption},t)))}),-1!==a&&W[a].component&&(0,L.jsx)("div",{className:"tab-sub-content",children:(0,L.jsx)("div",{className:"tab-sub-body-section",children:W[a].component})})]})})})})})})})})})},U=()=>{const e=(0,l.useRef)(),t=(0,d.zy)(),[a,m]=(0,l.useState)(""),[p,S]=(0,l.useState)("0"),[g,f]=(0,l.useState)([]),[b,C]=(0,l.useState)(""),[v,x]=(0,l.useState)(""),[A,I]=(0,l.useState)(F.aj),[N,y]=(0,l.useState)(F.WD),[w,E]=(0,l.useState)(F.SG),[R,T]=(0,l.useState)(F.wD),[j,O]=(0,l.useState)(F.$p),[B,U]=(0,l.useState)(!1),P=(0,n.A)(a,300),M=e=>{S(e.toString())};(0,l.useEffect)((()=>{m(""),C(""),U((e=>!e));(()=>{switch(p){case"0":I({...F.aj,columns:F.aj.columns.filter((e=>e.id!==i.zv.value))});break;case"1":y({...F.WD,columns:F.WD.columns.filter((e=>e.id!==i.zv.value))});break;case"2":E({...F.SG,columns:F.SG.columns.filter((e=>e.id!==i.zv.value))});break;case"3":T({...F.wD,columns:F.wD.columns.filter((e=>e.id!==i.zv.value))});break;case"4":I({columns:[]});break;case"5":O({...F.$p,columns:F.$p.columns.filter((e=>e.id!==i.zv.value))});break;default:I(F.aj)}})(),z()}),[p]);const z=()=>{var a;const s=null===(a=t.state)||void 0===a?void 0:a.paginationObj;if(e.current)if(s){var l;const a=null===(l=t.state)||void 0===l?void 0:l.tabIndex;e.current.getListApi(s.pagination,s.sortString,!0),M(a)}else e.current.getListApi()},W=()=>{a.length>=3||b.length>0?z():o.A.warning(r.K.CommonErrorMessage)},K=e=>{m(e.target.value.trim())},V=e=>{"Enter"===e.code&&W()};(0,l.useEffect)((()=>{if(c.At){const e=c.At.map((e=>({value:e.value,label:e.label})));f(e)}}),[c.At]);const Y=e=>{const t=e.map((e=>e.value));t.length>0?(C(t),x(t)):(C(""),x(""))},_=()=>{C(""),x(""),m(""),U((e=>!e))};(0,l.useEffect)((()=>{""===P&&""===b&&z()}),[P,b]);const Q=[{sMenuItemCaption:"ALL",component:(0,L.jsx)("div",{className:"mt-2 customer-list-all",children:(0,L.jsx)(D,{statusId:b,configFile:A,search:P,handleChange:K,statusOptions:g,selectedStatusOptions:v,handleChangeDropdown:Y,selectedDrpvalues:b,searchStatusFilter:!0,handleSearch:W,handleClear:_,shouldRerenderFormCreator:B,handleKeyPress:V,tabIndex:0})})},{sMenuItemCaption:"PENDING",component:(0,L.jsx)("div",{className:"mt-2 customer-list-all",children:(0,L.jsx)(D,{statusId:c.RR.Pending,configFile:N,search:P,handleChange:K,statusOptions:g,selectedStatusOptions:v,handleChangeDropdown:Y,selectedDrpvalues:b,searchStatusFilter:!1,handleSearch:W,handleClear:_,shouldRerenderFormCreator:B,handleKeyPress:V,tabIndex:1})})},{sMenuItemCaption:"SUBMITTED",component:(0,L.jsx)("div",{className:"mt-2 customer-list-submitted customer-list-all",children:(0,L.jsx)(D,{statusId:c.RR.Submitted,configFile:w,search:P,handleChange:K,statusOptions:g,selectedStatusOptions:v,handleChangeDropdown:Y,selectedDrpvalues:b,searchStatusFilter:!1,handleSearch:W,handleClear:_,shouldRerenderFormCreator:B,handleKeyPress:V,tabIndex:2})})},{sMenuItemCaption:"APPROVED",component:(0,L.jsx)("div",{className:"mt-2 customer-list-all",children:(0,L.jsx)(D,{statusId:c.RR.Approved,configFile:R,search:P,handleChange:K,statusOptions:g,selectedStatusOptions:v,handleChangeDropdown:Y,selectedDrpvalues:b,searchStatusFilter:!1,handleSearch:W,handleClear:_,shouldRerenderFormCreator:B,handleKeyPress:V,tabIndex:3})})},{sMenuItemCaption:"INACTIVE",component:(0,L.jsx)("div",{className:"mt-2 inactive-list-sec",children:(0,L.jsx)(k,{statusId:[c.RR.Freeze,c.RR.Block,c.RR.Disable],tabIndex:4})})},{sMenuItemCaption:"REJECTED",component:(0,L.jsx)("div",{className:"mt-2 customer-list-all",children:(0,L.jsx)(D,{statusId:c.RR.Reject,configFile:j,search:P,handleChange:K,statusOptions:g,selectedStatusOptions:v,handleChangeDropdown:Y,selectedDrpvalues:b,searchStatusFilter:!1,handleSearch:W,handleClear:_,shouldRerenderFormCreator:B,handleKeyPress:V,tabIndex:5})})}];return(0,L.jsx)(s.k,{children:(0,L.jsx)(h.Provider,{value:{listRef:e},children:(0,L.jsx)("div",{className:"main-customer-grid",children:(0,L.jsx)("div",{className:"row",children:(0,L.jsx)("div",{className:"col-xxl-12 col-xl-12 col-md-12 col-12 other-info-tab main-tab-header",children:(0,L.jsx)(u.default,{children:(0,L.jsx)(L.Fragment,{children:Q&&Q.length>0&&(0,L.jsx)("div",{className:"row",children:(0,L.jsx)("div",{className:"col-12",children:(0,L.jsxs)("div",{className:"tab-section mb-0",children:[(0,L.jsx)("div",{className:"tab-header",children:Q&&Q.map(((e,t)=>(0,L.jsx)("button",{className:p===t.toString()?"active":"",onClick:()=>M(t,e.sPage),children:e.sMenuItemCaption},t)))}),-1!==p&&Q[p].component&&(0,L.jsx)("div",{className:"tab-content",children:(0,L.jsx)("div",{className:"tab-body-section",children:Q[p].component})})]})})})})})})})})})})},P=()=>(0,L.jsx)(s.k,{children:(0,L.jsx)(U,{})})},37792:(e,t,a)=>{a.d(t,{D9:()=>r,hN:()=>o});var s=a(17690),l=a(15335),n=a(79663),i=a(75707);const o=["Admin","manager"],r={initialState:{name:"",groupTypeId:1,countryId:233,territoryId:2,emailAddress:"",website:"",note:"",isSubCustomer:!1,taxId:"",isBuyingForThirdParty:!1,responsibleUserId:"",customerNoteId:"",incotermId:11,attachment:"",base64File:"",storagePath:""},formFields:[{id:"attachment",lable:"Customer Logo ",Field_Name:"Attachment",fieldType:l.Q.IMAGE,dataField:"attachment",fieldSetting:{placeholder:"Upload Attachment",allowSpace:!0,isImageUpload:!0,isButtonVisible:!0,isCustomButtonVisible:!1,acceptedFiles:".png , .jpg "},style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input mb-0 custom-file-upload-section validation-image-uploader customer-logo-sec"}},{id:"name",lable:"Customer Name ",Field_Name:"Customer Name",fieldType:l.Q.INPUT,dataField:"name",fieldSetting:{placeholder:"Enter Customer Name",allowSpace:!0,maxLength:50,exemptBoundarySpaces:!0},validation:[{type:"require"},{type:"uniqueName"}],style:{containerCss:"col-xxl-8 col-xl-8 col-md-8 col-12 mb-input"},inputButtonGroupConfig:{isPrimaryButtonVisible:!1,infoButtonConfig:{isInfoButtonVisible:!0,infoButtonIcon:"fa-search",infoButtonTooltip:"Customer Information"}}},{id:"emailAddress",lable:"Email ",Field_Name:"Email",fieldType:l.Q.INPUT,dataField:"emailAddress",fieldSetting:{placeholder:"Enter Email",allowSpace:!1,maxLength:65,exemptBoundarySpaces:!0},validation:[{type:"require"},{type:"email"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-input"}},{id:"website",lable:"Website ",Field_Name:"Website",fieldType:l.Q.INPUT,dataField:"website",fieldSetting:{placeholder:"https://www.xyz.com",allowSpace:!1,maxLength:250},validation:[{type:"require"},{type:"website"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-input"}},{id:"groupTypeId",lable:"Group Type ",Field_Name:"Group Type",fieldType:l.Q.SELECT,dataField:"groupTypeId",fieldSetting:{placeholder:"Select Group Type",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-4 col-md-6 col-12 mb-input"}},{id:"countryId",lable:"Country ",Field_Name:"Country",fieldType:l.Q.SELECT,dataField:"countryId",fieldSetting:{placeholder:"Select Country",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-4 col-md-6 col-12 mb-input"}},{id:"territoryId",lable:"Territory ",Field_Name:"Territory",fieldType:l.Q.SELECT,dataField:"territoryId",fieldSetting:{placeholder:"Select Territory",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-4 col-md-4 col-12 mb-input"}},{id:"incotermId",lable:"Incoterm",Field_Name:"Incoterm",fieldType:l.Q.SELECT,dataField:"incotermId",fieldSetting:{placeholder:"Select Incoterm",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-3 col-xl-4 col-md-4 col-12 mb-input"}},{id:"taxId",lable:"Tax Id ",Field_Name:"Tax Id",fieldType:l.Q.INPUT,dataField:"taxId",fieldSetting:{placeholder:"Tax Id",allowSpace:!1,minLength:10,maxLength:10,exemptBoundarySpaces:!0},inputIcon:{isIconShow:!0,faIcon:"fa-info-circle",message:s.n.DefaultUSATaxId},style:{containerCss:"col-xxl-3 col-xl-3 col-md-4 col-12 mb-input"}},{id:"responsibleUserId",lable:"Responsible User ",Field_Name:"Responsible User",fieldType:l.Q.SELECT,dataField:"responsibleUserId",fieldSetting:{placeholder:"Select Responsible User",isEnableOnChange:!0,isDisabled:!1},style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input"}},{id:"isBuyingForThirdParty",lable:"Is Buying for Third Party",Field_Name:"Is Buying for Third Party",fieldType:l.Q.CHECKBOX,dataField:"isBuyingForThirdParty",style:{containerCss:"col-xxl-2 col-xl-2 col-md-3 col-12 pt-2 mb-input margin-top-checkbox mt-2"}},{id:"isSubCustomer",lable:"Is Sub Customer",Field_Name:"Is Sub Customer",fieldType:l.Q.CHECKBOX,dataField:"isSubCustomer",style:{containerCss:"col-xxl-2 col-xl-2 col-md-3 col-12 md-pt-0 pt-2 mb-input margin-top-checkbox margin-left0-checkbox mt-2"}},{id:"note",lable:"Notes ",Field_Name:"Notes",fieldType:l.Q.CKEDITOR,dataField:"note",fieldSetting:{placeholder:"Enter Notes",maxLength:1e3},style:{containerCss:"col-xxl-5 col-xl-5 col-md-12 col-12 mb-input mb-0"}}],formSetting:{isViewOnly:!1}};n.f.LABLE,i.x,n.f.ACTION},3396:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(27565),l=a(28734),n=a(2604),i=a(99704),o=a(27929);const r=s.lazy((()=>Promise.all([a.e(8145),a.e(5097),a.e(7204),a.e(6774),a.e(4885)]).then(a.bind(a,66774)))),c=s.lazy((()=>Promise.all([a.e(8145),a.e(5097),a.e(1003)]).then(a.bind(a,11003)))),d=(0,s.forwardRef)((e=>{let{childRef:t,getListApi:a,updateCustomerApproval:d,responsibleUserIds:u,isDetailPage:m,isAddPagePage:h,setSelectedStatus:p,onRejectedCustomerFromApproval:S}=e;const g=(0,s.useRef)(),[f,b]=(0,s.useState)(0),[C,v]=(0,s.useState)(!1),[x,A]=(0,s.useState)(!1),[I,N]=(0,s.useState)([]),[y,w]=(0,s.useState)(!1),[E,R]=(0,s.useState)(!1),[T,j]=(0,s.useState)(!1),{setRejectStatusId:L}=(0,s.useContext)(i.A),[D,{isLoading:F,isSuccess:O,data:B}]=(0,n.Tr)(),k=function(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];R(!E);let l={customerId:e,supplierId:0,isSubCustomer:t};v(t),D(l),b(e),j(a),w(s)};return(0,s.useEffect)((()=>{O&&B&&N(B)}),[O,B]),(0,s.useImperativeHandle)(t,(()=>({callChildFunction:k}))),(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(c,{parentRef:g,handleValidateSuccess:()=>{R(!E),T&&A(!x),!T&&d()},showModal:E,isSupplierApproval:!1,isGetCheckListLoading:F,mainId:f,isDetailPage:m,handleShowValidateModal:k,handleValidateModalClose:()=>{N([]),R(!E),m||h||a()},handleDone:()=>{g.current&&g.current.validateApprovalCheckList()},validateCheckList:I||null,isShowBothButton:y}),T&&(0,o.jsx)(r,{onSidebarClose:()=>{m||a(),A(!x)},isModelOpen:x,mainId:f,onSuccessApprovalClose:()=>{A(!x),d()},ApprovalData:C?l.lx.APPROVESUBCUSTOMER:l.lx.APPROVECUSTOMER,isSupplierApproval:!1,isSubCustomer:C,getBasicInformationById:n.hG,getAddressById:n.jz,getContactById:n._J,getFinacialSettingById:n.RH,ownerType:l.A$.Customer,basicData:u,setRejectStatusId:L,setSelectedStatus:p,onRejectedCustomerFromApproval:S})]})}))},99704:(e,t,a)=>{a.d(t,{A:()=>o,k:()=>r});var s=a(27565),l=a(2604),n=a(27929);const i=(0,s.createContext)(),o=i,r=e=>{let{children:t}=e;const a=(0,s.useRef)(),[o,r]=(0,s.useState)(0),[c,d]=(0,s.useState)(0),[u,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(""),[S,g]=(0,s.useState)([]),[f,b]=(0,s.useState)(!1),[C,v]=(0,s.useState)([]),[x,A]=(0,s.useState)(!1),[I,N]=(0,s.useState)(),[y,w]=(0,s.useState)(),[E,R]=(0,s.useState)(!0),[T,j]=(0,s.useState)(""),L=(0,s.useRef)(null),D=(0,s.useRef)(null),F=(0,s.useRef)(null),[O,B]=(0,s.useState)(0),[k,U]=(0,s.useState)(0),[P,M]=(0,s.useState)(),[z,W]=(0,s.useState)(),[K,{isSuccess:V,data:Y}]=(0,l.Tr)();(0,s.useEffect)((()=>{if(V&&Y&&Y&&Y.length>0){const e=Y.filter((e=>e.isValid));W(e.length),M(Y.length)}}),[V,Y]);const _=()=>{D.current&&D.current.onhandleEdit()};return(0,n.jsx)(i.Provider,{value:{nextRef:L,customerId:c,setCustomerId:d,activeTab:O,setActiveTab:B,moveNextPage:()=>{B((e=>e+1))},movePreviewPage:()=>{B((e=>e-1))},addCustomer:e=>{6===O&&U(0),c>0&&1===e?L.current&&L.current.handleAddBasicDetails():c>0?B((e=>e+1)):L.current&&L.current.handleAddBasicDetails(),5===e&&(b(!1),_())},setPhoneNumberData:N,setCustomerCountryId:p,customerCountryId:h,setIsExistsFinancialSetting:A,isExistsFinancialSetting:x,financialRef:F,phoneNumberData:I,setMainId:r,mainId:o,setShowSubBackButton:b,showSubBackButton:f,setActiveSubTab:U,activeSubTab:k,handleActiveSubTabClick:e=>{U(e),b(!1),1===e&&b(!0)},saveFinacialSetting:_,emailAddressData:y,setEmailAddressData:w,molGridRef:a,setDeliveryMethodsList:v,deliveryMethodsList:C,setCarriersList:g,carriersList:S,settingRef:D,setIsResponsibleUser:R,isResponsibleUser:E,setRejectStatusId:j,rejectStatusId:T,totalCount:P,approvalSuccessCount:z,getCustomerCompletionCount:(e,t)=>{K({customerId:e,supplierId:0,isSubCustomer:t||!1})},subCustomer:u,setSubCustomer:m},children:t})}},70391:(e,t,a)=>{a.d(t,{V:()=>s});const s=(e,t,a)=>{var s,l;const n=t&&(null===(s=t)||void 0===s?void 0:s.some((e=>(null===e||void 0===e?void 0:e.name)===a))),i=t&&(null===(l=t)||void 0===l?void 0:l.some((e=>(null===e||void 0===e?void 0:e.name)===a)));var o;n&&!1===e?t=null===(o=t)||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.name)!==a)):!n&&i&&(t=[...t||[],t.find((e=>(null===e||void 0===e?void 0:e.name)===a))]);return t}},53941:(e,t,a)=>{a.d(t,{r:()=>s});const s=(e,t)=>{if(!e||!t)return!1;const a=e.toString().split(",").map((e=>e.trim())),s=t.toString();return a.includes(s)}},75707:(e,t,a)=>{a.d(t,{x:()=>s});const s=e=>{switch(e){case"Active":return"status-btn badge-gradient-success";case"Open":default:return"status-btn badge-gradient-info";case"In Active":return"status-btn badge-gradient-danger";case"Pending":return"status-btn badge-gradient-Pending";case"In progress":return"status-btn badge-gradient-theme";case"Submitted":return"status-btn badge-gradient-Submitted";case"Approved":return"status-btn badge-gradient-Approved";case"Freeze":return"status-btn badge-gradient-Frozen";case"Block":return"status-btn badge-gradient-Blocked";case"Reject":return"status-btn badge-gradient-reject";case"Disable":return"status-btn badge-gradient-disabled"}}}}]);
//# sourceMappingURL=592.5fb1b1bb.chunk.js.map