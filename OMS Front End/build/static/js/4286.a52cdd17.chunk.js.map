{"version":3,"file":"static/js/4286.a52cdd17.chunk.js","mappings":"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","sources":["pages/supplierDetails/feature/supplierDocumentDetail/SupplierDocumentDetail.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useContext, useState, useEffect } from \"react\";\r\nimport { securityKey } from \"../../../../data/SecurityKey\";\r\nimport AddSupplierContext from \"../../../../utils/ContextAPIs/Supplier/AddSupplierContext\";\r\nimport PropTypes from \"prop-types\";\r\n//** Service */\r\nimport { useLazyDownloadDocumentQuery } from \"../../../../app/services/documentAPI\";\r\n\r\nimport { hasFunctionalPermission } from \"../../../../utils/AuthorizeNavigation/authorizeNavigation\";\r\nimport {\r\n  useAddSupplierDocumentsMutation,\r\n  useDeleteSupplierDocumentsByIdMutation,\r\n  useLazyGetSupplierDocumentsByIdQuery,\r\n} from \"../../../../app/services/supplierDocuementsAPI\";\r\n\r\n//** Components */\r\nconst DocumentGrid = React.lazy(() =>\r\n  import(\"../../../../common/features/component/Document/DocumentGrid\")\r\n);\r\n\r\nconst CardSection = React.lazy(() =>\r\n  import(\"../../../../components/ui/card/CardSection.js\")\r\n);\r\n\r\nconst Unauthorize = React.lazy(() =>\r\n  import(\"../../../../pages/unauthorize/Unauthorize.js\")\r\n);\r\n\r\nconst supplierSecurityKey = {\r\n  ADD: securityKey.ADDSUPPLIERDOCUMENT,\r\n  DELETE: securityKey.DELETESUPPLIERDOCUMENT,\r\n  DOWNALOD: securityKey.DOWNALODSUPPLIERDOCUMENT,\r\n};\r\n\r\nconst SupplierDocumentDetail = ({ isEditablePage, supplierStatus }) => {\r\n  const [showNormalDocuments, setShowNormalDocuments] = useState(false);\r\n  const [showArchiveDocuments, setShowArchiveDocuments] = useState(false);\r\n\r\n  const {\r\n    supplierId,\r\n    isResponsibleUser,\r\n    activeSubTab,\r\n    handleActiveSubTabClick,\r\n  } = useContext(AddSupplierContext);\r\n\r\n  const hasPermissionToSeeDocuments = hasFunctionalPermission(\r\n    securityKey.SUPPLIERDOCUMENT\r\n  );\r\n\r\n  useEffect(() => {\r\n    const shouldShowDocuments =\r\n      isEditablePage && !isResponsibleUser\r\n        ? hasPermissionToSeeDocuments.hasAccess\r\n        : true;\r\n\r\n    setShowNormalDocuments(shouldShowDocuments);\r\n    setShowArchiveDocuments(shouldShowDocuments);\r\n  }, [isEditablePage, hasPermissionToSeeDocuments]);\r\n\r\n  const tabs = [\r\n    {\r\n      sMenuItemCaption: \"Documents\",\r\n      component: (\r\n        <div className=\"mt-2 financial-sec\">\r\n          {showNormalDocuments ? (\r\n            <DocumentGrid\r\n              keyId={supplierId || 0}\r\n              isSupplier={true}\r\n              isEditablePage={isEditablePage}\r\n              SecurityKey={!isResponsibleUser ? supplierSecurityKey : null}\r\n              customerStatusId={supplierStatus}\r\n              isArchive={false}\r\n              addDocuments={useAddSupplierDocumentsMutation}\r\n              downloadDocument={useLazyDownloadDocumentQuery}\r\n              deleteDocumentsById={useDeleteSupplierDocumentsByIdMutation}\r\n              getDocumentsById={useLazyGetSupplierDocumentsByIdQuery}\r\n            />\r\n          ) : (\r\n            <Unauthorize />\r\n          )}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      sMenuItemCaption: \"Archive Documents\",\r\n      component: (\r\n        <div className=\"mt-2 shipping-sec\">\r\n          {showArchiveDocuments ? (\r\n            <DocumentGrid\r\n              keyId={supplierId || 0}\r\n              isSupplier={true}\r\n              isEditablePage={isEditablePage}\r\n              SecurityKey={!isResponsibleUser ? supplierSecurityKey : null}\r\n              customerStatusId={supplierStatus}\r\n              isArchive={true}\r\n              addDocuments={useAddSupplierDocumentsMutation}\r\n              downloadDocument={useLazyDownloadDocumentQuery}\r\n              deleteDocumentsById={useDeleteSupplierDocumentsByIdMutation}\r\n              getDocumentsById={useLazyGetSupplierDocumentsByIdQuery}\r\n            />\r\n          ) : (\r\n            <Unauthorize />\r\n          )}\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  // Safely retrieve the active tab's component\r\n  // const activeTabComponent = tabs[activeSubTab]?.component;\r\n\r\n  return (\r\n\r\n\r\n\r\n    <div className=\"supplier-document-detail\">\r\n\r\n    <CardSection isDocuments={true}>\r\n      <div className=\"main-customer-grid setting-tab-sec\">\r\n        <div className=\"main-customer-grid setting-tab-sec\">\r\n          <div className=\"tab-section tab-2-section\">\r\n            {tabs && tabs.length > 0 && (\r\n              <div className=\"row main-inactive-grid\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"tab-sub-section mb-0\">\r\n                    <div className=\"tab-sub-header\">\r\n                      {tabs &&\r\n                        tabs.map((tab, index) => (\r\n                          <>\r\n                            {isEditablePage ? (\r\n                              <button\r\n                                key={index}\r\n                                className={\r\n                                  activeSubTab === index ? \"active\" : \"\"\r\n                                }\r\n                                onClick={() =>\r\n                                  handleActiveSubTabClick(index, tab.sPage)\r\n                                }\r\n                              >\r\n                                {tab.sMenuItemCaption}\r\n                              </button>\r\n                            ) : (\r\n                              <button\r\n                                key={index}\r\n                                className={\r\n                                  activeSubTab === index ? \"active\" : \"\"\r\n                                }\r\n                              >\r\n                                {tab.sMenuItemCaption}\r\n                              </button>\r\n                            )}\r\n                          </>\r\n                        ))}\r\n                    </div>\r\n                    {activeSubTab !== -1 && tabs[activeSubTab].component && (\r\n                      <div className=\"tab-sub-content\">\r\n                        <div className=\"tab-sub-body-section\">\r\n                          {tabs[activeSubTab].component}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </CardSection>\r\n    </div>\r\n  );\r\n};\r\n\r\nSupplierDocumentDetail.propTypes = {\r\n  isEditablePage: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default SupplierDocumentDetail;\r\n"],"names":["DocumentGrid","React","CardSection","Unauthorize","supplierSecurityKey","ADD","securityKey","ADDSUPPLIERDOCUMENT","DELETE","DELETESUPPLIERDOCUMENT","DOWNALOD","DOWNALODSUPPLIERDOCUMENT","_ref","isEditablePage","supplierStatus","showNormalDocuments","setShowNormalDocuments","useState","showArchiveDocuments","setShowArchiveDocuments","supplierId","isResponsibleUser","activeSubTab","handleActiveSubTabClick","useContext","AddSupplierContext","hasPermissionToSeeDocuments","hasFunctionalPermission","SUPPLIERDOCUMENT","useEffect","shouldShowDocuments","hasAccess","tabs","sMenuItemCaption","component","_jsx","className","children","keyId","isSupplier","SecurityKey","customerStatusId","isArchive","addDocuments","useAddSupplierDocumentsMutation","downloadDocument","useLazyDownloadDocumentQuery","deleteDocumentsById","useDeleteSupplierDocumentsByIdMutation","getDocumentsById","useLazyGetSupplierDocumentsByIdQuery","isDocuments","length","_jsxs","map","tab","index","_Fragment","onClick","sPage"],"sourceRoot":""}