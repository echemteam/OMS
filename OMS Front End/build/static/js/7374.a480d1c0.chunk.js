"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7374,1170],{19045:(e,s,i)=>{i.d(s,{n:()=>l});var t=i(15335);const l={name:"",initialState:{responsibleUserId:0,inActiveReason:""},formFields:[{id:"ResponsibleUserId",lable:"Responsible User ",Field_Name:"Responsible User",fieldType:t.Q.SELECT,dataField:"responsibleUserId",fieldSetting:{placeholder:"Select Responsible User",isDisabled:!1,isEnableOnChange:!0,isMultiSelect:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-12 mb-2"}},{id:"inActiveReason",lable:"Reason :",Field_Name:"Reason ",fieldType:t.Q.TEXTAREA,dataField:"inActiveReason",fieldSetting:{placeholder:"please enter Reason",allowSpace:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 mb-2"}}]}},67724:(e,s,i)=>{i.d(s,{A:()=>a});i(27565);var t=i(85097),l=i(27929);const a=e=>{let{isApprovalValidate:s,showModal:i,handleToggleModal:a,children:o,...n}=e;return(0,l.jsxs)(t.A,{className:`center-model-popup ${n.modelSizeClass}`,show:i,onHide:a,keyboard:!s,backdrop:!s||"static",children:[(0,l.jsx)(t.A.Header,{closeButton:!s,children:(0,l.jsx)("div",{className:"model-title",children:n.modalTitle})}),(0,l.jsx)(t.A.Body,{children:o})]})}},42533:(e,s,i)=>{i.r(s),i.d(s,{default:()=>se});var t=i(99704),l=i(27565),a=i(11030),o=(i(56097),i(10723)),n=i(20426),c=i(79742),d=i(69885),r=i(60497),u=i(74573),m=i(4260),v=i(17295),h=i(19888),b=i(19921),x=i(1658),f=i(34381),j=i(27929);const p=()=>{const{customerId:e}=(0,l.useContext)(t.A);return(0,j.jsx)("div",{className:"history-part",children:(0,j.jsx)(x.default,{isSupplier:!1,keyId:e||0,getAuditHistory:f.gK,getSearchFilterBindHistory:f.cC})})};var S=i(15269);const C=l.lazy((()=>i.e(6519).then(i.bind(i,46519)))),I=l.lazy((()=>i.e(8505).then(i.bind(i,28505)))),N=l.lazy((()=>i.e(5711).then(i.bind(i,78092)))),g=l.lazy((()=>i.e(4603).then(i.bind(i,94603)))),A=l.lazy((()=>Promise.all([i.e(1390),i.e(7469)]).then(i.bind(i,77469)))),y=l.lazy((()=>i.e(9212).then(i.bind(i,99212)))),T=e=>{let{customerId:s,isBuyingForThirdParty:i,contryIdCode:a,customerStatusId:o}=e;const{isResponsibleUser:n,setActiveTab:c,setActiveSubTab:d}=(0,l.useContext)(t.A),r=(0,S.T)(h.o.CUSTOMERNOTES),u=(0,S.T)(h.o.CUSTOMERADDRESS),m=(0,S.T)(h.o.CUSTOMERCONTACT),v=(0,S.T)(h.o.CUSTOMERSETTING),x=(0,S.T)(h.o.CUSTOMERHISTORY),f=(0,S.T)(h.o.CUSTOMERDOCUMENT),T=(0,S.T)(h.o.LINKSUBCUSTOMER),E=[{sMenuItemCaption:"Address",icon:"fa fa-address-book-o",component:(0,j.jsx)("div",{className:"mt-2 contact-accrodiaon-scroll",children:(0,j.jsx)(g,{isEditablePage:!0,customerStatusId:o})}),isVisible:!!n||(null===u||void 0===u?void 0:u.hasAccess)},{sMenuItemCaption:"Contact",icon:"fa fa-phone",component:(0,j.jsx)("div",{className:"mt-2 contact-accrodiaon-scroll contact-card-section-new",children:(0,j.jsx)(C,{isEditablePage:!0,isSearchFilterShow:!0,contryIdCode:a,customerStatusId:o})}),isVisible:!!n||(null===m||void 0===m?void 0:m.hasAccess)},{sMenuItemCaption:"Settings",icon:"fa fa-cog",component:(0,j.jsx)("div",{className:"mt-2",children:(0,j.jsx)(A,{isEditablePage:!0,customerStatusId:o})}),isVisible:!!n||(null===v||void 0===v?void 0:v.hasAccess)},{sMenuItemCaption:"Documents",icon:"fa fa-file-text-o",component:(0,j.jsx)("div",{className:"mt-2",children:(0,j.jsx)(I,{isEditablePage:!0,customerStatusId:o})}),isVisible:!!n||(null===f||void 0===f?void 0:f.hasAccess)},{sMenuItemCaption:"Link Customer",icon:"fa fa-link",component:(0,j.jsx)("div",{className:"mt-2",children:(0,j.jsx)(y,{})}),isVisible:n?i:i&&(null===T||void 0===T?void 0:T.hasAccess)},{sMenuItemCaption:"Notes",icon:"fa fa-sticky-note-o",component:(0,j.jsx)("div",{className:"mt-2",children:(0,j.jsx)(N,{isEditablePage:!0})}),isVisible:!!n||(null===r||void 0===r?void 0:r.hasAccess)},{sMenuItemCaption:"History",icon:"fa fa-history",component:(0,j.jsx)("div",{className:"",children:(0,j.jsx)(p,{isEditablePage:!0})}),isVisible:!!n||(null===x||void 0===x?void 0:x.hasAccess)}].filter((e=>e.isVisible));return(0,j.jsx)(b.A,{onTabClick:e=>{[2,3].includes(e)&&d(0)},onActiveTab:c,tabs:s?E:null})};var E=i(59617),w=i(67724),k=i(18637),R=i(80889),B=i(5022),M=i(65748),D=i(94839),F=i(37792),U=i(55795),P=i(17690),L=i(38860),O=i(19045),$=i(15889),V=i(35263),z=i(93096);const J={initialState:{invoiceSubmissionInstruction:""},formFields:[{id:"invoiceSubmissionInstruction",lable:"Invoice Submission Instruction ",Field_Name:"Invoice Submission Instruction",fieldType:i(15335).Q.CKEDITOR,dataField:"invoiceSubmissionInstruction",fieldSetting:{placeholder:"",allowSpace:!0},style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 col-12 mb-input"}}],formSetting:{isViewOnly:!1}};var G=i(45050);const K=e=>{let{customerId:s,handleToggleModal:i,isInvoiceModelShow:t,setIsInvoiceModelShow:a,hideButtons:o}=e;const n=(0,l.useRef)(),[c,d]=(0,l.useState)(J),[u]=(0,l.useState)(!1),[m,{isLoading:v,isSuccess:h,data:b}]=(0,G.B_)(),[x,{isFetching:f,isSuccess:p,data:S}]=(0,G.mI)();(0,l.useEffect)((()=>{t&&x(s)}),[t]),(0,l.useEffect)((()=>{if(!f&&p&&S){let e={...c};e.initialState={invoiceSubmissionInstruction:S.invoiceSubmissionInstruction},d(e)}}),[f,p,S]),(0,l.useEffect)((()=>{h&&b&&(M.A.success(b.errorMessage),a(!1))}),[h,b]);return(0,j.jsxs)("div",{className:"row custom-height-tiny add-edit-notesForm",children:[(0,l.createElement)(k.A,{config:c,ref:n,...c,key:u}),!o&&(0,j.jsx)("div",{className:"col-md-12",children:(0,j.jsx)("div",{className:"d-flex align-item-end justify-content-end",children:(0,j.jsxs)("div",{className:"d-flex align-item-end",children:[(0,j.jsx)(r.A,{buttonTypeClassName:"theme-button",buttonText:"Save",onClick:()=>{let e=n.current.getFormData(),i={customerId:s,invoiceSubmissionInstruction:e.invoiceSubmissionInstruction,customerAccountingSettingId:(null===S||void 0===S?void 0:S.customerAccountingSettingId)||0};e&&e.customerAccountingSettingId,m(i)},isLoading:v}),(0,j.jsx)(r.A,{buttonTypeClassName:"dark-btn ml-5",buttonText:"Cancel",onClick:i})]})})})]})};var H=i(58412),_=i(96058),W=i(28734),Y=i(4213),q=i(14490);const Q=l.lazy((()=>i.e(3396).then(i.bind(i,3396)))),Z=e=>{let{editClick:s,customerData:i,isLoading:a,customerId:o,getCustomerById:n,isGetCustomersBasicInformationById:c,isGetCustomersBasicInformationByIdFetching:u,GetCustomersBasicInformationByIdData:v}=e;const b=(0,l.useRef)(),x=(0,l.useRef)(),{confirm:f}=(0,R.A)(),[p,C]=(0,l.useState)(null),[I,N]=(0,l.useState)(O.n),[g,A]=(0,l.useState)(!1),[y,T]=(0,l.useState)(!1),[J,G]=(0,l.useState)(),[Z,X]=(0,l.useState)(),[ee,se]=(0,l.useState)([]),[ie,te]=(0,l.useState)([]),[le,ae]=(0,l.useState)([]),[oe,ne]=(0,l.useState)(D.At),[ce,de]=(0,l.useState)(""),[re,{isSuccess:ue,data:me}]=(0,m.qP)(),[ve,{isSuccess:he,data:be}]=(0,m.ks)(),[xe,{isSuccess:fe,data:je}]=(0,m.WC)(),[pe,{isLoading:Se,isSuccess:Ce,data:Ie}]=(0,m.jb)(),[Ne]=(0,_.f8)(),{isResponsibleUser:ge,totalCount:Ae,approvalSuccessCount:ye,getCustomerCompletionCount:Te,setSubCustomer:Ee,subCustomer:we}=(0,l.useContext)(t.A),[ke,Re]=(0,l.useState)(!1),Be=(0,S.T)(h.o.EDITBASICCUSTOMERDETAILS),[Me,{isFetching:De,isSuccess:Fe,data:Ue}]=(0,B.KJ)();(0,l.useEffect)((()=>{ge||(Be&&!0===Be.isViewOnly?Re(!0):!0===Be.isEditable||Re(!0))}),[Be,ge]),(0,l.useEffect)((()=>{Ce&&Ie&&(M.A.success(Ie.errorMessage),Oe())}),[Ce,Ie]),(0,l.useEffect)((()=>{fe&&je&&(M.A.success(je.errorMessage),Oe())}),[fe,je]),(0,l.useEffect)((()=>{if(v&&c&&!u){var e,s;const i=null===v||void 0===v||null===(e=v.responsibleUserId)||void 0===e?void 0:e.split(",").map((e=>e.trim())),t=null===v||void 0===v||null===(s=v.responsibleUserName)||void 0===s?void 0:s.split(",").map((e=>e.trim())),l=null===i||void 0===i?void 0:i.map(((e,s)=>({value:e,label:t[s]||e})));se(i),te(l),de(l),C(v.status),Me(),Te(o,null===v||void 0===v?void 0:v.isSubCustomer),Ee(null===v||void 0===v?void 0:v.isSubCustomer)}}),[v,c,u]);(0,l.useEffect)((()=>{if(!De&&Fe&&Ue){const e=Ue.filter((e=>null===e.roleName||!F.hN.map((e=>e.toLowerCase())).includes(e.roleName.toLowerCase()))),s=Array.from(new Map(e.map((e=>[e.fullName,e]))).values()),i=(ee?s.filter((e=>!ee.includes(e.userId.toString()))):s).map((e=>({value:e.userId,label:e.fullName})));ae(i);const t=Ue.filter((e=>null===e.roleName||!F.hN.map((e=>e.toLowerCase())).includes(e.roleName.toLowerCase()))),l=Array.from(new Map(t.map((e=>[e.fullName,e]))).values());(0,H.Xh)(l,"userId","fullName",O.n,"responsibleUserId")}}),[Fe,Ue,De]);(0,l.useEffect)((()=>{if(i){let e=D.At;i.status===D.LE.APPROVED?e=D.At.filter((e=>2!==e.value)):i.status===D.LE.PENDING&&(e=D.At.filter((e=>3!==e.value))),ne(e)}}),[i]);const Pe=()=>{const e=(0,$.G)(I,["responsibleUserId"]);N(e)};(0,l.useEffect)((()=>{he&&be&&(M.A.success(be.errorMessage),Te(o,we))}),[he,be]);const Le=e=>{let s={customerId:o,userId:String(e)};ve(s)},Oe=()=>{A(!1),T(!1),(()=>{let e={...O.n};e.initialState={...I},N(e)})(),n(),C(i.status)},$e=()=>{switch(p){case"Pending":return"badge-gradient-Pending";case"Submitted":return"badge-gradient-Submitted";case"Approved":return"badge-gradient-Approved";case"Freeze":return"badge-gradient-Frozen";case"Block":return"badge-gradient-Blocked";case"Reject":return"badge-gradient-reject";case"Disable":return"badge-gradient-disabled";default:return"badge-gradient-info"}};(0,l.useEffect)((()=>{if(g&&p===W.J$.REJECT&&ee){const e=null===ee||void 0===ee?void 0:ee.map((e=>Number(e.trim()))),s={...I};s.initialState={...s.initialState,responsibleUserId:e},N(s)}}),[g,p]),(0,l.useEffect)((()=>{ue&&me&&(M.A.success(me.errorMessage),n(),Te(o,we))}),[ue,me]);return a?(0,j.jsx)(L.A,{}):(0,j.jsxs)("div",{className:"basic-customer-detail",children:[(0,j.jsxs)("div",{className:"col-xl-12 col-lg-12 col-md-12 col-12",children:[(0,j.jsxs)("div",{className:"d-flex profile-info  justify-content-between col-12",children:[(0,j.jsx)("div",{className:"col-3 flex-column profile-icon-desc justify-content-center",children:(0,j.jsxs)("div",{className:"d-flex w-100",children:[(0,j.jsx)("div",{className:"profile-icon ",children:(0,j.jsx)(q.A,{imagePath:null!==i&&void 0!==i&&i.base64File?null===i||void 0===i?void 0:i.base64File:d.m.DummyLogo,altText:"button Icon"})}),(0,j.jsxs)("div",{className:"detail-sec",children:[(0,j.jsxs)("div",{className:"customer-name",children:[(0,j.jsx)("h5",{className:"ml-0",title:null===i||void 0===i?void 0:i.name,children:null===i||void 0===i?void 0:i.name}),(0,j.jsxs)("div",{className:"info-icon",children:[(0,j.jsx)(V.A,{icon:"ep:info-filled",className:"info"}),(0,j.jsx)(Y.A,{text:null===i||void 0===i?void 0:i.name})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"field-desc col-span-3",children:[(0,j.jsx)("i",{className:"fa fa-envelope"}),(0,j.jsx)("a",{className:"email-link",href:`mailto:${null===i||void 0===i?void 0:i.emailAddress}`,children:(0,j.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.emailAddress})}),(0,j.jsxs)("span",{className:"copy-icon tooltip-div",onClick:()=>(0,U.A)(null===i||void 0===i?void 0:i.emailAddress,"email"),children:[(0,j.jsx)(V.A,{icon:"bitcoin-icons:copy-outline"}),(0,j.jsx)("div",{className:"tooltip-show",children:(0,j.jsx)("p",{children:"Click to Copy"})}),(0,j.jsx)("div",{className:"tooltip-arrow-icon"})]})]}),(0,j.jsxs)("div",{className:"field-desc ",children:[(0,j.jsx)("i",{className:"fa fa-globe"}),(0,j.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.website}),(0,j.jsxs)("span",{className:"copy-icon tooltip-div",onClick:()=>(0,U.A)(null===i||void 0===i?void 0:i.website,"website"),children:[(0,j.jsx)(V.A,{icon:"bitcoin-icons:copy-outline"}),(0,j.jsx)("div",{className:"tooltip-show",children:(0,j.jsx)("p",{children:"Click to Copy"})}),(0,j.jsx)("div",{className:"tooltip-arrow-icon"})]})]})]})]})]})}),(0,j.jsxs)("div",{className:"col-3 pr-5",children:[(0,j.jsxs)("div",{className:"field-desc basic-info-select dis-dropdown",children:[(0,j.jsx)("div",{className:"inf-label",children:"Status"}),(0,j.jsx)("b",{children:"\xa0:\xa0"}),ke?(0,j.jsx)("div",{className:`info-desc  ${$e()}`,children:p}):(0,j.jsx)("div",{className:`status-dropdown ${$e()}`,children:(0,j.jsx)(E.default,{options:oe,value:p,onChange:e=>{e.label===i.status?M.A.warning("You can't change the status of the customer to currect customer status."):e.value===W.J$.PENDING?f("Warning?",`Are you sure you want to change the customer status to ${e.label}?`,"Yes","Cancel").then((s=>{if(s){let s={customerId:o,statusId:e.value};xe(s),C(e.value)}})):e.value===W.J$.FREEZE||e.value===W.J$.BLOCK||e.value===W.J$.DISABLE||e.value===W.J$.REJECT?(e.value!==W.J$.REJECT&&i.responsibleUserId&&Pe(),A(!0),C(e.value)):e.value!==W.J$.APPROVED&&e.value!==W.J$.SUBMITTED||(b.current&&b.current.callChildFunction(o,!!i.isSubCustomer&&i.isSubCustomer,e.value!==W.J$.SUBMITTED),G(o),X(e.value))},placeholder:"Select Status",isDisabled:ke})})]}),(0,j.jsxs)("div",{className:"field-desc",children:[(0,j.jsx)("div",{className:"inf-label",children:"Tax Id"}),(0,j.jsx)("b",{children:"\xa0:\xa0"}),(0,j.jsx)("div",{className:"info-desc",children:null!==i&&void 0!==i&&i.taxId?null===i||void 0===i?void 0:i.taxId:P.K.NotAvailabe})]}),(0,j.jsxs)("div",{className:"field-desc basic-info-select dis-dropdown",children:[(0,j.jsx)("div",{className:"inf-label",children:"R-User"}),(0,j.jsx)("b",{children:"\xa0:\xa0"}),(0,j.jsx)("div",{className:"status-dropdown",children:(0,j.jsx)(z.A,{isMultiSelect:!0,placeholder:"Responsible User",isDropdownDisabled:!!ge||ke,optionsValue:le,value:ie,handleDropdownChange:e=>{const s=e.map((e=>e.value.toString()));te(e),se(s),Me()},handleDropdownBlur:()=>{const e=null===ie||void 0===ie?void 0:ie.map((e=>e.value)).join(",");if(e!==ce){ve({customerId:o,userId:e}),de(e)}}})})]}),(0,j.jsxs)("div",{className:"field-desc",children:[(0,j.jsx)("div",{className:"inf-label",children:"List Code"}),(0,j.jsx)("b",{children:"\xa0:\xa0"}),(0,j.jsx)("div",{className:"info-desc",children:null!==i&&void 0!==i&&i.listCode?null===i||void 0===i?void 0:i.listCode:P.K.NotAvailabe})]})]}),(0,j.jsxs)("div",{className:"col-3  separator",children:[(0,j.jsxs)("div",{className:"field-desc",children:[(0,j.jsx)("div",{className:"inf-label",children:"Country"}),(0,j.jsx)("b",{children:"\xa0:\xa0"}),(0,j.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.countryName})]}),(0,j.jsxs)("div",{className:"field-desc",children:[(0,j.jsx)("div",{className:"inf-label",children:"Territory"}),(0,j.jsx)("b",{children:"\xa0:\xa0"}),(0,j.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.territory})]}),(0,j.jsxs)("div",{className:"field-desc",children:[(0,j.jsx)("div",{className:"inf-label",children:"Group Type"}),(0,j.jsx)("b",{children:"\xa0:\xa0"}),(0,j.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.type})]}),(0,j.jsxs)("div",{className:"field-desc",children:[(0,j.jsx)("div",{className:"inf-label",children:"Incoterm"}),(0,j.jsx)("b",{children:"\xa0:\xa0"}),(0,j.jsx)("div",{className:"info-desc",children:null===i||void 0===i?void 0:i.incotermName})]})]}),(0,j.jsxs)("div",{className:"col-3",children:[(0,j.jsxs)("div",{className:"field-desc",children:[(0,j.jsx)("div",{className:"inf-label inf-label-width ",children:"Is Buying for Third Party"}),(0,j.jsx)("b",{children:"\xa0:\xa0"}),(0,j.jsxs)("div",{className:"info-desc",children:[null===i||void 0===i?void 0:i.isBuyingForThirdParty,i&&i.isBuyingForThirdParty?(0,j.jsx)("i",{className:"fa fa-check green-color"}):(0,j.jsx)("i",{className:"fa fa-times red-color"})]})]}),(0,j.jsxs)("div",{className:"field-desc",children:[(0,j.jsx)("div",{className:"inf-label inf-label-width",children:"Is Sub Customer"}),(0,j.jsx)("b",{children:"\xa0:\xa0"}),(0,j.jsx)("div",{className:"checkbox-part ml-2 mt-2",children:(0,j.jsxs)("div",{className:"checkbox",children:[(0,j.jsx)("input",{name:"isSubCustomer",className:"form-checkbox",type:"checkbox",id:"isSubCustomer",checked:!(null===i||void 0===i||!i.isSubCustomer)&&(null===i||void 0===i?void 0:i.isSubCustomer),onChange:e=>{const s=e.target.checked;f("Warning?",P.n.Confirm_Update.replace("{0}","Sub Customer"),"Yes","Cancel").then((e=>{if(e){re({customerId:o,isSubCustomer:s})}}))},disabled:!!ge||ke}),(0,j.jsx)("label",{htmlFor:"isSubCustomer",className:"checkbox-label"})]})})]}),ge||!ke?(0,j.jsxs)("div",{className:"field-desc",children:[(0,j.jsx)("div",{className:"inf-label inf-label-width submission-tab",children:"Invoice Submission"}),(0,j.jsx)("b",{children:"\xa0:\xa0"}),(0,j.jsxs)("div",{className:"checkbox-part ml-2 mt-2 eye-icon tooltip-div",children:[(0,j.jsx)(V.A,{icon:"ph:eye-duotone",onClick:()=>{T(!0)}}),(0,j.jsx)("div",{className:"tooltip-show",children:(0,j.jsx)("p",{children:"Add/Edit Invoice Submission"})}),(0,j.jsx)("div",{className:"tooltip-arrow-icon"})]})]}):null,(0,j.jsxs)("div",{className:"field-desc",children:[(0,j.jsx)("div",{className:"inf-label inf-label-width",children:"Profile Completion"}),Ae&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("b",{children:"\xa0:\xa0"}),(0,j.jsxs)("div",{className:"submission-tab d-flex gap-2 align-items-center",style:{cursor:"pointer",fontSize:"13px"},onClick:()=>{b.current&&b.current.callChildFunction(o,!!i.isSubCustomer&&i.isSubCustomer,!1,!1)},children:[ye+"/"+Ae,(0,j.jsxs)("span",{className:"tooltip-div",children:[(0,j.jsx)(V.A,{icon:"ep:info-filled",className:"info"}),(0,j.jsx)("div",{className:"tooltip-show",children:(0,j.jsx)("p",{children:"Click to view"})}),(0,j.jsx)("div",{className:"tooltip-arrow-icon"})]})]})]})]})]})]}),(0,j.jsx)("div",{className:"edit-icons",onClick:s,children:(0,j.jsx)(V.A,{icon:"tabler:pencil"})})]}),g&&(0,j.jsx)(w.A,{showModal:g,handleToggleModal:Oe,modalTitle:`${(e=>{const s=D.At.find((s=>s.value===e));return s?s.label:"Unknown"})(p)} Reason`,modelSizeClass:"w-50s",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)(k.A,{config:I,ref:x,...I}),(0,j.jsx)("div",{className:"col-md-12 mt-2",children:(0,j.jsx)("div",{className:"d-flex align-item-end justify-content-end",children:(0,j.jsxs)("div",{className:"d-flex align-item-end",children:[(0,j.jsx)(r.A,{buttonTypeClassName:"theme-button",buttonText:"Update",isLoading:Se,onClick:()=>{let e=x.current.getFormData();if(e){let s={...e,customerId:o,statusId:p||0,note:e.inActiveReason};pe(s),Ne(s),Le(e.responsibleUserId)}}}),(0,j.jsx)(r.A,{buttonTypeClassName:"dark-btn ml-5",buttonText:"Cancel",onClick:Oe})]})})})]})}),y&&(0,j.jsx)(w.A,{showModal:y,handleToggleModal:T,modalTitle:"Add/Edit Invoice Submission Instruction",modelSizeClass:"w-60",children:(0,j.jsx)(K,{customerId:o,isInvoiceModelShow:y,setIsInvoiceModelShow:T,handleToggleModal:Oe})}),(0,j.jsx)(Q,{isDetailPage:!0,childRef:b,updateCustomerApproval:()=>{C(Z),xe({customerId:J,statusId:Z})},responsibleUserIds:ee,setSelectedStatus:C,onRejectedCustomerFromApproval:()=>{n()}})]})};i(12812);var X=i(53941);const ee=()=>{const e=(0,a.Zp)(),{id:s}=(0,a.g)(),i=(0,o.d4)((e=>e.auth)),h=s?(0,u.je)(s):0,[b,x]=(0,l.useState)(!1),[f,p]=(0,l.useState)(null),[S,C]=(0,l.useState)(!1),{setCustomerId:I,customerId:N,setIsResponsibleUser:g,setCustomerCountryId:A,setSubCustomer:y}=(0,l.useContext)(t.A),[E,{isFetching:w,isSuccess:k,data:R}]=(0,m.vZ)();(0,l.useEffect)((()=>{var e;k&&R&&!w&&(g((0,X.r)(R.responsibleUserId,null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.userID)),p(R),A(R.countryId),C(R.isBuyingForThirdParty),y(R.isSubCustomer))}),[k,R,w]),(0,l.useEffect)((()=>{h&&(I(h),E(h))}),[h]);const B=()=>{h&&E(h)},M=()=>{x(!1)},D=(0,a.zy)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"card-bottom-m-0",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-xxl-12 col-xl-12 col-md-12 col-12 basic-left-part customer-desc-left-sec mb-2 mt-2 customer-all-details",children:(0,j.jsx)(v.default,{children:(0,j.jsx)(Z,{editClick:()=>{x(!0)},customerData:f,isLoading:b?null:w,customerId:N,getCustomerById:B,isGetCustomersBasicInformationById:k,isGetCustomersBasicInformationByIdFetching:w,GetCustomersBasicInformationByIdData:R})})}),(0,j.jsxs)("div",{className:"col-xxl-12 col-xl-12 col-md-12 col-12 other-info-tab",children:[(0,j.jsx)(r.A,{buttonTypeClassName:"back-button btn dark-btn",onClick:()=>{var s,i;const t=null===(s=D.state)||void 0===s?void 0:s.paginationObj,l=null===(i=D.state)||void 0===i?void 0:i.tabIndex;e("/Customers",{state:{paginationObj:t,tabIndex:l}})},textWithIcon:!0,buttonText:"Back",imagePath:d.m.BackArrowIcon}),(0,j.jsx)("div",{className:"customer-detail-tab-sec",children:(0,j.jsx)(T,{customerId:N,isBuyingForThirdParty:S,contryIdCode:null===f||void 0===f?void 0:f.countryId,customerStatusId:null===f||void 0===f?void 0:f.statusId})})]})]})}),(0,j.jsx)(c.default,{modalTitle:"Edit Customer Basic Information",contentClass:"content-50 basic-info-model",onClose:M,modalTitleIcon:d.m.AddIcon,isOpen:b,children:(0,j.jsx)(n.default,{onSidebarClose:M,isOpen:b,customerData:f,keyId:h,isEditablePage:!0,getCustomerById:B,customerStatusId:null===f||void 0===f?void 0:f.statusId})})]})},se=()=>(0,j.jsx)(t.k,{children:(0,j.jsx)(ee,{})})},99704:(e,s,i)=>{i.d(s,{A:()=>n,k:()=>c});var t=i(27565),l=i(2604),a=i(27929);const o=(0,t.createContext)(),n=o,c=e=>{let{children:s}=e;const i=(0,t.useRef)(),[n,c]=(0,t.useState)(0),[d,r]=(0,t.useState)(0),[u,m]=(0,t.useState)(!1),[v,h]=(0,t.useState)(""),[b,x]=(0,t.useState)([]),[f,j]=(0,t.useState)(!1),[p,S]=(0,t.useState)([]),[C,I]=(0,t.useState)(!1),[N,g]=(0,t.useState)(),[A,y]=(0,t.useState)(),[T,E]=(0,t.useState)(!0),[w,k]=(0,t.useState)(""),R=(0,t.useRef)(null),B=(0,t.useRef)(null),M=(0,t.useRef)(null),[D,F]=(0,t.useState)(0),[U,P]=(0,t.useState)(0),[L,O]=(0,t.useState)(),[$,V]=(0,t.useState)(),[z,{isSuccess:J,data:G}]=(0,l.Tr)();(0,t.useEffect)((()=>{if(J&&G&&G&&G.length>0){const e=G.filter((e=>e.isValid));V(e.length),O(G.length)}}),[J,G]);const K=()=>{B.current&&B.current.onhandleEdit()};return(0,a.jsx)(o.Provider,{value:{nextRef:R,customerId:d,setCustomerId:r,activeTab:D,setActiveTab:F,moveNextPage:()=>{F((e=>e+1))},movePreviewPage:()=>{F((e=>e-1))},addCustomer:e=>{6===D&&P(0),d>0&&1===e?R.current&&R.current.handleAddBasicDetails():d>0?F((e=>e+1)):R.current&&R.current.handleAddBasicDetails(),5===e&&(j(!1),K())},setPhoneNumberData:g,setCustomerCountryId:h,customerCountryId:v,setIsExistsFinancialSetting:I,isExistsFinancialSetting:C,financialRef:M,phoneNumberData:N,setMainId:c,mainId:n,setShowSubBackButton:j,showSubBackButton:f,setActiveSubTab:P,activeSubTab:U,handleActiveSubTabClick:e=>{P(e),j(!1),1===e&&j(!0)},saveFinacialSetting:K,emailAddressData:A,setEmailAddressData:y,molGridRef:i,setDeliveryMethodsList:S,deliveryMethodsList:p,setCarriersList:x,carriersList:b,settingRef:B,setIsResponsibleUser:E,isResponsibleUser:T,setRejectStatusId:k,rejectStatusId:w,totalCount:L,approvalSuccessCount:$,getCustomerCompletionCount:(e,s)=>{z({customerId:e,supplierId:0,isSubCustomer:s||!1})},subCustomer:u,setSubCustomer:m},children:s})}},55795:(e,s,i)=>{i.d(s,{A:()=>l});var t=i(65748);const l=(e,s)=>{navigator.clipboard.writeText(e).then((()=>{t.A.success(`${s} copied to the clipboard.`)}),(e=>{t.A.err("Could not copy text: ",e)}))}}}]);
//# sourceMappingURL=7374.a480d1c0.chunk.js.map