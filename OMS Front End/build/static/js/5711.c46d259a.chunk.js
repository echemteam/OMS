"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[5711],{57699:(e,t,i)=>{i.r(t),i.d(t,{default:()=>S});var s=i(27565),l=i(84805),n=i(69885),o=i(17295),d=i(67724),a=i(15269),c=i(58412),u=i(27929);const r=s.lazy((()=>i.e(624).then(i.bind(i,624)))),y=s.lazy((()=>i.e(8273).then(i.bind(i,98273)))),S=e=>{let{keyId:t,isSupplier:i,isEditablePage:S,SecurityKey:m,onAddNotes:f,onUpdateNotes:h,onGetByIdNotes:p}=e;const N=(0,s.useRef)(),{formSetting:E}=l.y,[b,I]=(0,s.useState)(!1),[T,g]=(0,s.useState)(!1),[x,D]=(0,s.useState)(),[w,A]=(0,s.useState)(!0),[C,O]=(0,s.useState)(!0),[k,v]=(0,s.useState)(!1),j=(0,a.T)(null===m||void 0===m?void 0:m.ADD),M=(0,a.T)(null===m||void 0===m?void 0:m.EDIT);(0,s.useEffect)((()=>{if(M&&j&&m){if(S)if(!0===M.isViewOnly){E.isViewOnly=!0,v(!0),A(!0);(0,c.Nw)(l.y,"note").fieldSetting.isDisable=!0}else!0===M.isEditable?A(!0):(E.isViewOnly=!1,v(!1),A(!1));!0===j.hasAccess?(E.isViewOnly=!1,O(!0)):(E.isViewOnly=!0,O(!1))}}),[M,j,S,E]);const B=()=>{g(!1),I(!b)};return(0,u.jsxs)("div",{className:"notes-main-card-section",children:[(0,u.jsx)(o.default,{cardTitle:"Notes",buttonClassName:"theme-button",textWithIcon:!0,iconImg:n.m.PlusIcon,rightButton:C,buttonText:"Add",titleButtonClick:B,children:(0,u.jsx)("div",{className:"note-card-sec",children:(0,u.jsx)(r,{listRef:N,handleEditClick:e=>{g(!0),I(!b),D(e)},onGetByIdNotes:p,keyId:t,isSupplier:i,showEditIcon:w})})}),(0,u.jsx)(d.A,{showModal:b,handleToggleModal:B,modalTitle:"Add/Edit Notes",modelSizeClass:"w-60",children:(0,u.jsx)(y,{keyId:t,onAddNotes:f,onUpdateNotes:h,handleToggleModal:B,isEditModeData:x,isSupplier:i,isEditMode:T,isButtonDisable:k,onSuccess:()=>{I(!b),N.current&&N.current.callListFunction(t)}})})]})}},84805:(e,t,i)=>{i.d(t,{y:()=>s});const s={name:"Notes From",initialState:{note:""},formFields:[{id:"note",lable:"Notes :",Field_Name:"notes",fieldType:i(15335).Q.CKEDITOR,dataField:"note",fieldSetting:{placeholder:"Enter",allowSpace:!0,maxLength:1e3,isDisable:!1},validation:[{type:"require"}],style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 mb-input"}}],formSetting:{isViewOnly:!1}}},78092:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var s=i(27565),l=i(19888),n=i(57699),o=i(96058),d=i(99704),a=i(27929);const c={ADD:l.o.ADDCUSTOMERNOTE,EDIT:l.o.EDITCUSTOMERNOTE},u=e=>{let{isEditablePage:t}=e;const{customerId:i,isResponsibleUser:l}=(0,s.useContext)(d.A);return(0,a.jsx)(n.default,{keyId:i||0,isEditablePage:t,SecurityKey:l?null:c,isSupplier:!1,onAddNotes:o.f8,onUpdateNotes:o.lg,onGetByIdNotes:o.Is})}}}]);
//# sourceMappingURL=5711.c46d259a.chunk.js.map