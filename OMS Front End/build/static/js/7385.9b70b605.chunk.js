"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7385],{47385:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var d=t(27565),l=(t(44848),t(76969)),a=t(17295),i=t(7667),n=t(38860),r=t(69377),o=t(67606),c=t(2604),u=t(5376),m=t(28734),v=t(27929);const h=e=>{var s;const t=(0,i.ZM)().roles.roleId,[h,j]=(0,d.useState)("Newest"),[p,x]=(0,d.useState)(null),[N,f]=(0,d.useState)([]),[g,I]=(0,d.useState)([]),[A,y]=(0,d.useState)(null===(s=e.moduleList[0])||void 0===s?void 0:s.moduleId),[L,{isLoading:D,isSuccess:S,data:b}]=(0,c.PV)();(0,d.useEffect)((()=>{t&&e.moduleList&&e.moduleList.length>0&&M()}),[t,e.moduleList]),(0,d.useEffect)((()=>{var s;S&&b&&(f(b),b&&0!==(null===b||void 0===b?void 0:b.length)?E(null===(s=b[0])||void 0===s?void 0:s.approvalRequestId):e.handleRestEventDetail&&e.handleRestEventDetail())}),[S,b]);const M=(s,t)=>{var d;const l={status:[m.cZ.Accept,m.cZ.Reject].join(","),roleId:e.roleId,sortOrder:h||"Newest",eventIds:Array.isArray(g)?g.map(String).join(","):g,moduleId:A||(null===(d=e.moduleList[0])||void 0===d?void 0:d.moduleId)};s&&(l[s]=t),"eventIds"===s&&(l[s]=Array.isArray(t)?t.map(String).join(","):t),L(l)},E=s=>{x(s),e.onGetById&&e.onGetById(s)};return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-5 pr-0 left-modual-sec",children:(0,v.jsx)(u.A,{moduleList:e.moduleList,isPending:!1,setModuleList:e.setModuleList,onModuleChange:s=>{y(s),M("moduleId",s),e.handleRestEventDetail&&e.handleRestEventDetail()}})}),(0,v.jsx)("div",{className:"col-7 pl-1 pr-1",children:(0,v.jsx)(a.default,{cardTitle:"Events",rightButton:!0,isShort:!0,filtersOptions:e.eventList,selectedFilterOptions:e=>{I(e),M("eventIds",e)},selectedSortOrder:e=>{j(e),M("sortOrder",e)},children:(0,v.jsx)("div",{className:"customer-info",children:D?(0,v.jsx)(n.A,{}):(0,v.jsx)("div",{className:"tabs",children:N&&N.length>0?N.map((e=>(0,v.jsx)("button",{className:"tab-button "+(p===e.approvalRequestId?"active":""),onClick:()=>E(e.approvalRequestId),children:(0,v.jsxs)("div",{className:"d-flex align-items-start w-100",children:[(0,v.jsxs)("span",{className:"profile-icon",children:[" ",(0,o.f)(e.eventName)," "]}),(0,v.jsxs)("div",{className:"right-name-desc",children:[(0,v.jsxs)("div",{className:"title",children:[e.eventName,(0,v.jsx)("div",{className:"date",children:e.requestedDate?(0,l.Ay)(e.requestedDate,"MM/DD/YYYY hh:mm A"):"No Date"})]}),(0,v.jsx)("div",{className:"bage-fix",children:(0,v.jsxs)("div",{className:"mytask-type-badge "+("Accept"===e.status?"badge-accept":"Reject"===e.status?"badge-reject":""),children:[e.status," by ",e.approvedByUserName," on"," ",(0,l.Ay)(e.approvedDate,"MM/DD/YYYY hh:mm A")]})})]})]})},e.approvalRequestId))):(0,v.jsx)(r.A,{})})})})})]})})}},5376:(e,s,t)=>{t.d(s,{A:()=>n});var d=t(27565),l=t(17295),a=t(5022),i=t(27929);const n=e=>{let{moduleList:s,onModuleChange:t,isPending:n,setModuleList:r,onGetById:o}=e;const[c,u]=(0,d.useState)(null),[m,{isSuccess:v,data:h}]=(0,a.lV)();(0,d.useEffect)((()=>{m(n)}),[m,o]),(0,d.useEffect)((()=>{v&&h&&r(h)}),[v,h]),(0,d.useEffect)((()=>{s&&s.length>0&&u(s[0].moduleId)}),[s]);return(0,i.jsx)(l.default,{cardTitle:"Modules",children:(0,i.jsx)("div",{className:"module-listing",children:(0,i.jsx)("ul",{children:s&&s.map(((e,s)=>(0,i.jsx)("li",{className:c===e.moduleId?"active":"",onClick:()=>{return u((s=e).moduleId),void(t&&t(s.moduleId));var s},children:(0,i.jsxs)("span",{children:[e.moduleName," ",e.requestCount>0?(0,i.jsxs)(i.Fragment,{children:[" ",(0,i.jsx)("div",{className:"module-count",children:e.requestCount})]}):null]})},s)))})})})}}}]);
//# sourceMappingURL=7385.9b70b605.chunk.js.map