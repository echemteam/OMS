"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[3842],{63842:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var r=a(27565),d=a(48357),i=(a(80889),a(27929));const o=r.lazy((()=>a.e(9397).then(a.bind(a,79397)))),n=r.lazy((()=>Promise.all([a.e(8145),a.e(5097),a.e(9154)]).then(a.bind(a,39154)))),s=r.lazy((()=>a.e(1966).then(a.bind(a,61966)))),c=r.lazy((()=>a.e(8907).then(a.bind(a,18907)))),l=e=>{let{onhandleAddOrderData:t}=e;const{productId:a,itemRef:l,documentRef:u}=(0,r.useContext)(d.A),[m,y]=(0,r.useState)([]),[I,p]=(0,r.useState)(!1),[P,h]=(0,r.useState)(!1),[D,b]=(0,r.useState)([]),[v,N]=(0,r.useState)([]),[S,f]=(0,r.useState)({documentName:"",base64File:""});(0,r.useImperativeHandle)(l,(()=>({AddOrderItem:T})));const T=async()=>{var e,a,r,d;const i=v.map((e=>({catalogId:e.CatalogId||0,casNumber:e.CASNo||"",mdlNumber:e.MDLNo||"",chemicalName:e.ProductName||"",requestDate:new Date(e.requestDate)||new Date,promiseDate:new Date(e.promiseDate)||new Date,orderPriority:e.orderPriority||"",referenceEntityId:e.referenceEntityId||0,orderItemStatusId:e.orderItemStatusId||0,orderItemSubStatusId:e.orderItemSubStatusId||0,quantity:Number(e.Quantity)||0,packSize:Number(e.Size)||0,unit:e.Unit||0,itemUnitPrice:e.Price||0,poItemUnitPrice:e.poItemUnitPrice||0,subTotalPrice:e.subTotalPrice||0,subTotalPOPrice:e.subTotalPOPrice||0,orderDisputTypeId:e.orderDisputTypeId||0,orderTimeCancelReason:e.orderTimeCancelReason||"",entityType:e.entityType||"",note:e.orderNote||"",entityId:e.entityId||0}))),o=u.current.getFormData(),n={orderItemsList:i,orderChargeId:0,chargeType:"",name:"",orderItemId:0,documentName:null!==o&&void 0!==o&&null!==(e=o.attachment)&&void 0!==e&&e.fileName?null===o||void 0===o||null===(a=o.attachment)||void 0===a?void 0:a.fileName:"",documentType:0,base64File:null!==o&&void 0!==o&&null!==(r=o.attachment)&&void 0!==r&&r.base64Data?null===o||void 0===o||null===(d=o.attachment)||void 0===d?void 0:d.base64Data:"",storagePath:"Order"};t(n),p(!0)};return(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)(n,{onhandleProductDetailsListData:e=>{f(e)},isDocumentData:I}),(0,i.jsx)("div",{className:"col-xl-6 col-2xl-6 col-lg-12 col-12",children:(0,i.jsx)(c,{productId:a,onVerifyProductList:e=>{b(e)},setIsVerifyProduct:h})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)(s,{productId:a,onPriceListUpdate:e=>{const t=Array.isArray(e)?e:[e],a=[...m];a.push(...t),y(a)},isVerifyProduct:P})}),(0,i.jsx)("div",{className:"col-12 mt-3",children:(0,i.jsx)(o,{priceList:m,verifyProductData:D,onHandlePriceListAndVerifyProductData:e=>{N(e)}})})]})}}}]);
//# sourceMappingURL=3842.44072c06.chunk.js.map