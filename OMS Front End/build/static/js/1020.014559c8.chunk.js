"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[1020],{71020:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var n=a(27565),i=a(11030);const r={columns:[{name:"Event Name",fieldName:"eventName",colStyle:{width:"20%"},allowShort:!0},{name:"Description",fieldName:"description",colStyle:{width:"60%"},allowShort:!0},{name:"Action",colStyle:{width:"20%"},colType:a(79663).f.ACTION,defaultAction:{allowDelete:!0},customAction:[{name:"TESTAPI",iconName:"hugeicons:api",title:"Test Api",className:"api-icon"},{name:"VIEWCONFIGURATION",iconName:"lets-icons:view",title:"View",className:"view-icon"}]}]};var s=a(54992),c=a(65748),o=a(80889),l=a(74573),u=a(62360),g=a(17690),d=a(27929);const S=e=>{let{childRef:t}=e;const a=(0,n.useRef)(),S=(0,i.Zp)(),{confirm:m}=(0,o.A)(),[f,p]=(0,n.useState)(),[N,h]=(0,n.useState)(0),[A,{isSuccess:w,data:v}]=(0,s.G_)(),[C,{isSuccess:E,data:T}]=(0,s.M_)(),[b,{isLoading:I,isSuccess:O,data:P}]=(0,s.gg)(),y=(e,t)=>{const a={pagination:{pageNumber:e.pageNumber,pageSize:e.pageSize},filters:{searchText:""},sortString:t};b(a)};(0,n.useEffect)((()=>{if(w&&v){c.A.success(v.errorMessage);const e=a.current.getCurrentPageObject();y(e,a.current.generateSortingString())}}),[w,v]);const D=()=>{if(a.current){const e=a.current.getCurrentPageObject();y(e,a.current.generateSortingString())}};(0,n.useEffect)((()=>{O&&P&&(P&&p(P.dataSource),P.totalRecord&&h(P.totalRecord))}),[O,P]);(0,n.useEffect)((()=>{if(E&&T)if(T.isSuccess){const e=JSON.parse(T.data);c.A.success(null===e||void 0===e?void 0:e.message)}else T.isSuccess?c.A.warning(g.K.DefaultMessage):c.A.warning(T.message)}),[E,T]),(0,n.useEffect)((()=>{if(a.current){const e=a.current.getCurrentPageObject(),t=a.current.generateSortingString(),n={pagination:{pageNumber:e.pageNumber,pageSize:e.pageSize},filters:{searchText:""},sortString:t};b(n)}}),[]);const j={VIEWCONFIGURATION:e=>{S(`/configuration/ThirdPartyApiConfigurationViewDetails/${(0,l.rS)(e.apiEventId)}`,"_blank")},DELETE:e=>{m("Delete?","Are you sure you want to Delete?","Delete","Cancel").then((t=>{t&&A(e.apiEventId)}))},TESTAPI:e=>{let t={eventName:e.eventName,isDynamicParameter:!1,parameters:JSON.stringify({searchText:"acid"})};C(t)}};return(0,n.useImperativeHandle)(t,(()=>({callChildFunction:D}))),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-md-12 table-striped api-provider",children:(0,d.jsx)(u.A,{ref:a,configuration:r,dataSource:f,allowPagination:!1,pagination:{totalCount:N,pageSize:20,currentPage:1},onPageChange:e=>{y(e,a.current.generateSortingString())},onSorting:e=>{y(a.current.getCurrentPageObject(),e)},isLoading:I,onActionChange:j})})})}}}]);
//# sourceMappingURL=1020.014559c8.chunk.js.map