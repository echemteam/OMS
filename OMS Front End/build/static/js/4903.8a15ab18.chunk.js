"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[4903],{74903:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(27565),r=n(17295),c=n(79742),o=n(87752),i=n(69885),l=n(80889),s=n(69542),u=n(65748),d=n(88260),h=n(62360),g=n(27929);const C=e=>{let{handleEditClick:t,childRef:n,handleSearch:r,handleChange:c,search:o,handleClear:i}=e;const C=(0,a.useRef)(),[S,m]=(0,a.useState)(),[f,p]=(0,a.useState)(0),{confirm:I}=(0,l.A)(),[x,{isLoading:T,isSuccess:b,data:v}]=(0,s.Tn)(),[P,{isSuccess:A,data:j}]=(0,s.xR)();(0,a.useEffect)((()=>{if(A&&j){u.A.success(j.errorMessage);const e=C.current.getCurrentPageObject();E(e,C.current.generateSortingString())}}),[A,j]);const E=(e,t)=>{const n={pagination:{pageNumber:e.pageNumber,pageSize:e.pageSize},filters:{searchText:o},sortString:t};x(n)},k=()=>{if(C.current){const e=C.current.getCurrentPageObject();E(e,C.current.generateSortingString())}};(0,a.useEffect)((()=>{b&&v&&(v&&m(v.dataSource),v.totalRecord&&p(v.totalRecord))}),[b,v]),(0,a.useEffect)((()=>{""===o&&k()}),[o]);const B={EDIT:t,DELETE:e=>{I("Delete?","Are you sure you want to Delete?","Delete","Cancel").then((t=>{t&&P(e.providerId)}))}};return(0,a.useImperativeHandle)(n,(()=>({callChildFunction:k}))),(0,g.jsx)("div",{className:"row",children:(0,g.jsx)("div",{className:"col-md-12 table-striped api-provider",children:(0,g.jsx)(h.A,{ref:C,configuration:d.j,dataSource:S,allowPagination:!0,pagination:{totalCount:f,pageSize:25,currentPage:1},onPageChange:e=>{E(e,C.current.generateSortingString())},onSorting:e=>{E(C.current.getCurrentPageObject(),e)},isLoading:T,onActionChange:B,searchTitleButtonClick:r,handleChange:c,handleClear:i})})})};var S=n(17690),m=n(11030),f=n(74573);const p=()=>{const[e,t]=(0,a.useState)(!1),[n,l]=(0,a.useState)(!1),s=(0,a.useRef)(),d=(0,m.Zp)(),[h,p]=(0,a.useState)(""),I=()=>{l(!1),t(!1)},x=e=>{p(e.target.value.trim())},T=()=>{s.current&&s.current.callChildFunction()},b=()=>{h.length>=3?T():u.A.warning(S.K.CommonErrorMessage)},v=()=>{p("")};return(0,g.jsxs)("div",{children:[(0,g.jsx)(r.default,{cardTitle:"",handleChange:x,searchInputName:"Search By Provider Name",searchInput:!0,searchButton:!0,searchbuttonText:"Search",searchTitleButtonClick:b,clearButton:!0,clearTitleButtonClick:v,clearButtonText:"Clear",clearButtonClassName:"dark-btn",searchIconImg:i.m.SearchIcone,searchTextWithIcon:!0,clearTextWithIcon:!0,clearIconImg:i.m.ClearIcone,searchValue:h,buttonClassName:"btn theme-button",rightButton:!0,buttonText:"Add",textWithIcon:!0,iconImg:i.m.PlusIcon,titleButtonClick:()=>{l(!0)},handleKeyPress:e=>{"Enter"===e.code&&b()},children:(0,g.jsx)(C,{onGetData:T,handleEditClick:e=>{d(`/configuration/APIProviderDetail/${(0,f.rS)(e.providerId)}`)},childRef:s,handleChange:x,handleSearch:b,search:h,handleClear:v})}),(0,g.jsx)(c.default,{modalTitle:e?"Update Api Provder":"Add API Provider",contentClass:"content-35",onClose:I,modalTitleIcon:i.m.AddIcon,isOpen:n,children:(0,g.jsx)(o.A,{isEdit:e,onSuccess:()=>{l(!0),s.current&&s.current.callChildFunction()},onClose:I})})]})}}}]);
//# sourceMappingURL=4903.8a15ab18.chunk.js.map