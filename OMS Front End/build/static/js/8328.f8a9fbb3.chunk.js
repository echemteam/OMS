"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8328,1997,9295],{24014:(e,d,i)=>{i.d(d,{z:()=>s});var t=i(15335);const s={initialState:{addressTypeId:"",addressLine1:"",addressLine2:"",addressLine3:"",addressLine4:"",addressLine5:"",countryId:233,stateId:"",zipCode:"",cityId:"",supplierId:0,isPreferredBilling:!1,isShippingAndBilling:!1,isPreferredShipping:!1,stateName:"",cityName:""},formFields:[{id:"addressTypeId",lable:"Address Type ",Field_Name:"Address Type",fieldType:t.Q.SELECT,dataField:"addressTypeId",fieldSetting:{placeholder:"Select Address Type",isEnableOnChange:!0,isMultiSelect:!1},validation:[{type:"require"}],style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 col-12 mb-input"}},{id:"addressLine1",lable:"Address Line 1 ",Field_Name:"Address Line 1",fieldType:t.Q.INPUT,dataField:"addressLine1",fieldSetting:{placeholder:"Enter Address Line 1",allowSpace:!0,maxLength:35},validation:[{type:"require"}],style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 col-12 mb-input"}},{id:"addressLine2",lable:"Address Line 2",Field_Name:"Address Line 2",fieldType:t.Q.INPUT,dataField:"addressLine2",fieldSetting:{placeholder:"Enter Address Line 2",allowSpace:!0,maxLength:35},style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 col-12 mb-input"}},{id:"addressLine3",lable:"Address Line 3 ",Field_Name:"Address Line 3",fieldType:t.Q.INPUT,dataField:"addressLine3",fieldSetting:{placeholder:"Enter Address Line 3",allowSpace:!0,maxLength:35},style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 col-12 mb-input"}},{id:"addressLine4",lable:"Address Line 4 ",Field_Name:"Address Line 4",fieldType:t.Q.INPUT,dataField:"addressLine4",fieldSetting:{placeholder:"Enter Address Line 4",allowSpace:!0,maxLength:35},style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 col-12 mb-input"}},{id:"addressLine5",lable:"Address Line 5 ",Field_Name:"Address Line 5",fieldType:t.Q.INPUT,dataField:"addressLine5",fieldSetting:{placeholder:"Enter Address Line 5",allowSpace:!0,maxLength:35},style:{containerCss:"col-xxl-12 col-xl-12 col-md-12 col-12 mb-input"}},{id:"countryId",lable:"Country ",Field_Name:"Country",fieldType:t.Q.SELECT,dataField:"countryId",fieldSetting:{placeholder:"Select Country",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-6 col-xl-12 col-md-12 col-12 mb-input label-name-small"}},{id:"stateId",lable:"State ",Field_Name:"State",fieldType:t.Q.SELECT,dataField:"stateId",fieldSetting:{isDisable:!1,placeholder:"Select State",isEnableOnChange:!0,isText:!1},validation:[{type:"require"}],style:{containerCss:"col-xxl-6 col-xl-12 col-md-12 col-12 mb-input label-name-small"}},{id:"cityId",lable:"City ",Field_Name:"City",fieldType:t.Q.EDITABLEDROPDOWN,dataField:"cityId",fieldSetting:{isDisable:!0,placeholder:"Select City",isEnableOnChange:!0,isText:!1,isDependDropdown:{dataField:"stateId"}},validation:[{type:"require"}],style:{containerCss:"col-xxl-6 col-xl-12 col-md-12 col-12 mb-input label-name-small"}},{id:"zipCode",lable:"Zip Code ",Field_Name:"Zip Code",fieldType:t.Q.INPUT,dataField:"zipCode",fieldSetting:{placeholder:"Enter Zip Code",allowSpace:!0,maxLength:10},validation:[{type:"require"},{type:"validZipCode"}],style:{containerCss:"col-xxl-6 col-xl-8 col-md-8 col-12 mb-input label-name-small"}},{id:"isShippingAndBilling",lable:"Is Billing And Shipping are same",Field_Name:"Is Billing and Shipping",fieldType:t.Q.CHECKBOX,dataField:"isShippingAndBilling",fieldSetting:{placeholder:""},style:{containerCss:"col-xxl-5 col-xl-5 col-md-12 col-12 col-12 "}},{id:"isPreferredBilling",lable:"Is Preferred Billing",Field_Name:"Is PreferredBilling",fieldType:t.Q.CHECKBOX,dataField:"isPreferredBilling",fieldSetting:{placeholder:""},style:{containerCss:"col-xxl-3 col-xl-3 col-md-12 col-12 col-12 "}},{id:"isPreferredShipping",lable:"Is Preferred Shipping",Field_Name:"Is PreferredShipping",fieldType:t.Q.CHECKBOX,dataField:"isPreferredShipping",fieldSetting:{placeholder:""},style:{containerCss:"col-xxl-4 col-xl-4 col-md-12 col-12 col-12 "}}],formSetting:{isViewOnly:!1}}},49295:(e,d,i)=>{i.r(d),i.d(d,{default:()=>g});var t=i(27565),s=i(60497),l=i(28734),a=i(18637),n=i(32813),r=i(15889),o=i(58412),c=i(24014),u=i(65748),p=i(4260),m=i(71509),f=i(27929);const I={label:"United States",value:233},g=(0,t.forwardRef)((e=>{let{keyId:d,isSupplier:i,updateAddress:g,addAddress:y,getAddresssById:S,isModelOpen:h,editMode:b,isButtonDisable:C,getCompletionCount:x,onSidebarClose:A,editRef:T,isOrderManage:N,getAddressTypeIdOrder:v,onHandleOrderInfoRepeatCall:F,orderCustomerId:B,isEditablePage:E,customerStatusId:L}=e;const P=(0,t.useRef)(),[D,j]=(0,t.useState)(c.z),[w,M]=(0,t.useState)(!1),[O,z]=(0,t.useState)(null),[R,k]=(0,t.useState)(null),[G,V]=(0,t.useState)(0),[_,{isLoading:H,isSuccess:Q,data:U}]=y(),[X,{isLoading:q,isSuccess:K,data:Y}]=g(),[Z,{isFetching:$,isSuccess:W,data:J}]=S(),[ee,{isSuccess:de,isFetching:ie,data:te}]=(0,m.sM)(),[se,{data:le}]=(0,m.dq)(),[ae,{isSuccess:ne,data:re}]=(0,p.f8)(),[oe,{isSuccess:ce,data:ue}]=(0,m.Yj)();(0,t.useEffect)((()=>{(async()=>{(b||h||!N)&&await Promise.all([se(),ae(),oe()])})()}),[b,h]),(0,t.useEffect)((()=>{if(N){(0,o.t5)(c.z,"addressTypeId",l.fV.DISABLED,!0);let e={...c.z};v===l.RX.BILLING?e=(0,r.G)(c.z,["isShippingAndBilling","isPreferredShipping"]):v===l.RX.SHIPPING&&(e=(0,r.G)(c.z,["isShippingAndBilling","isPreferredBilling"])),e.initialState={...e.initialState,addressTypeId:v},j(e)}else(0,o.t5)(c.z,"addressTypeId",l.fV.DISABLED)}),[N,h]);const pe=(e,d)=>{e&&d&&me(e,d)};(0,t.useEffect)((()=>{pe(Q,U)}),[Q,U]),(0,t.useEffect)((()=>{pe(K,Y)}),[K,Y]),(0,t.useEffect)((()=>{i&&h?((0,o.t5)(D,"cityId",l.fV.DISABLED,!0),(0,o.t5)(D,"addressTypeId",l.fV.MULTISELECT,!0),b&&(0,o.t5)(D,"addressTypeId",l.fV.MULTISELECT,!1)):h||N?i||N||(0,o.t5)(D,"addressTypeId",l.fV.MULTISELECT,!1):(0,n.t)(c.z,j,null)}),[i,h]),(0,t.useEffect)((()=>{ne&&re&&(0,o.Xh)(re,"countryId","name",c.z,"countryId")}),[ne,re]),(0,t.useEffect)((()=>{if(!ie&de&&te){var e;const d=te.map((e=>({value:e.cityId,label:e.name})));let i={...D};const t=null===i||void 0===i||null===(e=i.formFields)||void 0===e?void 0:e.find((e=>"cityId"===e.id));t.fieldSetting.options=d,j(i)}}),[de,te,ie]),(0,t.useEffect)((()=>{if(ce&&ue){const e=e=>i?e.isForSuppliers:e.isForCustomers;(0,o.Xh)(ue,"addressTypeId","type",c.z,"addressTypeId",e),M((e=>!e))}}),[ce,ue,i]),(0,t.useEffect)((()=>{if(!$&&W&&J){V(J.addressId);let e={...D},t=J;C?C&&((0,o.t5)(D,"cityId",l.fV.DISABLED,!0),(0,o.t5)(D,"stateId",l.fV.DISABLED,!0)):((0,o.t5)(D,"cityId",l.fV.DISABLED),(0,o.t5)(D,"stateId",l.fV.DISABLED)),t.countryId&&(0,o.Xh)(le,"stateId","name",e,"stateId",(e=>e.countryId===t.countryId)),t.stateId&&ee(t.stateId),e.initialState={customerId:!1===i?d:0,supplierId:!0===i?d:0,addressTypeId:t.addressTypeId,addressLine1:t.addressLine1,addressLine2:t.addressLine2,addressLine3:t.addressLine3,addressLine4:t.addressLine4,addressLine5:t.addressLine5,countryId:t.countryId,stateId:t.stateId,cityId:t.cityId,zipCode:t.zipCode,isPreferredShipping:t.isPreferredShipping,isPreferredBilling:t.isPreferredBilling},j(e)}}),[$,W,J]);(0,t.useEffect)((()=>{N||(()=>{if(!b){let e;e=(0,r.G)(c.z,["isPreferredShipping","isShippingAndBilling","isPreferredBilling"]),le&&(ye(I,"countryId"),(0,o.t5)(D,"cityId",l.fV.DISABLED,!0)),j(e)}})()}),[le,h]),(0,t.useEffect)((()=>{if(J){let e={...D};"Billing"===J.type?e=(0,r.G)(c.z,["isShippingAndBilling","isPreferredShipping"]):"Shipping"===J.type?e=(0,r.G)(c.z,["isShippingAndBilling","isPreferredBilling"]):"AP"!==J.type&&"Primary"!==J.type||(e=(0,r.G)(c.z,["isShippingAndBilling","isPreferredBilling","isPreferredShipping"])),e.initialState={customerId:!1===i?d:0,supplierId:!0===i?d:0,addressTypeId:J.addressTypeId,addressLine1:J.addressLine1,addressLine2:J.addressLine2,addressLine3:J.addressLine3,addressLine4:J.addressLine4,addressLine5:J.addressLine5,countryId:J.countryId,stateId:J.stateId,cityId:J.cityId,zipCode:J.zipCode,isPreferredShipping:J.isPreferredShipping,isPreferredBilling:J.isPreferredBilling},j(e)}}),[J]);const me=(e,i)=>{if(e&&i){if(x&&x(),i.errorMessage.includes("exists"))return u.A.warning(i.errorMessage),void Z(d);(0,n.t)(c.z,j,null),u.A.success(i.errorMessage),N?F():(Z(d),A()),A()}},fe=(e,d,i,t)=>{const s=((e,d,i)=>d?i?e.addressTypeId&&"object"===typeof e.addressTypeId?String(e.addressTypeId.value):String(e.addressTypeId):Array.isArray(e.addressTypeId)?e.addressTypeId.map(String).join(","):e.addressTypeId:e.addressTypeId&&"object"===typeof e.addressTypeId?String(e.addressTypeId.value):String(e.addressTypeId))(e,d,t),l=(e,d)=>"object"===typeof e?e.isNew?{id:0,name:e.text||""}:{id:e.value||e.id||0,name:d||""}:{id:e||0,name:d||""},{id:a,name:n}=l(e.stateId,e.stateName),{id:r,name:o}=l(e.cityId,e.cityName);return{...e,[d?"supplierId":"customerId"]:i,addressTypeId:Ie(s),countryId:Ie(e.countryId),stateId:a,cityId:r,stateName:n,cityName:o}},Ie=e=>e&&"object"===typeof e?e.value:e,ge=e=>{e&&Z(e)},ye=(e,d)=>{const t={...D};if("countryId"===d)(0,o.Xh)(le,"stateId","name",t,"stateId",(d=>d.countryId===e.value)),(0,o.Xh)(null,"cityId","name",t,"cityId",null),(0,o.t5)(t,"stateId",l.fV.DISABLED,!1),P.current.updateFormFieldValue({countryId:e.value,stateId:null,cityId:null});else if("stateId"===d)e?(ee(e.value),(0,o.t5)(t,"cityId",l.fV.DISABLED,!1),P.current.updateFormFieldValue({stateId:e.value,cityId:null})):P.current.updateFormFieldValue({cityId:null});else if(!i&&"addressTypeId"===d){let d;switch(e.label){case"Billing":d=b?c.z.formFields.filter((e=>"isPreferredShipping"!==e.dataField&&"isShippingAndBilling"!==e.dataField)):c.z.formFields.filter((e=>"isPreferredShipping"!==e.dataField));break;case"Shipping":d=b?c.z.formFields.filter((e=>"isPreferredBilling"!==e.dataField&&"isShippingAndBilling"!==e.dataField)):c.z.formFields.filter((e=>"isPreferredBilling"!==e.dataField));break;case"AP":case"Primary":d=c.z.formFields.filter((e=>"isPreferredBilling"!==e.dataField&&"isPreferredShipping"!==e.dataField&&"isShippingAndBilling"!==e.dataField));break;default:d=c.z.formFields}t.formFields=d,t.initialState={...b?D.initialState:c.z.initialState,addressTypeId:e.value},j(t)}};(0,t.useEffect)((()=>{let e={...D};if("isShippingAndBilling"===O&&!1===R&&1===e.initialState.addressTypeId){let e;e=(0,r.G)(D,["isPreferredShipping"]),j(e)}else if("isShippingAndBilling"===O&&!1===R&&2===e.initialState.addressTypeId){let e;e=(0,r.G)(D,["isPreferredBilling"]),j(e)}}),[R,O]),(0,t.useImperativeHandle)(T,(()=>({callChildEditFunction:ge})));const Se={DDL_CHANGED:ye,CHECK_CHANGE:(e,d)=>{if(k(e),z(d),"isShippingAndBilling"===d&&e){const e={...D};let d;d=c.z.formFields,e.formFields=d,j(e)}},DA_CHANGED:(e,d)=>{"stateId"===d?((0,o.t5)(D,"cityId",l.fV.ISTEXT,e),P.current.updateFormFieldValue({cityId:null})):"cityId"===d&&(e||((0,o.t5)(D,"stateId",l.fV.ISTEXT,e),P.current.updateFormFieldValue({cityId:null})))}};return(0,f.jsxs)("div",{className:"row mt-2 add-address-form",children:[(0,t.createElement)(a.A,{config:D,ref:P,...D,onActionChange:Se,onDropdownAction:Se,onCheckBoxChange:Se,key:w}),(0,f.jsx)("div",{className:"col-md-12 mt-2",children:(0,f.jsxs)("div",{className:"d-flex align-item-end justify-content-end",children:[(0,f.jsx)(s.A,{buttonTypeClassName:"theme-button",buttonText:b?"Update":"Save",onClick:async()=>{const e=P.current.getFormData();if(!e)return;const t=fe(e,i,d,b);if(b){const e=((e,d,i)=>{const t=((e,d)=>!1===e&&d?d.customerAddressId:0)(i,d),s=((e,d)=>!0===e&&d?d.supplierAddressId:0)(i,d);return{...e,addressId:null===d?G:d.addressId,customerAddressId:t,supplierAddressId:s}})(t,J,i);X(e)}else{const e=B||t.customerId,d={...t,customerId:e};_(d)}},isLoading:H||q,isDisable:C}),(0,f.jsx)(s.A,{buttonTypeClassName:"dark-btn ml-5",buttonText:"Cancel",onClick:A})]})})]})}))},5112:(e,d,i)=>{i.d(d,{PD:()=>a,Pt:()=>r,x7:()=>n});var t=i(79663),s=i(75707),l=i(27929);const a={columns:[{name:"Search Match (%)",fieldName:"matchPercentage",colType:t.f.CUSTOM,colStyle:{width:"10%"},renderCustomCol:e=>(0,l.jsx)(l.Fragment,{children:null!==e&&void 0!==e&&e.matchPercentage?`${e.matchPercentage} %`:"N/A"})},{name:"Name",fieldName:"name",colStyle:{width:"20%"}},{name:"Tax Id",fieldName:"taxId",colStyle:{width:"10%"}},{name:"Country",fieldName:"countryName",colStyle:{width:"15%"}},{name:"Email",fieldName:"emailAddress",colStyle:{width:"15%"}},{name:"Group Type",fieldName:"groupType",colStyle:{width:"15%"}},{name:"Status",fieldName:"status",allowShort:!1,colType:t.f.LABLE,colStyle:{width:"14%"},colSettings:{valueField:"status",getLableClass:s.x}},{name:"Action",colStyle:{width:"8%"},colType:t.f.ACTION,defaultAction:{allowEdit:!0,allowDisable:!1}}]},n={columns:[{name:"Customer Name",fieldName:"customerName",colStyle:{width:"25%"}},{name:"Po Number",fieldName:"poNumber",colStyle:{width:"25%"}},{name:"Order Received Date",colStyle:{width:"25%"},fieldName:"orderReceivedDate",colType:t.f.DATE,colSettings:{isUTC:!0,format:"MM/DD/YYYY hh:mm A "}},{name:"Action",colStyle:{width:"25%",textAlign:"center",justifyContent:"center"},colType:t.f.ACTION,defaultAction:{allowEdit:!0,allowDisable:!1}}]},r={columns:[{name:"Name",fieldName:"name",colStyle:{width:"10%"}},{name:"Tax Id",fieldName:"taxId",colStyle:{width:"10%"}},{name:"Website",fieldName:"website",colStyle:{width:"10%"}},{name:"Email",fieldName:"emailAddress",colStyle:{width:"15%"}},{name:"Reason",fieldName:"reason",colStyle:{width:"30%"}},{name:"Status",fieldName:"status",allowShort:!1,colType:t.f.LABLE,colStyle:{width:"12%"},colSettings:{valueField:"status",getLableClass:s.x}},{name:"Action",colStyle:{width:"8%"},colType:t.f.ACTION,defaultAction:{allowEdit:!0,allowDisable:!1}}]}},41997:(e,d,i)=>{i.r(d),i.d(d,{default:()=>p});var t=i(27565),s=i(5112),l=i(17295),a=i(79742),n=i(74573),r=i(65748),o=i(17690),c=i(62360),u=i(27929);const p=(0,t.forwardRef)((e=>{let{parentRef:d,isSupplier:i,getExistingInfoByName:p,isOrderManage:m}=e;const f=(0,t.useRef)(),[I,g]=(0,t.useState)(!1),[y,S]=(0,t.useState)([]),[h,b]=(0,t.useState)(!1),[C,{isFetching:x,isSuccess:A,data:T}]=p();(0,t.useEffect)((()=>{b(!1)}),[]),(0,t.useEffect)((()=>{!x&&A&&T&&h&&(T.length>0?(g(!0),S(T)):r.A.info(o.K.NoFound))}),[x,A,T]);const N=e=>{C(e),b(!0)},v={EDIT:e=>{let d;d=i?`/SupplierDetails/${(0,n.rS)(e.supplierId)}`:`/CustomerDetails/${(0,n.rS)(e.customerId)}`,window.open(d,"_blank")}};return(0,t.useImperativeHandle)(d,(()=>({callChildFunction:N}))),(0,u.jsx)(a.default,{modalTitle:m?"Order Information":i?" Existing Supplier Information":"Existing Customer Information",contentClass:"content-75 basic-info-model",onClose:()=>{g(!1),b(!1)},isOpen:I,children:(0,u.jsx)("div",{className:"pop-up-input-btn mt-3",children:(0,u.jsx)(l.default,{children:(0,u.jsx)("div",{className:"row input-list-button",children:(0,u.jsx)("div",{className:"col-lg-12 table-striped",children:(0,u.jsx)(c.A,{ref:f,configuration:m?s.x7:s.PD,dataSource:y,onActionChange:v,isLoading:x})})})})})})}))},78328:(e,d,i)=>{i.r(d),i.d(d,{default:()=>A});var t=i(27565),s=i(69885),l=i(15335),a=i(28734);const n={initialState:{customerId:"",subCustomerMainCustomerId:null,poNumber:"",isBillingId:"",isShippingId:"",orderMethodId:"",orderReceivedDate:new Date},formFields:[{id:"customerId",lable:"Customer Name ",Field_Name:"Customer Name",fieldType:l.Q.CUSTOMSELECT,dataField:"customerId",fieldSetting:{placeholder:"Enter Customer Name",allowSpace:!0,maxLength:50,exemptBoundarySpaces:!0,validation:[{type:"require"}],isEnableOnChange:!0},style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-6 mb-input"},validation:[{type:"require"}],dropdownSettings:{colorMap:{Approved:"#00b100",Pending:"#ffd500",Block:"#6444d8",Disable:"#808080",Freeze:"#867bf2",Reject:"#ff4c51",Submitted:"#06bcd2"},textMap:{Approved:{text:"Approved"},Pending:{text:"Pending"},Block:{text:"Blocked"},Disable:{text:"Disabled"},Freeze:{text:"Freezed"},Reject:{text:"Rejected"},Submitted:{text:"Submitted"}},iconMap:{Approved:s.m.ActiveIcon,Pending:s.m.PendingIcon,Block:s.m.BlockedIcon,Disable:s.m.disablethemeIcone,Freeze:s.m.freezeblueIcone,Reject:s.m.RejectedIcon}},inputButtonGroup:{isInputButton:!0,buttonText:"Add",icon:s.m.PlusIcon,GetByID:a.Pb.CustomerName}},{id:"subCustomerMainCustomerId",lable:"Sub-Customer Name",Field_Name:"Sub-Customer Name",fieldType:l.Q.CUSTOMSELECT,dataField:"subCustomerMainCustomerId",fieldSetting:{placeholder:"Enter Sub-Customer Name",allowSpace:!0,maxLength:50,exemptBoundarySpaces:!0,validation:[{type:"require"}],isEnableOnChange:!0},style:{containerCss:"col-xxl-6 col-xl-6 col-md-6 col-6 mb-input"},dropdownSettings:{colorMap:{Approved:"#00b100",Pending:"#ffd500",Block:"#6444d8",Disable:"#808080",Freeze:"#867bf2",Reject:"#ff4c51",Submitted:"#06bcd2"},textMap:{Approved:{text:"Approved"},Pending:{text:"Pending"},Block:{text:"Blocked"},Disable:{text:"Disabled"},Freeze:{text:"Freezed"},Reject:{text:"Rejected"},Submitted:{text:"Submitted"}},iconMap:{Approved:s.m.ActiveIcon,Pending:s.m.PendingIcon,Block:s.m.BlockedIcon,Disable:s.m.disablethemeIcone,Freeze:s.m.freezeblueIcone,Reject:s.m.RejectedIcon}},inputButtonGroup:{isInputButton:!0,buttonText:"Add",icon:s.m.PlusIcon,GetByID:a.Pb.SubCustomer}},{id:"poNumber",lable:"PO Number ",Field_Name:"PO Number",fieldType:l.Q.INPUT,dataField:"poNumber",fieldSetting:{placeholder:"Enter PO Number",allowSpace:!0,maxLength:50,exemptBoundarySpaces:!0},validation:[{type:"require"},{type:"uniqueName"}],style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-4 mb-input"},inputButtonGroupConfig:{isPrimaryButtonVisible:!0,primaryButtonText:"Verify",infoButtonConfig:{isInfoButtonVisible:!0,infoButtonIcon:"fa-search",infoButtonTooltip:"PO Number"}}},{id:"orderMethodId",lable:"Order Method ",Field_Name:"Order Method",fieldType:l.Q.SELECT,dataField:"orderMethodId",fieldSetting:{isDisabled:!1,placeholder:"Select Order Method",isEnableOnChange:!0},validation:[{type:"require"}],style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-12 mb-input label-name-small"}},{id:"orderReceivedDate",lable:"Order Received Date :",Field_Name:"Order Received Date",fieldType:l.Q.DATEPICKER,dataField:"orderReceivedDate",fieldSetting:{placeholder:"Enter Order Received Date",options:[]},validation:[{type:"require"},{type:"text"}],style:{containerCss:"col-4 mb-2"}},{id:"isBillingId",lable:"Billing Address ",Field_Name:"Billing Address ",fieldType:l.Q.SELECT,dataField:"isBillingId",fieldSetting:{placeholder:"Select Billing Address",isEnableOnChange:!0,isMultiSelect:!1,isDisabled:!1},validation:[{type:"require"}],style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-4 mb-input"}},{id:"isShippingId",lable:"Shipping Address ",Field_Name:"shipping Address ",fieldType:l.Q.SELECT,dataField:"isShippingId",fieldSetting:{placeholder:"Select Shipping Address",isEnableOnChange:!0,isMultiSelect:!1,isDisabled:!1},validation:[{type:"require"}],style:{containerCss:"col-xxl-4 col-xl-4 col-md-4 col-4 mb-input"},inputButtonGroup:{isInputButton:!0,buttonText:"Add",icon:s.m.PlusIcon,GetByID:a.RX.SHIPPING}}]};var r=i(18637),o=i(80889),c=i(5022),u=i(58412),p=i(79742),m=i(24014),f=i(69377),I=i(49295),g=i(71509),y=i(48357),S=i(39973),h=i(65748),b=i(41997),C=i(11030),x=i(27929);const A=e=>{let{onHandleOrderInformation:d}=e;const i=(0,t.useRef)(),l=(0,t.useRef)(),A=(0,C.Zp)(),[T,N]=(0,t.useState)(n),[v,F]=(0,t.useState)(!1),{blocked:B}=(0,o.A)(),[E,{isFetching:L,isSuccess:P,data:D}]=(0,c.gQ)(),[j,{isFetching:w,isSuccess:M,data:O}]=(0,c.EV)(),[z,R]=(0,t.useState)(!1),[k,G]=(0,t.useState)(null),[V,_]=(0,t.useState)(null),[H,Q]=(0,t.useState)(null),[U,X]=(0,t.useState)(""),{nextStepRef:q,orderCustomerId:K,setOrderCustomerId:Y,moveNextPage:Z,orderId:$}=(0,t.useContext)(y.A),[W,{isFetching:J,isSuccess:ee,data:de}]=(0,c.HG)(),[ie,{isFetching:te,isSuccess:se,data:le}]=(0,c.HG)(),[ae,{isSuccess:ne,data:re}]=(0,g.Yj)(),[oe,{isSuccess:ce,data:ue}]=(0,c.gU)(),[pe,{isSuccess:me,data:fe}]=(0,S.Ir)();(0,t.useEffect)((()=>{if(ne&&re){const e=e=>e.isForCustomers;(0,u.Xh)(re,"addressTypeId","type",m.z,"addressTypeId",e)}}),[ne,re]),(0,t.useEffect)((()=>{ce&&ue&&(0,u.Xh)(ue,"orderMethodId","orderMethod",n,"orderMethodId")}),[ce,ue]),(0,t.useEffect)((()=>{if(K){let e={customerId:K,addressTypeId:a.RX.SHIPPING};W(e)}}),[K]),(0,t.useEffect)((()=>{if(K){let e={customerId:K,addressTypeId:a.RX.BILLING};ie(e)}}),[K]),(0,t.useEffect)((()=>{ae(),oe()}),[]),(0,t.useEffect)((()=>{if(!J&&ee&&de){const e=de.map((e=>({value:e.addressId,label:e.addressLine1})));N((d=>{var i;const t={...d},s=null===(i=t.formFields)||void 0===i?void 0:i.find((e=>"isShippingId"===e.dataField));return s&&(s.fieldSetting.options=e),t}))}}),[J,ee,de]),(0,t.useEffect)((()=>{if(!te&&se&&le){const e=le.map((e=>({value:e.addressId,label:e.addressLine1})));N((d=>{var i;const t={...d},s=null===(i=t.formFields)||void 0===i?void 0:i.find((e=>"isBillingId"===e.dataField));return s&&(s.fieldSetting.options=e),t}))}}),[te,se,le]);const Ie=()=>{R(!1)};(0,t.useEffect)((()=>{E()}),[]),(0,t.useEffect)((()=>{if(!L&&P&&D){var e;const d=D.map((e=>({value:e.customerId,label:e.name,date:e.createdAt,status:e.statusName,isBuyingForThirdParty:e.isBuyingForThirdParty})));let i={...T};(null===i||void 0===i||null===(e=i.formFields)||void 0===e?void 0:e.find((e=>"customerId"===e.dataField))).fieldSetting.options=d,N(i)}}),[L,P,D]),(0,t.useEffect)((()=>{if(!w&&M&&O){const e=O.map((e=>({value:e.subCustomerId,label:e.subCustomerName})));N((d=>{var i;const t={...d},s=null===(i=t.formFields)||void 0===i?void 0:i.find((e=>"subCustomerMainCustomerId"===e.dataField));return s&&(s.fieldSetting.options=e),t}))}}),[w,M,O]),(0,t.useEffect)((()=>{v||N((e=>({...e,formFields:e.formFields.filter((e=>"subCustomerMainCustomerId"!==e.dataField))})))}),[v]);const ge={DDL_CHANGED:async(e,d)=>{if("Block"===e.status){if(await B("Blocked !","The selected customer is currently blocked. Please choose a different customer","OK","Cancel"))return}if("customerId"===d&&(Y(e.value),e.isBuyingForThirdParty?(F(!0),j(e.value),N({...n}),i.current.updateFormFieldValue({customerId:e.value,subCustomerMainCustomerId:null,isBillingId:null,isShippingId:null}),G(null),_(null)):F(!1)),e.value&&"isShippingId"===d){const d=null===de||void 0===de?void 0:de.filter((d=>d.addressId===e.value));G(d.length?d[0]:null)}if(e.value&&"isBillingId"===d){const d=null===le||void 0===le?void 0:le.filter((d=>d.addressId===e.value));_(d.length?d[0]:null)}}};(0,t.useEffect)((()=>{me&&fe&&fe.errorMessage.includes("exists")&&h.A.warning(fe.errorMessage)}),[me,fe]);const ye={...T};v||(ye.formFields=ye.formFields.filter((e=>"subCustomerMainCustomerId"!==e.dataField)));const Se={INPUT_CHANGED:(e,d)=>{if("poNumber"===d){const d=e.replace(/\s+/g,"");X(d)}}};(0,t.useImperativeHandle)(q,(()=>({handleAddOrderInformation:he})));const he=async()=>{let e=i.current.getFormData();if(e&&e.customerId&&e.poNumber){let i={customerId:e.customerId&&"object"===typeof e.customerId?e.customerId.value:e.customerId,poNumber:e.poNumber},t=await pe(i);if(t.data){if(t.data.errorMessage.includes("PO Number already exists"))return;{let i={orderId:$||0,orderMethodId:e.orderMethodId&&"object"===typeof e.orderMethodId?e.orderMethodId.value:e.orderMethodId,orderReceivedDate:e.orderReceivedDate,orderAddressId:0,customerId:e.customerId&&"object"===typeof e.customerId?e.customerId.value:e.customerId,subCustomerId:e.subCustomerMainCustomerId&&"object"===typeof e.subCustomerMainCustomerId?e.subCustomerMainCustomerId.value:e.subCustomerMainCustomerId,poNumber:e.poNumber,billingAddressId:e.isBillingId&&"object"===typeof e.isBillingId?e.isBillingId.value:e.isBillingId,shippingAddressId:e.isShippingId&&"object"===typeof e.isShippingId?e.isShippingId.value:e.isShippingId};d(i),Z()}}}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"row",children:(0,x.jsx)(r.A,{config:T,ref:i,...T,onActionChange:ge,handleInputGroupButton:e=>{if(K)if("number"===typeof e&&e>0)Q(e),R(!z);else if("number"!==typeof e&&e.target&&"Verify"===e.target.textContent){if(""!==U){pe({customerId:K,poNumber:U})}}else"CustomerName"!==e&&"SubCustomer"!==e||A("/addCustomer");else"CustomerName"===e||"SubCustomer"===e?A("/addCustomer"):h.A.warning("Please select customer")},onInputChange:Se,onClick:he,handleInputShowInfo:()=>{""!==U&&U.trim().length>=3?l.current&&l.current.callChildFunction(U):h.A.warning("Please enter at least three characters.")}})}),(0,x.jsxs)("div",{className:"row address-group",children:[V&&(0,x.jsxs)("div",{className:"col-4",children:[(0,x.jsx)("h6",{children:"Billing Address"}),(0,x.jsx)("div",{className:"address",children:V?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:V.addressLine1}),(0,x.jsx)("div",{children:V.addressLine2}),(0,x.jsx)("div",{children:V.cityName}),(0,x.jsx)("div",{children:V.stateName}),(0,x.jsxs)("div",{children:[V.countryName,","," ",V.zipCode]})]}):(0,x.jsx)(f.A,{message:"No Address Found"})})]}),k&&(0,x.jsxs)("div",{className:"col-4",children:[(0,x.jsx)("h6",{children:"Shipping Address"}),(0,x.jsx)("div",{className:"address",children:k?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:k.addressLine1}),(0,x.jsx)("div",{children:k.addressLine2}),(0,x.jsx)("div",{children:k.cityName}),(0,x.jsx)("div",{children:k.stateName}),(0,x.jsxs)("div",{children:[k.countryName,","," ",k.zipCode]})]}):(0,x.jsx)(f.A,{message:"No Address Found"})})]})]}),(0,x.jsx)(b.default,{parentRef:l,isOrderManage:!0,isSupplier:!1,getExistingInfoByName:S.dh}),(0,x.jsx)(p.default,{modalTitle:"Add/Edit Address",contentClass:"content-35",onClose:Ie,modalTitleIcon:s.m.AddIcon,isOpen:z,children:(0,x.jsx)(I.default,{isModelOpen:z,isOrderManage:!0,updateAddress:g.Tg,addAddress:g.MC,getAddresssById:g.ZS,onSidebarClose:Ie,getAddressTypeIdOrder:H,orderCustomerId:K,onHandleOrderInfoRepeatCall:()=>{let e={customerId:K,addressTypeId:a.RX.SHIPPING};W(e)}})})]})}},75707:(e,d,i)=>{i.d(d,{x:()=>t});const t=e=>{switch(e){case"Active":return"status-btn badge-gradient-success";case"Open":default:return"status-btn badge-gradient-info";case"In Active":return"status-btn badge-gradient-danger";case"Pending":return"status-btn badge-gradient-Pending";case"In progress":return"status-btn badge-gradient-theme";case"Submitted":return"status-btn badge-gradient-Submitted";case"Approved":return"status-btn badge-gradient-Approved";case"Freeze":return"status-btn badge-gradient-Frozen";case"Block":return"status-btn badge-gradient-Blocked";case"Reject":return"status-btn badge-gradient-reject";case"Disable":return"status-btn badge-gradient-disabled"}}}}]);
//# sourceMappingURL=8328.f8a9fbb3.chunk.js.map