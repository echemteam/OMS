"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8748],{58748:(e,l,a)=>{a.r(l),a.d(l,{default:()=>p});var s=a(27565),t=a(80889),n=a(42265),i=a(14490),r=a(69885),o=a(60497),c=a(27929);const d=e=>{let{type:l=n.G.FILE,name:a="",placeholder:t=`Please Enter ${a}`,filename:d,onChange:u,onClear:m,onBlur:p,onActionClick:f,cssClass:h="input-field",isDisable:b,isButtonVisible:x,acceptedFiles:v,isCustomButtonVisible:F,dataField:j,fieldActions:g,isMultiple:C=!1,...N}=e;const[D,w]=(0,s.useState)(null),A=(0,s.useRef)(),y=()=>{m&&(A.current.value=null,w(null),d=null,m())};return(0,s.useEffect)((()=>{d&&"object"===typeof d?w(d.name||d.fileName):d?w(d):(w(null),A.current.value=null,y()),null!==N&&void 0!==N&&N.isFileNameCleared&&y()}),[d]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"form-field custom-file-uploader "+(b?"field-disabled":""),children:[(0,c.jsx)("input",{ref:A,id:a,name:a,filename:D||null,type:l||"file",className:h,placeholder:t,onChange:e=>{u(e)},onBlur:p,disabled:b,accept:v,multiple:C}),(0,c.jsxs)("div",{className:"custom-file-selector-design",children:[(0,c.jsx)(i.A,{imagePath:r.m.Uploaddocumenticon,altText:"Please Upload File"}),D?(0,c.jsx)("p",{className:"file-name",children:D}):(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"drag-drop-txt",children:[(0,c.jsx)("p",{children:"Drag & Drop Your File"}),""===v?(0,c.jsx)("span",{className:"small-txt",children:"All File Formats we support"}):(0,c.jsxs)("span",{className:"small-txt",children:[v,"Formats we support"]})]})}),D?null:(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"buttons",children:(0,c.jsx)(o.A,{textWithIcon:!0,imagePath:r.m.UploadIcon,buttonTypeClassName:"upload-button",buttonText:"Upload Manually",onClick:y})})}),F&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"row clear-buttons clear-btn-sec",children:D&&(0,c.jsx)(o.A,{buttonTypeClassName:"btn dark-btn",buttonText:"Clear",onClick:y})})})]}),x&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"row clear-buttons",children:D&&(0,c.jsx)("span",{className:"dark-btn",onClick:y,children:"X"})})})]})})},u=s.lazy((()=>Promise.resolve().then(a.bind(a,26523)))),m=s.lazy((()=>Promise.resolve().then(a.bind(a,36924)))),p=e=>{let{labelName:l,name:a,onChange:n,onValidation:i,dataField:r,error:o,formSetting:p,overRideProps:f,fieldActions:h,isRequired:b,fileFormate:x,...v}=e;const[F,j]=(0,s.useState)(!1),[g,C]=(0,s.useState)(null),{info:N}=(0,t.A)(),D=()=>{h&&h("CLEAR"),C(null),j(!1),v.value=null};return(0,s.useEffect)((()=>{j(!!g)}),[g]),(0,s.useEffect)((()=>{v.value?C(v.value):(C(null),v.isDownloadable=!1)}),[v.value]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"input-label-part",children:[l&&""!==l&&(0,c.jsx)(u,{labelName:l,for:a,isRequired:b}),(0,c.jsx)(d,{onClear:D,filename:g,onChange:async e=>{if(n)if("file"!==e.target.type)C(null),n(r,e.target.value);else if(e.target.files[0]){const l=e.target.files[0];C(l);const a=v.acceptedFiles?v.acceptedFiles.split(",").map((e=>e.trim())):[];if(!((e,l)=>{if(0===l.length)return!0;const a=e.split(".").pop().toLowerCase();return l.includes(`.${a}`)})(l.name,a))return N("File Type doesn't match",`Please select file with extension ${a}`),C(null),v.value=null,void D();const s=e.target.files;let t=v.isMultiple?Array.from(s).map((e=>e.name)).join(", "):s[0].name;if(v.isMultiple){const e=Array.from(s).map((e=>new Promise(((l,a)=>{const s=new FileReader;s.onload=a=>{l({fileName:e.name,base64Data:a.target.result})},s.onerror=a,s.readAsDataURL(e)}))));await Promise.all(e).then((e=>{n(r,e)})).catch((e=>{console.error("Error reading files:",e)}))}else{const e=new FileReader;e.onload=e=>{const a=e.target.result,s={fileName:l.name,base64Data:a};n(r,s)},e.readAsDataURL(l)}h&&v&&h("DDL_FILE",r,t)}},onActionClick:()=>{if(h){const e={contractInputFile:v.value};h("DOWNLOAD",e)}},onBlur:()=>{i&&i(r)},isButtonVisible:F,isDisable:(null===p||void 0===p?void 0:p.isViewOnly)||(null===v||void 0===v?void 0:v.isDisable)||(null===f||void 0===f?void 0:f.isDisable),isDownloadButton:v.isDownloadable,acceptedFiles:v.acceptedFiles,fileFormate:x,dataField:r,fieldActions:h,...v})]}),(0,c.jsx)(m,{error:o||""})]})}}}]);
//# sourceMappingURL=8748.fcdbaec2.chunk.js.map